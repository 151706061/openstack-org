(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){(function(riot){__webpack_require__(2);var api=__webpack_require__(20);app=riot.mount("app",api)}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(window,undefined){"use strict";var riot={version:"v2.2.2",settings:{}};var T_STRING="string",T_OBJECT="object",T_UNDEF="undefined";var isArray=Array.isArray||function(){var _ts=Object.prototype.toString;return function(v){return _ts.call(v)==="[object Array]"}}();var ieVersion=function(win){return(window&&window.document||{}).documentMode|0}();riot.observable=function(el){el=el||{};var callbacks={},_id=0;el.on=function(events,fn){if(isFunction(fn)){if(typeof fn.id===T_UNDEF)fn._id=_id++;events.replace(/\S+/g,function(name,pos){(callbacks[name]=callbacks[name]||[]).push(fn);fn.typed=pos>0})}return el};el.off=function(events,fn){if(events=="*")callbacks={};else{events.replace(/\S+/g,function(name){if(fn){var arr=callbacks[name];for(var i=0,cb;cb=arr&&arr[i];++i){if(cb._id==fn._id)arr.splice(i--,1)}}else{callbacks[name]=[]}})}return el};el.one=function(name,fn){function on(){el.off(name,on);fn.apply(el,arguments)}return el.on(name,on)};el.trigger=function(name){var args=[].slice.call(arguments,1),fns=callbacks[name]||[];for(var i=0,fn;fn=fns[i];++i){if(!fn.busy){fn.busy=1;fn.apply(el,fn.typed?[name].concat(args):args);if(fns[i]!==fn){i--}fn.busy=0}}if(callbacks.all&&name!="all"){el.trigger.apply(el,["all",name].concat(args))}return el};return el};riot.mixin=function(){var mixins={};return function(name,mixin){if(!mixin)return mixins[name];mixins[name]=mixin}}();(function(riot,evt,win){if(!win)return;var loc=win.location,fns=riot.observable(),started=false,current;function hash(){return loc.href.split("#")[1]||""}function parser(path){return path.split("/")}function emit(path){if(path.type)path=hash();if(path!=current){fns.trigger.apply(null,["H"].concat(parser(path)));current=path}}var r=riot.route=function(arg){if(arg[0]){loc.hash=arg;emit(arg)}else{fns.on("H",arg)}};r.exec=function(fn){fn.apply(null,parser(hash()))};r.parser=function(fn){parser=fn};r.stop=function(){if(!started)return;win.removeEventListener?win.removeEventListener(evt,emit,false):win.detachEvent("on"+evt,emit);fns.off("*");started=false};r.start=function(){if(started)return;win.addEventListener?win.addEventListener(evt,emit,false):win.attachEvent("on"+evt,emit);started=true};r.start()})(riot,"hashchange",window);var brackets=function(orig){var cachedBrackets,r,b,re=/[{}]/g;return function(x){var s=riot.settings.brackets||orig;if(cachedBrackets!==s){cachedBrackets=s;b=s.split(" ");r=b.map(function(e){return e.replace(/(?=.)/g,"\\")})}return x instanceof RegExp?s===orig?x:new RegExp(x.source.replace(re,function(b){return r[~~(b==="}")]}),x.global?"g":""):b[x]}}("{ }");var tmpl=function(){var cache={},reVars=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(str,data){return str&&(cache[str]=cache[str]||tmpl(str))(data)};function tmpl(s,p){s=(s||brackets(0)+brackets(1)).replace(brackets(/\\{/g),"￰").replace(brackets(/\\}/g),"￱");p=split(s,extract(s,brackets(/{/),brackets(/}/)));return new Function("d","return "+(!p[0]&&!p[2]&&!p[3]?expr(p[1]):"["+p.map(function(s,i){return i%2?expr(s,true):'"'+s.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")').replace(/\uFFF0/g,brackets(0)).replace(/\uFFF1/g,brackets(1))+";")}function expr(s,n){s=s.replace(/\n/g," ").replace(brackets(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),"");return/^\s*[\w- "']+ *:/.test(s)?"["+extract(s,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(pair){return pair.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(_,k,v){return v.replace(/[^&|=!><]+/g,wrap)+'?"'+k+'":"",'})}).join("")+'].join(" ").trim()':wrap(s,n)}function wrap(s,nonull){s=s.trim();return!s?"":"(function(v){try{v="+(s.replace(reVars,function(s,_,v){return v?"(d."+v+"===undefined?"+(typeof window=="undefined"?"global.":"window.")+v+":d."+v+")":s})||"x")+"}catch(e){"+"}finally{return "+(nonull===true?'!v&&v!==0?"":v':"v")+"}}).call(d)"}function split(str,substrings){var parts=[];substrings.map(function(sub,i){i=str.indexOf(sub);parts.push(str.slice(0,i),sub);str=str.slice(i+sub.length)});return parts.concat(str)}function extract(str,open,close){var start,level=0,matches=[],re=new RegExp("("+open.source+")|("+close.source+")","g");str.replace(re,function(_,open,close,pos){if(!level&&open)start=pos;level+=open?1:-1;if(!level&&close!=null)matches.push(str.slice(start,pos+close.length))});return matches}}();function loopKeys(expr){var b0=brackets(0),els=expr.slice(b0.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/);return els?{key:els[1],pos:els[2],val:b0+els[3]}:{val:expr}}function mkitem(expr,key,val){var item={};item[expr.key]=key;if(expr.pos)item[expr.pos]=val;return item}function _each(dom,parent,expr){remAttr(dom,"each");var tagName=getTagName(dom),template=dom.outerHTML,hasImpl=!!tagImpl[tagName],impl=tagImpl[tagName]||{tmpl:template},root=dom.parentNode,placeholder=document.createComment("riot placeholder"),tags=[],child=getTag(dom),checksum;root.insertBefore(placeholder,dom);expr=loopKeys(expr);parent.one("premount",function(){if(root.stub)root=parent.root;dom.parentNode.removeChild(dom)}).on("update",function(){var items=tmpl(expr.val,parent);if(!isArray(items)){checksum=items?JSON.stringify(items):"";items=!items?[]:Object.keys(items).map(function(key){return mkitem(expr,key,items[key])})}var frag=document.createDocumentFragment(),i=tags.length,j=items.length;while(i>j){tags[--i].unmount();tags.splice(i,1)}for(i=0;i<j;++i){var _item=!checksum&&!!expr.key?mkitem(expr,items[i],i):items[i];if(!tags[i]){(tags[i]=new Tag(impl,{parent:parent,isLoop:true,hasImpl:hasImpl,root:hasImpl?dom.cloneNode():root,item:_item},dom.innerHTML)).mount();frag.appendChild(tags[i].root)}else tags[i].update(_item);tags[i]._item=_item}root.insertBefore(frag,placeholder);if(child)parent.tags[tagName]=tags}).one("updated",function(){var keys=Object.keys(parent);walk(root,function(node){if(node.nodeType==1&&!node.isLoop&&!node._looped){node._visited=false;node._looped=true;setNamed(node,parent,keys)}})})}function parseNamedElements(root,parent,childTags){walk(root,function(dom){if(dom.nodeType==1){dom.isLoop=dom.isLoop||(dom.parentNode&&dom.parentNode.isLoop||dom.getAttribute("each"))?1:0;var child=getTag(dom);if(child&&!dom.isLoop){var tag=new Tag(child,{root:dom,parent:parent},dom.innerHTML),tagName=getTagName(dom),ptag=parent,cachedTag;while(!getTag(ptag.root)){if(!ptag.parent)break;ptag=ptag.parent}tag.parent=ptag;cachedTag=ptag.tags[tagName];if(cachedTag){if(!isArray(cachedTag))ptag.tags[tagName]=[cachedTag];ptag.tags[tagName].push(tag)}else{ptag.tags[tagName]=tag}dom.innerHTML="";childTags.push(tag)}if(!dom.isLoop)setNamed(dom,parent,[])}})}function parseExpressions(root,tag,expressions){function addExpr(dom,val,extra){if(val.indexOf(brackets(0))>=0){var expr={dom:dom,expr:val};expressions.push(extend(expr,extra))}}walk(root,function(dom){var type=dom.nodeType;if(type==3&&dom.parentNode.tagName!="STYLE")addExpr(dom,dom.nodeValue);if(type!=1)return;var attr=dom.getAttribute("each");if(attr){_each(dom,tag,attr);return false}each(dom.attributes,function(attr){var name=attr.name,bool=name.split("__")[1];addExpr(dom,attr.value,{attr:bool||name,bool:bool});if(bool){remAttr(dom,name);return false}});if(getTag(dom))return false})}function Tag(impl,conf,innerHTML){var self=riot.observable(this),opts=inherit(conf.opts)||{},dom=mkdom(impl.tmpl),parent=conf.parent,isLoop=conf.isLoop,hasImpl=conf.hasImpl,item=cleanUpData(conf.item),expressions=[],childTags=[],root=conf.root,fn=impl.fn,tagName=root.tagName.toLowerCase(),attr={},propsInSyncWithParent=[],loopDom,TAG_ATTRIBUTES=/([\w\-]+)\s?=\s?['"]([^'"]+)["']/gim;if(fn&&root._tag){root._tag.unmount(true)}this.isMounted=false;root.isLoop=isLoop;if(impl.attrs){var attrs=impl.attrs.match(TAG_ATTRIBUTES);each(attrs,function(a){var kv=a.split(/\s?=\s?/);root.setAttribute(kv[0],kv[1].replace(/['"]/g,""))})}root._tag=this;this._id=fastAbs(~~((new Date).getTime()*Math.random()));extend(this,{parent:parent,root:root,opts:opts,tags:{}},item);each(root.attributes,function(el){var val=el.value;if(brackets(/\{.*\}/).test(val))attr[el.name]=val});if(dom.innerHTML&&!/select|select|optgroup|tbody|tr/.test(tagName))dom.innerHTML=replaceYield(dom.innerHTML,innerHTML);function updateOpts(){var ctx=hasImpl&&isLoop?self:parent||self;each(root.attributes,function(el){opts[el.name]=tmpl(el.value,ctx)});each(Object.keys(attr),function(name){opts[name]=tmpl(attr[name],ctx)})}function normalizeData(data){for(var key in item){if(typeof self[key]!==T_UNDEF)self[key]=data[key]}}function inheritFromParent(){if(!self.parent||!isLoop)return;each(Object.keys(self.parent),function(k){var mustSync=~propsInSyncWithParent.indexOf(k);if(typeof self[k]===T_UNDEF||mustSync){if(!mustSync)propsInSyncWithParent.push(k);self[k]=self.parent[k]}})}this.update=function(data){data=cleanUpData(data);inheritFromParent();if(typeof item===T_OBJECT||isArray(item)){normalizeData(data);item=data}extend(self,data);updateOpts();self.trigger("update",data);update(expressions,self);self.trigger("updated")};this.mixin=function(){each(arguments,function(mix){mix=typeof mix===T_STRING?riot.mixin(mix):mix;each(Object.keys(mix),function(key){if(key!="init")self[key]=isFunction(mix[key])?mix[key].bind(self):mix[key]});if(mix.init)mix.init.bind(self)()})};this.mount=function(){updateOpts();fn&&fn.call(self,opts);toggle(true);parseExpressions(dom,self,expressions);if(!self.parent||hasImpl)parseExpressions(self.root,self,expressions);if(!self.parent||isLoop)self.update(item);self.trigger("premount");if(isLoop&&!hasImpl){self.root=root=loopDom=dom.firstChild}else{while(dom.firstChild)root.appendChild(dom.firstChild);if(root.stub)self.root=root=parent.root}if(!self.parent||self.parent.isMounted){self.isMounted=true;self.trigger("mount")}else self.parent.one("mount",function(){if(!isInStub(self.root)){self.parent.isMounted=self.isMounted=true;self.trigger("mount")}})};this.unmount=function(keepRootTag){var el=loopDom||root,p=el.parentNode;if(p){if(parent)if(isArray(parent.tags[tagName]))each(parent.tags[tagName],function(tag,i){if(tag._id==self._id)parent.tags[tagName].splice(i,1)});else parent.tags[tagName]=undefined;else while(el.firstChild)el.removeChild(el.firstChild);if(!keepRootTag)p.removeChild(el)}self.trigger("unmount");toggle();self.off("*");root._tag=null};function toggle(isMount){each(childTags,function(child){child[isMount?"mount":"unmount"]()});if(parent){var evt=isMount?"on":"off";if(isLoop)parent[evt]("unmount",self.unmount);else parent[evt]("update",self.update)[evt]("unmount",self.unmount)}}parseNamedElements(dom,this,childTags)}function setEventHandler(name,handler,dom,tag){dom[name]=function(e){var item=tag._item,ptag=tag.parent;if(!item)while(ptag){item=ptag._item;ptag=item?false:ptag.parent}e=e||window.event;try{e.currentTarget=dom;if(!e.target)e.target=e.srcElement;if(!e.which)e.which=e.charCode||e.keyCode}catch(ignored){""}e.item=item;if(handler.call(tag,e)!==true&&!/radio|check/.test(dom.type)){e.preventDefault&&e.preventDefault();e.returnValue=false}if(!e.preventUpdate){var el=item?tag.parent:tag;el.update()}}}function insertTo(root,node,before){if(root){root.insertBefore(before,node);root.removeChild(node)}}function update(expressions,tag){each(expressions,function(expr,i){var dom=expr.dom,attrName=expr.attr,value=tmpl(expr.expr,tag),parent=expr.dom.parentNode;if(value==null)value="";if(parent&&parent.tagName=="TEXTAREA")value=value.replace(/riot-/g,"");if(expr.value===value)return;expr.value=value;if(!attrName)return dom.nodeValue=value.toString();remAttr(dom,attrName);if(isFunction(value)){setEventHandler(attrName,value,dom,tag)}else if(attrName=="if"){var stub=expr.stub;if(value){if(stub){insertTo(stub.parentNode,stub,dom);dom.inStub=false;if(!isInStub(dom)){walk(dom,function(el){if(el._tag&&!el._tag.isMounted)el._tag.isMounted=!!el._tag.trigger("mount")})}}}else{stub=expr.stub=stub||document.createTextNode("");insertTo(dom.parentNode,dom,stub);dom.inStub=true}}else if(/^(show|hide)$/.test(attrName)){if(attrName=="hide")value=!value;dom.style.display=value?"":"none"}else if(attrName=="value"){dom.value=value}else if(attrName.slice(0,5)=="riot-"&&attrName!="riot-tag"){attrName=attrName.slice(5);value?dom.setAttribute(attrName,value):remAttr(dom,attrName)}else{if(expr.bool){dom[attrName]=value;if(!value)return;value=attrName}if(typeof value!==T_OBJECT)dom.setAttribute(attrName,value)}})}function each(els,fn){for(var i=0,len=(els||[]).length,el;i<len;i++){el=els[i];if(el!=null&&fn(el,i)===false)i--}return els}function isFunction(v){return typeof v==="function"||false}function remAttr(dom,name){dom.removeAttribute(name)}function fastAbs(nr){return(nr^nr>>31)-(nr>>31)}function getTag(dom){var tagName=dom.tagName.toLowerCase();return tagImpl[dom.getAttribute(RIOT_TAG)||tagName]}function getTagName(dom){var child=getTag(dom),namedTag=dom.getAttribute("name"),tagName=namedTag&&namedTag.indexOf(brackets(0))<0?namedTag:child?child.name:dom.tagName.toLowerCase();return tagName}function extend(src){var obj,args=arguments;for(var i=1;i<args.length;++i){if(obj=args[i]){for(var key in obj){src[key]=obj[key]}}}return src}function cleanUpData(data){if(!(data instanceof Tag))return data;var o={},blackList=["update","root","mount","unmount","mixin","isMounted","isloop","tags","parent","opts"];for(var key in data){if(!~blackList.indexOf(key))o[key]=data[key]}return o}function mkdom(template){var checkie=ieVersion&&ieVersion<10,matches=/^\s*<([\w-]+)/.exec(template),tagName=matches?matches[1].toLowerCase():"",rootTag=tagName==="th"||tagName==="td"?"tr":tagName==="tr"?"tbody":"div",el=mkEl(rootTag);el.stub=true;if(checkie){if(tagName==="optgroup")optgroupInnerHTML(el,template);else if(tagName==="option")optionInnerHTML(el,template);else if(rootTag!=="div")tbodyInnerHTML(el,template,tagName);else checkie=0}if(!checkie)el.innerHTML=template;return el}function walk(dom,fn){if(dom){if(fn(dom)===false)walk(dom.nextSibling,fn);else{dom=dom.firstChild;while(dom){walk(dom,fn);dom=dom.nextSibling}}}}function isInStub(dom){while(dom){if(dom.inStub)return true;dom=dom.parentNode}return false}function mkEl(name){return document.createElement(name)}function replaceYield(tmpl,innerHTML){return tmpl.replace(/<(yield)\/?>(<\/\1>)?/gim,innerHTML||"")}function $$(selector,ctx){return(ctx||document).querySelectorAll(selector)}function $(selector,ctx){return(ctx||document).querySelector(selector)}function inherit(parent){function Child(){}Child.prototype=parent;return new Child}function setNamed(dom,parent,keys){each(dom.attributes,function(attr){if(dom._visited)return;if(attr.name==="id"||attr.name==="name"){dom._visited=true;var p,v=attr.value;if(~keys.indexOf(v))return;p=parent[v];if(!p)parent[v]=dom;else isArray(p)?p.push(dom):parent[v]=[p,dom]}})}function tbodyInnerHTML(el,html,tagName){var div=mkEl("div"),loops=/td|th/.test(tagName)?3:2,child;div.innerHTML="<table>"+html+"</table>";child=div.firstChild;while(loops--)child=child.firstChild;el.appendChild(child)}function optionInnerHTML(el,html){var opt=mkEl("option"),valRegx=/value=[\"'](.+?)[\"']/,selRegx=/selected=[\"'](.+?)[\"']/,eachRegx=/each=[\"'](.+?)[\"']/,ifRegx=/if=[\"'](.+?)[\"']/,innerRegx=/>([^<]*)</,valuesMatch=html.match(valRegx),selectedMatch=html.match(selRegx),innerValue=html.match(innerRegx),eachMatch=html.match(eachRegx),ifMatch=html.match(ifRegx);if(innerValue)opt.innerHTML=innerValue[1];else opt.innerHTML=html;if(valuesMatch)opt.value=valuesMatch[1];if(selectedMatch)opt.setAttribute("riot-selected",selectedMatch[1]);if(eachMatch)opt.setAttribute("each",eachMatch[1]);if(ifMatch)opt.setAttribute("if",ifMatch[1]);el.appendChild(opt)}function optgroupInnerHTML(el,html){var opt=mkEl("optgroup"),labelRegx=/label=[\"'](.+?)[\"']/,elementRegx=/^<([^>]*)>/,tagRegx=/^<([^ \>]*)/,labelMatch=html.match(labelRegx),elementMatch=html.match(elementRegx),tagMatch=html.match(tagRegx),innerContent=html;if(elementMatch){var options=html.slice(elementMatch[1].length+2,-tagMatch[1].length-3).trim();innerContent=options}if(labelMatch)opt.setAttribute("riot-label",labelMatch[1]);if(innerContent){var innerOpt=mkEl("div");optionInnerHTML(innerOpt,innerContent);opt.appendChild(innerOpt.firstChild)}el.appendChild(opt)}var virtualDom=[],tagImpl={},styleNode;var RIOT_TAG="riot-tag";function injectStyle(css){styleNode=styleNode||mkEl("style");if(!document.head)return;if(styleNode.styleSheet)styleNode.styleSheet.cssText+=css;else styleNode.innerHTML+=css;if(!styleNode._rendered)if(styleNode.styleSheet){document.body.appendChild(styleNode)}else{var rs=$("style[type=riot]");if(rs){rs.parentNode.insertBefore(styleNode,rs);rs.parentNode.removeChild(rs)}else document.head.appendChild(styleNode)}styleNode._rendered=true}function mountTo(root,tagName,opts){var tag=tagImpl[tagName],innerHTML=root._innerHTML=root._innerHTML||root.innerHTML;root.innerHTML="";if(tag&&root)tag=new Tag(tag,{root:root,opts:opts},innerHTML);if(tag&&tag.mount){tag.mount();virtualDom.push(tag);return tag.on("unmount",function(){virtualDom.splice(virtualDom.indexOf(tag),1)})}}riot.tag=function(name,html,css,attrs,fn){if(isFunction(attrs)){fn=attrs;if(/^[\w\-]+\s?=/.test(css)){attrs=css;css=""}else attrs=""}if(css){if(isFunction(css))fn=css;else injectStyle(css)}tagImpl[name]={name:name,tmpl:html,attrs:attrs,fn:fn};return name};riot.mount=function(selector,tagName,opts){var els,allTags,tags=[];function addRiotTags(arr){var list="";each(arr,function(e){list+=', *[riot-tag="'+e.trim()+'"]'});return list}function selectAllTags(){var keys=Object.keys(tagImpl);return keys+addRiotTags(keys)}function pushTags(root){if(root.tagName){if(tagName&&!root.getAttribute(RIOT_TAG))root.setAttribute(RIOT_TAG,tagName);var tag=mountTo(root,tagName||root.getAttribute(RIOT_TAG)||root.tagName.toLowerCase(),opts);if(tag)tags.push(tag)}else if(root.length){each(root,pushTags)}}if(typeof tagName===T_OBJECT){opts=tagName;tagName=0}if(typeof selector===T_STRING){if(selector==="*")selector=allTags=selectAllTags();else selector+=addRiotTags(selector.split(","));els=$$(selector)}else els=selector;if(tagName==="*"){tagName=allTags||selectAllTags();if(els.tagName)els=$$(tagName,els);else{var nodeList=[];each(els,function(_el){nodeList.push($$(tagName,_el))});els=nodeList}tagName=0}if(els.tagName)pushTags(els);else each(els,pushTags);return tags};riot.update=function(){return each(virtualDom,function(tag){tag.update()})};riot.mountTo=riot.mount;riot.util={brackets:brackets,tmpl:tmpl};if(typeof exports===T_OBJECT)module.exports=riot;else if(true)!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return window.riot=riot}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else window.riot=riot})(typeof window!="undefined"?window:undefined)},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);__webpack_require__(3);__webpack_require__(5);__webpack_require__(6);__webpack_require__(7);__webpack_require__(8);__webpack_require__(9);__webpack_require__(10);__webpack_require__(11);__webpack_require__(12);__webpack_require__(15);__webpack_require__(16);__webpack_require__(17);__webpack_require__(18);__webpack_require__(19);riot.tag("app",'<modal presentation="{ currentPresentation }" categories="{ summit.categories }" api="{ this.opts }"></modal> <navbar></navbar> <div class="container-fluid"> <rg-toast toasts="{ toasts }" position="bottomright"></rg-toast>  <div show="{ DisplayMode === \'tutorial\' }"> <tutorial></tutorial> </div>  <div show="{ DisplayMode === \'directory\' }"> <chairdirectory chairs="{ summit.chair_list }"></chairdirectory> </div>  <div show="{ DisplayMode === \'selections\' }"> <selection-manager categories="{ summit.categories }" api="{ this.opts }"></selection-manager> </div>   <div show="{ DisplayMode === \'browse\' }" class="row"> <div class="{ col-lg-4: details } { col-lg-12: !details }"> <div class="well well-sm"> <h4>{ summit.title } Presentation Submissions</h4> <hr> <div class="input-group"> <span class="input-group-addon" id="sizing-addon2"> <i if="{ !searchmode }" class="fa fa-search"></i> <i if="{ searchmode }" onclick="{ clearSearch }" class="fa fa-times"></i> </span> <form onsubmit="{search}"> <input type="text" id="app-search" class="form-control" placeholder="search..." aria-describedby="sizing-addon2"> </form> </div> </div> <categorymenu categories="{ summit.categories }" active="{ activeCategory }" if="{ !searchmode }"></categorymenu> <div if="{ searchmode && quantity }">Showing { quantity } results</div> <div if="{ quantity }" class="list-group" id="presentation-list"> <div class="row" show="{ !details }"> <div class="col-lg-9 col-md-9 hidden-sm hidden-xs"> &nbsp; </div> <div class="col-lg-1 col-md-1 hidden-sm hidden-xs" > Ave </div> <div class="col-lg-1 col-md-1 hidden-sm hidden-xs"> Count </div> <div class="col-lg-1 col-md-1 hidden-sm hidden-xs"> Total </div> </div>  <div class="presentation-list" id="presentation-list"> <presentationitem each="{ presentation, i in presentations }" activekey="{ activekey }" key="{ i }" data="{ presentation }" details="{details}"></presentationitem> </div> </div> <div if="{ !quantity && searchmode }">No results were found</div> </div> <div class="col-lg-8" show="{ details }"> <div class="panel panel-default" name="presentation-details"> <div class="panel-heading"> <h3 class="panel-title">Presentation Details <a href="#" onclick="{ closeDetails }"><i class="fa fa-times pull-right"></i></a></h3> </div> <div class="panel-body">  <div class="row"> <div class="col-lg-6"> <strong>Category:</strong> { currentPresentation.category_name } <br><a data-toggle="modal" data-target="#myModal" href="#"><i class="fa fa-random"></i>&nbsp;Suggest Category Change</a> </div> <div class="col-lg-6"> <div class="btn-group pull-right" role="group" >  <button if="{ currentPresentation.selected && currentPresentation.can_assign }" type="button" onclick="{ unselectPresentation }" class="btn btn-success select-button"><i class="fa fa-check-circle-o"></i> My List</button> <button if="{ !currentPresentation.selected && currentPresentation.can_assign }" type="button" onclick="{ selectPresentation }" class="btn btn-default select-button"><i class="fa fa-circle-o"></i> My List</button>  <button if="{ currentPresentation.group_selected && currentPresentation.can_assign }" type="button" onclick="{ groupUnselectPresentation }" class="btn btn-success select-button"><i class="fa fa-check-circle-o"></i> Team List</button> <button if="{ !currentPresentation.group_selected && currentPresentation.can_assign }" type="button" onclick="{ groupSelectPresentation }" class="btn btn-default select-button"><i class="fa fa-circle-o"></i> Team List</button> </div> </div> </div> <hr> <h2>{ currentPresentation.title }</h2> <h4>{ currentPresentation.level }</h4> <hr> <span class="label label-primary">Vote Count <span class="badge">{ currentPresentation.vote_count }</span></span> <span class="label label-primary">Vote Ave <span class="badge">{ currentPresentation.vote_average }</span></span> <span class="label label-primary">Vote Total <span class="badge">{ currentPresentation.total_points }</span></span> <span class="label label-info" show="{currentPresentation.comments.length}">Chair Comments: { currentPresentation.comments.length }</span> <hr> <raw content="{ currentPresentation.description }"></raw> <div each="{ currentPresentation.speakers }"> <hr> <h4>{ first_name }&nbsp;{ last_name }</h5> <p>{ title }</p> <raw content="{ bio }"></raw> </div> <div> </div> <div if="{ currentPresentation.comments[0] }"> <hr> <h4>Comments</h4> <comment each="{ currentPresentation.comments }"></comment> <hr> </div> <addcommentform api="{ this.opts }" presentation="{ currentPresentation }"></addcommentform> </div> </div> </div> </div>  </div>',function(opts){var self=this;this.sortitems=[];this.DisplayMode="browse";this.toasts=[];this.indexOf=function(id){var i=-1,index=-1;for(i=0;i<self.presentations.length;i++){if(self.presentations[i].id==id){index=i;break}}return index};this.categoryIndex=function(id){var i=-1,index=-1;for(i=0;i<self.summit.categories.length;i++){if(self.summit.categories[i].id==id){index=i;break}}return index};this.setActiveKey=function(key){self.activekey=key;id=self.presentations[key].id;opts.trigger("load-presentation-details",id);self.update()}.bind(this);this.setCategory=function(category){self.activekey=null;self.activeCategory=category;var id;if(category)id=category.id;opts.trigger("load-presentations",null,id)}.bind(this);riot.route(function(mode,action,id){if(mode==="presentations"){self.DisplayMode="browse";if(action==="show"&&id){opts.trigger("load-presentation-details",id);self.showDetails()}self.update()}if(mode==="selections"){self.DisplayMode="selections";self.update()}if(mode==="directory"){self.DisplayMode="directory";self.update()}if(mode==="tutorial"){self.DisplayMode="tutorial";self.update()}});this.on("mount",function(){console.log("window height",window.innerHeight);opts.trigger("load-summit-details");riot.route.exec(function(mode,action,id){if(mode==="presentations"){self.DisplayMode="browse";self.update()}if(mode==="selections"){self.DisplayMode="selections";self.update()}if(mode==="directory"){self.DisplayMode="directory";self.update()}if(mode==="tutorial"){self.DisplayMode="tutorial";self.update()}})});opts.on("summit-details-loaded",function(result){self.summit=result;self.setCategory(self.summit.categories[0])});self.sortPresentations=function(set,sortBy,order){if(order==="desc"){set.sort(function(a,b){return b[sortBy]-a[sortBy]})}else{set.sort(function(a,b){return a[sortBy]-b[sortBy]})}return set};opts.on("presentations-loaded",function(result){self.presentations=result;self.quantity=self.presentations.length;if(self.currentPresentation)self.activekey=self.indexOf(self.currentPresentation.id);self.update()});opts.on("presentation-details-loaded",function(result){for(var key in result){if(result[key]===""){result[key]=" "}}console.log("currentPresentation",result);self.currentPresentation=result;if(!self.searchmode){cat_index=self.categoryIndex(result.category_id);if(self.activeCategory!=self.summit.categories[cat_index]){self.activeCategory=self.summit.categories[cat_index];opts.trigger("load-presentations",null,result.category_id)}else{if(self.currentPresentation)self.activekey=self.indexOf(self.currentPresentation.id)}}self.update()});this.showDetails=function(){self.details=true;self.update()}.bind(this);this.closeDetails=function(){self.details=false}.bind(this);this.search=function(e){self.activekey=null;self.details=false;self.quantity=0;self.searchmode=true;opts.trigger("load-presentations",e.target[0].value)}.bind(this);this.selectPresentation=function(e){opts.trigger("select-presentation",self.currentPresentation.id)}.bind(this);this.unselectPresentation=function(e){opts.trigger("unselect-presentation",self.currentPresentation.id)}.bind(this);this.groupSelectPresentation=function(e){opts.trigger("group-select-presentation",self.currentPresentation.id)}.bind(this);this.groupUnselectPresentation=function(e){opts.trigger("group-unselect-presentation",self.currentPresentation.id)}.bind(this);opts.on("presentation-selected",function(){self.currentPresentation.selected=true;self.opts.trigger("load-selections",self.currentPresentation.category_id);self.toasts.push({text:"The presentation was added to your selection list.",timeout:6e3});presIndex=self.indexOf(self.currentPresentation.id);self.presentations[presIndex].selected=true;self.update()});opts.on("presentation-unselected",function(){self.currentPresentation.selected=false;presIndex=self.indexOf(self.currentPresentation.id);self.presentations[presIndex].selected=false;self.opts.trigger("load-selections",self.currentPresentation.category_id);self.toasts.push({text:"The presentation was removed from your selection list.",timeout:6e3});self.update()});opts.on("presentation-group-selected",function(){self.currentPresentation.group_selected=true;self.opts.trigger("load-selections",self.currentPresentation.category_id);self.toasts.push({text:"The presentation was added to the team selection list.",timeout:6e3});self.update()});opts.on("presentation-group-unselected",function(){self.currentPresentation.group_selected=false;self.opts.trigger("load-selections",self.currentPresentation.category_id);self.toasts.push({text:"The presentation was removed from the team selection list.",timeout:6e3});self.update()});this.clearSearch=function(){document.getElementById("app-search").value="";self.quantity=0;self.searchmode=false;opts.trigger("load-presentations",null,this.activeCategory.id);self.activekey=null;self.update()}.bind(this);Mousetrap.bind("n",function(){nextPresKey=self.activekey+1;if(nextPresKey+1>self.presentations.length)nextPresKey=0;self.setActiveKey(nextPresKey)});Mousetrap.bind("p",function(){nextPresKey=self.activekey-1;if(nextPresKey===-1)nextPresKey=self.presentations.length-1;self.setActiveKey(nextPresKey)});Mousetrap.bind("s",function(){if(self.currentPresentation.can_assign&&!self.currentPresentation.selected){self.selectPresentation()}})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);var Sortable=__webpack_require__(4);riot.tag("sortable",'<ul id="simpleList" class="list-group"> <li each="{ item, i in opts.items }" class="list-group-item" data-id="{ item.id }" data-order="{ item.order }" >{ item.title }</li> </ul>',".sortable-ghost { background-color: #E6E6E6; color: #E6E6E6!important; }",function(opts){var self=this;self.api=self.opts.api;self.items=self.opts.items;this.sendUpdatedSort=function(new_sort){self.api.trigger("save-sort-order",self.parent.listID,new_sort)}.bind(this);this.on("mount",function(){var simpleList=document.getElementById("simpleList");var sortable=Sortable.create(simpleList,{onUpdate:function(evt){self.sendUpdatedSort(sortable.toArray());self.update()}})})})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(factory){"use strict";if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=factory()}else if(typeof Package!=="undefined"){Sortable=factory()}else{window["Sortable"]=factory()}})(function(){"use strict";var dragEl,ghostEl,cloneEl,rootEl,nextEl,scrollEl,scrollParentEl,lastEl,lastCSS,oldIndex,newIndex,activeGroup,autoScroll={},tapEvt,touchEvt,RSPACE=/\s+/g,expando="Sortable"+(new Date).getTime(),win=window,document=win.document,parseInt=win.parseInt,supportDraggable=!!("draggable"in document.createElement("div")),_silent=false,_dispatchEvent=function(sortable,rootEl,name,targetEl,fromEl,startIndex,newIndex){var evt=document.createEvent("Event"),options=(sortable||rootEl[expando]).options,onName="on"+name.charAt(0).toUpperCase()+name.substr(1);evt.initEvent(name,true,true);evt.item=targetEl||rootEl;evt.from=fromEl||rootEl;
evt.clone=cloneEl;evt.oldIndex=startIndex;evt.newIndex=newIndex;if(options[onName]){options[onName].call(sortable,evt)}rootEl.dispatchEvent(evt)},abs=Math.abs,slice=[].slice,touchDragOverListeners=[],_autoScroll=_throttle(function(evt,options,rootEl){if(rootEl&&options.scroll){var el,rect,sens=options.scrollSensitivity,speed=options.scrollSpeed,x=evt.clientX,y=evt.clientY,winWidth=window.innerWidth,winHeight=window.innerHeight,vx,vy;if(scrollParentEl!==rootEl){scrollEl=options.scroll;scrollParentEl=rootEl;if(scrollEl===true){scrollEl=rootEl;do{if(scrollEl.offsetWidth<scrollEl.scrollWidth||scrollEl.offsetHeight<scrollEl.scrollHeight){break}}while(scrollEl=scrollEl.parentNode)}}if(scrollEl){el=scrollEl;rect=scrollEl.getBoundingClientRect();vx=(abs(rect.right-x)<=sens)-(abs(rect.left-x)<=sens);vy=(abs(rect.bottom-y)<=sens)-(abs(rect.top-y)<=sens)}if(!(vx||vy)){vx=(winWidth-x<=sens)-(x<=sens);vy=(winHeight-y<=sens)-(y<=sens);(vx||vy)&&(el=win)}if(autoScroll.vx!==vx||autoScroll.vy!==vy||autoScroll.el!==el){autoScroll.el=el;autoScroll.vx=vx;autoScroll.vy=vy;clearInterval(autoScroll.pid);if(el){autoScroll.pid=setInterval(function(){if(el===win){win.scrollTo(win.pageXOffset+vx*speed,win.pageYOffset+vy*speed)}else{vy&&(el.scrollTop+=vy*speed);vx&&(el.scrollLeft+=vx*speed)}},24)}}}},30);function Sortable(el,options){this.el=el;this.options=options=_extend({},options);el[expando]=this;var defaults={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(el.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(dataTransfer,dragEl){dataTransfer.setData("Text",dragEl.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0};for(var name in defaults){!(name in options)&&(options[name]=defaults[name])}var group=options.group;if(!group||typeof group!="object"){group=options.group={name:group}}["pull","put"].forEach(function(key){if(!(key in group)){group[key]=true}});options.groups=" "+group.name+(group.put.join?" "+group.put.join(" "):"")+" ";for(var fn in this){if(fn.charAt(0)==="_"){this[fn]=_bind(this,this[fn])}}_on(el,"mousedown",this._onTapStart);_on(el,"touchstart",this._onTapStart);_on(el,"dragover",this);_on(el,"dragenter",this);touchDragOverListeners.push(this._onDragOver);options.store&&this.sort(options.store.get(this))}Sortable.prototype={constructor:Sortable,_onTapStart:function(evt){var _this=this,el=this.el,options=this.options,type=evt.type,touch=evt.touches&&evt.touches[0],target=(touch||evt).target,originalTarget=target,filter=options.filter;if(type==="mousedown"&&evt.button!==0||options.disabled){return}target=_closest(target,options.draggable,el);if(!target){return}oldIndex=_index(target);if(typeof filter==="function"){if(filter.call(this,evt,target,this)){_dispatchEvent(_this,originalTarget,"filter",target,el,oldIndex);evt.preventDefault();return}}else if(filter){filter=filter.split(",").some(function(criteria){criteria=_closest(originalTarget,criteria.trim(),el);if(criteria){_dispatchEvent(_this,criteria,"filter",target,el,oldIndex);return true}});if(filter){evt.preventDefault();return}}if(options.handle&&!_closest(originalTarget,options.handle,el)){return}this._prepareDragStart(evt,touch,target)},_prepareDragStart:function(evt,touch,target){var _this=this,el=_this.el,options=_this.options,ownerDocument=el.ownerDocument,dragStartFn;if(target&&!dragEl&&target.parentNode===el){tapEvt=evt;rootEl=el;dragEl=target;nextEl=dragEl.nextSibling;activeGroup=options.group;dragStartFn=function(){_this._disableDelayedDrag();dragEl.draggable=true;options.ignore.split(",").forEach(function(criteria){_find(dragEl,criteria.trim(),_disableDraggable)});_this._triggerDragStart(touch)};_on(ownerDocument,"mouseup",_this._onDrop);_on(ownerDocument,"touchend",_this._onDrop);_on(ownerDocument,"touchcancel",_this._onDrop);if(options.delay){_on(ownerDocument,"mousemove",_this._disableDelayedDrag);_on(ownerDocument,"touchmove",_this._disableDelayedDrag);_this._dragStartTimer=setTimeout(dragStartFn,options.delay)}else{dragStartFn()}}},_disableDelayedDrag:function(){var ownerDocument=this.el.ownerDocument;clearTimeout(this._dragStartTimer);_off(ownerDocument,"mousemove",this._disableDelayedDrag);_off(ownerDocument,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(touch){if(touch){tapEvt={target:dragEl,clientX:touch.clientX,clientY:touch.clientY};this._onDragStart(tapEvt,"touch")}else if(!supportDraggable){this._onDragStart(tapEvt,true)}else{_on(dragEl,"dragend",this);_on(rootEl,"dragstart",this._onDragStart)}try{if(document.selection){document.selection.empty()}else{window.getSelection().removeAllRanges()}}catch(err){}},_dragStarted:function(){if(rootEl&&dragEl){_toggleClass(dragEl,this.options.ghostClass,true);Sortable.active=this;_dispatchEvent(this,rootEl,"start",dragEl,rootEl,oldIndex)}},_emulateDragOver:function(){if(touchEvt){_css(ghostEl,"display","none");var target=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),parent=target,groupName=" "+this.options.group.name+"",i=touchDragOverListeners.length;if(parent){do{if(parent[expando]&&parent[expando].options.groups.indexOf(groupName)>-1){while(i--){touchDragOverListeners[i]({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:target,rootEl:parent})}break}target=parent}while(parent=parent.parentNode)}_css(ghostEl,"display","")}},_onTouchMove:function(evt){if(tapEvt){var touch=evt.touches?evt.touches[0]:evt,dx=touch.clientX-tapEvt.clientX,dy=touch.clientY-tapEvt.clientY,translate3d=evt.touches?"translate3d("+dx+"px,"+dy+"px,0)":"translate("+dx+"px,"+dy+"px)";touchEvt=touch;_css(ghostEl,"webkitTransform",translate3d);_css(ghostEl,"mozTransform",translate3d);_css(ghostEl,"msTransform",translate3d);_css(ghostEl,"transform",translate3d);evt.preventDefault()}},_onDragStart:function(evt,useFallback){var dataTransfer=evt.dataTransfer,options=this.options;this._offUpEvents();if(activeGroup.pull=="clone"){cloneEl=dragEl.cloneNode(true);_css(cloneEl,"display","none");rootEl.insertBefore(cloneEl,dragEl)}if(useFallback){var rect=dragEl.getBoundingClientRect(),css=_css(dragEl),ghostRect;ghostEl=dragEl.cloneNode(true);_css(ghostEl,"top",rect.top-parseInt(css.marginTop,10));_css(ghostEl,"left",rect.left-parseInt(css.marginLeft,10));_css(ghostEl,"width",rect.width);_css(ghostEl,"height",rect.height);_css(ghostEl,"opacity","0.8");_css(ghostEl,"position","fixed");_css(ghostEl,"zIndex","100000");rootEl.appendChild(ghostEl);ghostRect=ghostEl.getBoundingClientRect();_css(ghostEl,"width",rect.width*2-ghostRect.width);_css(ghostEl,"height",rect.height*2-ghostRect.height);if(useFallback==="touch"){_on(document,"touchmove",this._onTouchMove);_on(document,"touchend",this._onDrop);_on(document,"touchcancel",this._onDrop)}else{_on(document,"mousemove",this._onTouchMove);_on(document,"mouseup",this._onDrop)}this._loopId=setInterval(this._emulateDragOver,150)}else{if(dataTransfer){dataTransfer.effectAllowed="move";options.setData&&options.setData.call(this,dataTransfer,dragEl)}_on(document,"drop",this)}setTimeout(this._dragStarted,0)},_onDragOver:function(evt){var el=this.el,target,dragRect,revert,options=this.options,group=options.group,groupPut=group.put,isOwner=activeGroup===group,canSort=options.sort;if(evt.preventDefault!==void 0){evt.preventDefault();!options.dragoverBubble&&evt.stopPropagation()}if(activeGroup&&!options.disabled&&(isOwner?canSort||(revert=!rootEl.contains(dragEl)):activeGroup.pull&&groupPut&&(activeGroup.name===group.name||groupPut.indexOf&&~groupPut.indexOf(activeGroup.name)))&&(evt.rootEl===void 0||evt.rootEl===this.el)){_autoScroll(evt,options,this.el);if(_silent){return}target=_closest(evt.target,options.draggable,el);dragRect=dragEl.getBoundingClientRect();if(revert){_cloneHide(true);if(cloneEl||nextEl){rootEl.insertBefore(dragEl,cloneEl||nextEl)}else if(!canSort){rootEl.appendChild(dragEl)}return}if(el.children.length===0||el.children[0]===ghostEl||el===evt.target&&(target=_ghostInBottom(el,evt))){if(target){if(target.animated){return}targetRect=target.getBoundingClientRect()}_cloneHide(isOwner);el.appendChild(dragEl);this._animate(dragRect,dragEl);target&&this._animate(targetRect,target)}else if(target&&!target.animated&&target!==dragEl&&target.parentNode[expando]!==void 0){if(lastEl!==target){lastEl=target;lastCSS=_css(target)}var targetRect=target.getBoundingClientRect(),width=targetRect.right-targetRect.left,height=targetRect.bottom-targetRect.top,floating=/left|right|inline/.test(lastCSS.cssFloat+lastCSS.display),isWide=target.offsetWidth>dragEl.offsetWidth,isLong=target.offsetHeight>dragEl.offsetHeight,halfway=(floating?(evt.clientX-targetRect.left)/width:(evt.clientY-targetRect.top)/height)>.5,nextSibling=target.nextElementSibling,after;_silent=true;setTimeout(_unsilent,30);_cloneHide(isOwner);if(floating){after=target.previousElementSibling===dragEl&&!isWide||halfway&&isWide}else{after=nextSibling!==dragEl&&!isLong||halfway&&isLong}if(after&&!nextSibling){el.appendChild(dragEl)}else{target.parentNode.insertBefore(dragEl,after?nextSibling:target)}this._animate(dragRect,dragEl);this._animate(targetRect,target)}}},_animate:function(prevRect,target){var ms=this.options.animation;if(ms){var currentRect=target.getBoundingClientRect();_css(target,"transition","none");_css(target,"transform","translate3d("+(prevRect.left-currentRect.left)+"px,"+(prevRect.top-currentRect.top)+"px,0)");target.offsetWidth;_css(target,"transition","all "+ms+"ms");_css(target,"transform","translate3d(0,0,0)");clearTimeout(target.animated);target.animated=setTimeout(function(){_css(target,"transition","");_css(target,"transform","");target.animated=false},ms)}},_offUpEvents:function(){var ownerDocument=this.el.ownerDocument;_off(document,"touchmove",this._onTouchMove);_off(ownerDocument,"mouseup",this._onDrop);_off(ownerDocument,"touchend",this._onDrop);_off(ownerDocument,"touchcancel",this._onDrop)},_onDrop:function(evt){var el=this.el,options=this.options;clearInterval(this._loopId);clearInterval(autoScroll.pid);clearTimeout(this.dragStartTimer);_off(document,"drop",this);_off(document,"mousemove",this._onTouchMove);_off(el,"dragstart",this._onDragStart);this._offUpEvents();if(evt){evt.preventDefault();!options.dropBubble&&evt.stopPropagation();ghostEl&&ghostEl.parentNode.removeChild(ghostEl);if(dragEl){_off(dragEl,"dragend",this);_disableDraggable(dragEl);_toggleClass(dragEl,this.options.ghostClass,false);if(rootEl!==dragEl.parentNode){newIndex=_index(dragEl);_dispatchEvent(null,dragEl.parentNode,"sort",dragEl,rootEl,oldIndex,newIndex);_dispatchEvent(this,rootEl,"sort",dragEl,rootEl,oldIndex,newIndex);_dispatchEvent(null,dragEl.parentNode,"add",dragEl,rootEl,oldIndex,newIndex);_dispatchEvent(this,rootEl,"remove",dragEl,rootEl,oldIndex,newIndex)}else{cloneEl&&cloneEl.parentNode.removeChild(cloneEl);if(dragEl.nextSibling!==nextEl){newIndex=_index(dragEl);_dispatchEvent(this,rootEl,"update",dragEl,rootEl,oldIndex,newIndex);_dispatchEvent(this,rootEl,"sort",dragEl,rootEl,oldIndex,newIndex)}}Sortable.active&&_dispatchEvent(this,rootEl,"end",dragEl,rootEl,oldIndex,newIndex)}rootEl=dragEl=ghostEl=nextEl=cloneEl=scrollEl=scrollParentEl=tapEvt=touchEvt=lastEl=lastCSS=activeGroup=Sortable.active=null;this.save()}},handleEvent:function(evt){var type=evt.type;if(type==="dragover"||type==="dragenter"){if(dragEl){this._onDragOver(evt);_globalDragOver(evt)}}else if(type==="drop"||type==="dragend"){this._onDrop(evt)}},toArray:function(){var order=[],el,children=this.el.children,i=0,n=children.length,options=this.options;for(;i<n;i++){el=children[i];if(_closest(el,options.draggable,this.el)){order.push(el.getAttribute(options.dataIdAttr)||_generateId(el))}}return order},sort:function(order){var items={},rootEl=this.el;this.toArray().forEach(function(id,i){var el=rootEl.children[i];if(_closest(el,this.options.draggable,rootEl)){items[id]=el}},this);order.forEach(function(id){if(items[id]){rootEl.removeChild(items[id]);rootEl.appendChild(items[id])}})},save:function(){var store=this.options.store;store&&store.set(this)},closest:function(el,selector){return _closest(el,selector||this.options.draggable,this.el)},option:function(name,value){var options=this.options;if(value===void 0){return options[name]}else{options[name]=value}},destroy:function(){var el=this.el;el[expando]=null;_off(el,"mousedown",this._onTapStart);_off(el,"touchstart",this._onTapStart);_off(el,"dragover",this);_off(el,"dragenter",this);Array.prototype.forEach.call(el.querySelectorAll("[draggable]"),function(el){el.removeAttribute("draggable")});touchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver),1);this._onDrop();this.el=el=null}};function _cloneHide(state){if(cloneEl&&cloneEl.state!==state){_css(cloneEl,"display",state?"none":"");!state&&cloneEl.state&&rootEl.insertBefore(cloneEl,dragEl);cloneEl.state=state}}function _bind(ctx,fn){var args=slice.call(arguments,2);return fn.bind?fn.bind.apply(fn,[ctx].concat(args)):function(){return fn.apply(ctx,args.concat(slice.call(arguments)))}}function _closest(el,selector,ctx){if(el){ctx=ctx||document;selector=selector.split(".");var tag=selector.shift().toUpperCase(),re=new RegExp("\\s("+selector.join("|")+")\\s","g");do{if(tag===">*"&&el.parentNode===ctx||(tag===""||el.nodeName.toUpperCase()==tag)&&(!selector.length||((" "+el.className+" ").match(re)||[]).length==selector.length)){return el}}while(el!==ctx&&(el=el.parentNode))}return null}function _globalDragOver(evt){evt.dataTransfer.dropEffect="move";evt.preventDefault()}function _on(el,event,fn){el.addEventListener(event,fn,false)}function _off(el,event,fn){el.removeEventListener(event,fn,false)}function _toggleClass(el,name,state){if(el){if(el.classList){el.classList[state?"add":"remove"](name)}else{var className=(" "+el.className+" ").replace(RSPACE," ").replace(" "+name+" "," ");el.className=(className+(state?" "+name:"")).replace(RSPACE," ")}}}function _css(el,prop,val){var style=el&&el.style;if(style){if(val===void 0){if(document.defaultView&&document.defaultView.getComputedStyle){val=document.defaultView.getComputedStyle(el,"")}else if(el.currentStyle){val=el.currentStyle}return prop===void 0?val:val[prop]}else{if(!(prop in style)){prop="-webkit-"+prop}style[prop]=val+(typeof val==="string"?"":"px")}}}function _find(ctx,tagName,iterator){if(ctx){var list=ctx.getElementsByTagName(tagName),i=0,n=list.length;if(iterator){for(;i<n;i++){iterator(list[i],i)}}return list}return[]}function _disableDraggable(el){el.draggable=false}function _unsilent(){_silent=false}function _ghostInBottom(el,evt){var lastEl=el.lastElementChild,rect=lastEl.getBoundingClientRect();return evt.clientY-(rect.top+rect.height)>5&&lastEl}function _generateId(el){var str=el.tagName+el.className+el.src+el.href+el.textContent,i=str.length,sum=0;while(i--){sum+=str.charCodeAt(i)}return sum.toString(36)}function _index(el){var index=0;while(el&&(el=el.previousElementSibling)){if(el.nodeName.toUpperCase()!=="TEMPLATE"){index++}}return index}function _throttle(callback,ms){var args,_this;return function(){if(args===void 0){args=arguments;_this=this;setTimeout(function(){if(args.length===1){callback.call(_this,args[0])}else{callback.apply(_this,args)}args=void 0},ms)}}}function _extend(dst,src){if(dst&&src){for(var key in src){if(src.hasOwnProperty(key)){dst[key]=src[key]}}}return dst}Sortable.utils={on:_on,off:_off,css:_css,find:_find,bind:_bind,is:function(el,selector){return!!_closest(el,selector,el)},extend:_extend,throttle:_throttle,closest:_closest,toggleClass:_toggleClass,index:_index};Sortable.version="1.2.0";Sortable.create=function(el,options){return new Sortable(el,options)};return Sortable})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("presentationitem",'<div class="presentation-row {active: isActive()} { selected: opts.data.selected }" onclick="{ setActive }"> <div class="row"> <div class="{ col-lg-9: !opts.details } { col-lg-11: opts.details } { col-md-9: !opts.details } { col-md-11: opts.details }" onclick="{ setActive }"> <span class="pull-left presentation-row-icon"><i class="fa fa-check-circle-o" show="{ opts.data.selected }"></i>&nbsp;</span> <div class="presentation-title">{ opts.data.title }</div> </div> <div class="col-lg-1 col-md-1 hidden-sm hidden-xs" show="{ !opts.details }" > { opts.data.vote_average } </div> <div class="col-lg-1 col-md-1 hidden-sm hidden-xs" show="{ !opts.details }"> { opts.data.vote_count } </div> <div class="col-lg-1 col-md-1 hidden-sm hidden-xs" show="{ !opts.details }"> { opts.data.total_points } </div> </div> </div>',".presentation-row { border: 1px solid #D5D5D5; padding: 5px; margin-bottom: -1px; cursor: pointer; font-size: 1.3em; } .presentation-row.selected { background-color: rgba(221, 239, 255, 0.50); } .presentation-row a { text-decoration: none; } .presentation-row.active, .presentation-row.active a { background-color: #3A89D3; color: white; } .presentation-row .fa { padding-top: 0.2em; color: #0078AE; } .presentation-row.active .fa { color: white; } .presentation-row-icon { display: block; width: 30px; padding-left: 4px; } .presentation-title { margin-left: 30px; }",function(opts){this.setActive=function(e){this.parent.setActiveKey(this.opts.key);riot.route("presentations/show/"+this.opts.data.id)}.bind(this);this.isActive=function(){return this.parent.activekey==this.opts.key}.bind(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("navbar",'<nav class="navbar navbar-default"> <div class="container-fluid">  <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#">OpenStack Track Chairs App </a> </div>  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <ul class="nav navbar-nav"> <li class="{ active: self.parent.DisplayMode === \'tutorial\' }"><a href="#" onclick="{ setMode(\'tutorial\') }">Tutorial</a></li> <li class="{ active: self.parent.DisplayMode === \'browse\' }"><a href="#" onclick="{ setMode(\'presentations\') }">Browse Presentations <span class="sr-only">(current)</span></a></li> <li class="{ active: self.parent.DisplayMode === \'selections\' }"><a href="#" onclick="{ setMode(\'selections\') }">Your Selections</a></li> <li class="{ active: self.parent.DisplayMode === \'directory\' }"><a href="#" onclick="{ setMode(\'directory\') }">Chair Directory</a></li> </ul> </div> </div> </nav>',function(opts){self=this;this.setMode=function(mode){return function(e){riot.route(mode)}}.bind(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("raw","<span></span>",function(opts){this.on("update",function(){if(opts.content){this.root.innerHTML=opts.content}})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("categorymenu",'<div class="btn-group"> <button if="{ opts.active }" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> { opts.active.title } <span class="caret"></span> </button> <button if="{ !opts.active }" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" if="{ opts.active }"> All Categories <span class="caret"></span> </button> <ul class="dropdown-menu"> <li each="{category in opts.categories}"> <a href="#" if="{category.user_is_chair}" onclick="{ parent.setCategory }"><strong>{ category.title } (Chair)</strong></a> <a href="#" if="{!category.user_is_chair}" onclick="{ parent.setCategory }">{ category.title }</a> </li> <li role="separator" class="divider"></li> <li><a href="#" onclick="{ allCategories }">All Categories</a></li> </ul> </div>',function(opts){this.setCategory=function(e){this.parent.setCategory(e.item.category)}.bind(this);this.allCategories=function(){this.parent.setCategory()}.bind(this)})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(window,document,undefined){var _MAP={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"};var _KEYCODE_MAP={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};var _SHIFT_MAP={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"};var _SPECIAL_ALIASES={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};var _REVERSE_MAP;for(var i=1;i<20;++i){_MAP[111+i]="f"+i}for(i=0;i<=9;++i){_MAP[i+96]=i}function _addEvent(object,type,callback){if(object.addEventListener){object.addEventListener(type,callback,false);return}object.attachEvent("on"+type,callback)}function _characterFromEvent(e){if(e.type=="keypress"){var character=String.fromCharCode(e.which);if(!e.shiftKey){character=character.toLowerCase()}return character}if(_MAP[e.which]){return _MAP[e.which]}if(_KEYCODE_MAP[e.which]){return _KEYCODE_MAP[e.which]}return String.fromCharCode(e.which).toLowerCase()}function _modifiersMatch(modifiers1,modifiers2){return modifiers1.sort().join(",")===modifiers2.sort().join(",")}function _eventModifiers(e){var modifiers=[];if(e.shiftKey){modifiers.push("shift")}if(e.altKey){modifiers.push("alt")}if(e.ctrlKey){modifiers.push("ctrl")}if(e.metaKey){modifiers.push("meta")}return modifiers}function _preventDefault(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=false}function _stopPropagation(e){if(e.stopPropagation){e.stopPropagation();return}e.cancelBubble=true}function _isModifier(key){return key=="shift"||key=="ctrl"||key=="alt"||key=="meta"}function _getReverseMap(){if(!_REVERSE_MAP){_REVERSE_MAP={};for(var key in _MAP){if(key>95&&key<112){continue}if(_MAP.hasOwnProperty(key)){_REVERSE_MAP[_MAP[key]]=key}}}return _REVERSE_MAP}function _pickBestAction(key,modifiers,action){if(!action){action=_getReverseMap()[key]?"keydown":"keypress"}if(action=="keypress"&&modifiers.length){action="keydown"}return action}function _keysFromString(combination){if(combination==="+"){return["+"]}combination=combination.replace(/\+{2}/g,"+plus");return combination.split("+")}function _getKeyInfo(combination,action){var keys;var key;var i;var modifiers=[];keys=_keysFromString(combination);for(i=0;i<keys.length;++i){key=keys[i];if(_SPECIAL_ALIASES[key]){key=_SPECIAL_ALIASES[key]}if(action&&action!="keypress"&&_SHIFT_MAP[key]){key=_SHIFT_MAP[key];modifiers.push("shift")}if(_isModifier(key)){modifiers.push(key)}}action=_pickBestAction(key,modifiers,action);return{key:key,modifiers:modifiers,action:action}}function _belongsTo(element,ancestor){if(element===null||element===document){return false}if(element===ancestor){return true}return _belongsTo(element.parentNode,ancestor)}function Mousetrap(targetElement){var self=this;targetElement=targetElement||document;if(!(self instanceof Mousetrap)){return new Mousetrap(targetElement)}self.target=targetElement;self._callbacks={};self._directMap={};var _sequenceLevels={};var _resetTimer;var _ignoreNextKeyup=false;var _ignoreNextKeypress=false;var _nextExpectedAction=false;function _resetSequences(doNotReset){doNotReset=doNotReset||{};var activeSequences=false,key;for(key in _sequenceLevels){if(doNotReset[key]){activeSequences=true;continue}_sequenceLevels[key]=0}if(!activeSequences){_nextExpectedAction=false}}function _getMatches(character,modifiers,e,sequenceName,combination,level){var i;var callback;var matches=[];var action=e.type;if(!self._callbacks[character]){return[]}if(action=="keyup"&&_isModifier(character)){modifiers=[character]}for(i=0;i<self._callbacks[character].length;++i){callback=self._callbacks[character][i];if(!sequenceName&&callback.seq&&_sequenceLevels[callback.seq]!=callback.level){continue}if(action!=callback.action){continue}if(action=="keypress"&&!e.metaKey&&!e.ctrlKey||_modifiersMatch(modifiers,callback.modifiers)){var deleteCombo=!sequenceName&&callback.combo==combination;var deleteSequence=sequenceName&&callback.seq==sequenceName&&callback.level==level;if(deleteCombo||deleteSequence){self._callbacks[character].splice(i,1)}matches.push(callback)}}return matches}function _fireCallback(callback,e,combo,sequence){if(self.stopCallback(e,e.target||e.srcElement,combo,sequence)){return}if(callback(e,combo)===false){_preventDefault(e);_stopPropagation(e)}}self._handleKey=function(character,modifiers,e){var callbacks=_getMatches(character,modifiers,e);var i;var doNotReset={};var maxLevel=0;var processedSequenceCallback=false;for(i=0;i<callbacks.length;++i){if(callbacks[i].seq){maxLevel=Math.max(maxLevel,callbacks[i].level)}}for(i=0;i<callbacks.length;++i){if(callbacks[i].seq){if(callbacks[i].level!=maxLevel){continue}processedSequenceCallback=true;doNotReset[callbacks[i].seq]=1;_fireCallback(callbacks[i].callback,e,callbacks[i].combo,callbacks[i].seq);continue}if(!processedSequenceCallback){_fireCallback(callbacks[i].callback,e,callbacks[i].combo)}}var ignoreThisKeypress=e.type=="keypress"&&_ignoreNextKeypress;if(e.type==_nextExpectedAction&&!_isModifier(character)&&!ignoreThisKeypress){_resetSequences(doNotReset)}_ignoreNextKeypress=processedSequenceCallback&&e.type=="keydown"};function _handleKeyEvent(e){if(typeof e.which!=="number"){e.which=e.keyCode}var character=_characterFromEvent(e);if(!character){return}if(e.type=="keyup"&&_ignoreNextKeyup===character){_ignoreNextKeyup=false;return}self.handleKey(character,_eventModifiers(e),e)}function _resetSequenceTimer(){clearTimeout(_resetTimer);_resetTimer=setTimeout(_resetSequences,1e3)}function _bindSequence(combo,keys,callback,action){_sequenceLevels[combo]=0;function _increaseSequence(nextAction){return function(){_nextExpectedAction=nextAction;++_sequenceLevels[combo];_resetSequenceTimer()}}function _callbackAndReset(e){_fireCallback(callback,e,combo);if(action!=="keyup"){_ignoreNextKeyup=_characterFromEvent(e)}setTimeout(_resetSequences,10)}for(var i=0;i<keys.length;++i){var isFinal=i+1===keys.length;var wrappedCallback=isFinal?_callbackAndReset:_increaseSequence(action||_getKeyInfo(keys[i+1]).action);_bindSingle(keys[i],wrappedCallback,action,combo,i)}}function _bindSingle(combination,callback,action,sequenceName,level){self._directMap[combination+":"+action]=callback;combination=combination.replace(/\s+/g," ");var sequence=combination.split(" ");var info;if(sequence.length>1){_bindSequence(combination,sequence,callback,action);return}info=_getKeyInfo(combination,action);self._callbacks[info.key]=self._callbacks[info.key]||[];_getMatches(info.key,info.modifiers,{type:info.action},sequenceName,combination,level);self._callbacks[info.key][sequenceName?"unshift":"push"]({callback:callback,modifiers:info.modifiers,action:info.action,seq:sequenceName,level:level,combo:combination})}self._bindMultiple=function(combinations,callback,action){for(var i=0;i<combinations.length;++i){_bindSingle(combinations[i],callback,action)}};_addEvent(targetElement,"keypress",_handleKeyEvent);_addEvent(targetElement,"keydown",_handleKeyEvent);_addEvent(targetElement,"keyup",_handleKeyEvent)}Mousetrap.prototype.bind=function(keys,callback,action){var self=this;keys=keys instanceof Array?keys:[keys];self._bindMultiple.call(self,keys,callback,action);return self};Mousetrap.prototype.unbind=function(keys,action){var self=this;return self.bind.call(self,keys,function(){},action)};Mousetrap.prototype.trigger=function(keys,action){var self=this;if(self._directMap[keys+":"+action]){self._directMap[keys+":"+action]({},keys)}return self};Mousetrap.prototype.reset=function(){var self=this;self._callbacks={};self._directMap={};return self};Mousetrap.prototype.stopCallback=function(e,element){var self=this;if((" "+element.className+" ").indexOf(" mousetrap ")>-1){return false}if(_belongsTo(element,self.target)){return false}return element.tagName=="INPUT"||element.tagName=="SELECT"||element.tagName=="TEXTAREA"||element.isContentEditable};Mousetrap.prototype.handleKey=function(){var self=this;return self._handleKey.apply(self,arguments)};Mousetrap.init=function(){var documentMousetrap=Mousetrap(document);for(var method in documentMousetrap){if(method.charAt(0)!=="_"){Mousetrap[method]=function(method){return function(){return documentMousetrap[method].apply(documentMousetrap,arguments)}}(method)}}};Mousetrap.init();window.Mousetrap=Mousetrap;if(typeof module!=="undefined"&&module.exports){module.exports=Mousetrap}if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Mousetrap}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})(window,document)},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("addcommentform",'<form onsubmit="{addComment}"> <textarea id="commentBody" style="width: 100%;"></textarea><br> <button type="button" class="btn btn-default" onclick="{addComment}">Add Comment</button> </form>',function(opts){this.addComment=function(){opts.api.trigger("add-comment",opts.presentation.id,commentBody.value);if(!opts.presentation.comments)opts.presentation.comments=new Array;opts.presentation.comments.push({body:commentBody.value});commentBody.value="";this.parent.update()}.bind(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("comment",'<div class="media"> <div class="media-body"> <h4 class="media-heading">{ name }</h4> { body } </div> </div>',function(opts){})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);__webpack_require__(13);__webpack_require__(14);riot.tag("selection-manager",'<h2> { activeCategory.title } Track <selectionmenu categories="{ summit.track_chair.categories }" if="{ summit.track_chair.categories.length > 1 }" active="{ activeCategory }" /> </h2> <p>For this track, you should select <strong>{activeCategory.session_count} presentations</strong> plus at least two alternates.</p> <hr> <selection-list each="{ lists }" name="List" listname="{ list_name }" selections="{ selections }" listid="{ \'list\' + list_id }" selectionlist="{ list_id }" mine="{ mine }" listtype="{ list_type }" slots="{ slots }" category="{ activeCategory }"></selection-list>',function(opts){var self=this;opts.api.on("summit-details-loaded",function(result){self.summit=result;self.activeCategory=self.summit.track_chair.categories[0];opts.api.trigger("load-selections",self.activeCategory.id);self.update()});this.setCategory=function(category){self.activeCategory=category;var id;if(category)id=category.id;opts.api.trigger("load-selections",category.id);self.parent.details=false;self.parent.setCategory(category)}.bind(this);opts.api.on("selections-loaded",function(result){if(result.category_id==self.activeCategory.id){self.lists=[];self.update();self.lists=result.lists;self.update();opts.api.trigger("selections-ready")}});opts.api.on("sort-order-saved",function(){self.setCategory(self.activeCategory)})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);var Sortable=__webpack_require__(4);riot.tag("selection-list",'<div class="col-lg-3"> <h3>{ opts.listname }</h3> <div if="{!opts.selections && opts.listtype != \'Group\'}"><i>This person has not made any selections yet.</i></div> <div if="{!opts.selections && opts.listtype == \'Group\'}"><i>There are no team selections yet. Drag one into here to create one.</i></div> <ul id="{ opts.listid }" class="list-group {empty: !opts.selections}"> <li each="{ item, i in opts.selections }" class="list-group-item { alternate: i >= soltsAvailble }" data-id="{ item.id }" data-order="{ item.order }" onclick="{ loadPresentation }" > <span class="pull-left slot-number" if="{ i < soltsAvailble }">{i+1}</span> <span class="pull-left slot-number" if="{ i >= soltsAvailble }">A</span> <div class="item-title">{ item.title } <span if="{ i >= soltsAvailble }">(Alternate)</span> </div> </li> </ul> <p if="{ selections.length > 0 }">{selections.length} of { slots } selected. <span if="{ (selections.length - soltsAvailble) > 0 }" >{selections.length - soltsAvailble } Alternates.</span> <span if="{ !((selections.length - soltsAvailble) > 0) }" >No alternates yet.</span> </p> </div>',".list-group-item { overflow: hidden; cursor: arrow; } .sortable-ghost, .sortable-ghost .selection-front, .sortable-ghost .selection-back { background-color: #E6E6E6; color: #E6E6E6!important; } .alternate { background-color: rgba(184, 220, 253, 0.25); } .list-group.empty { min-height: 100px; } .selection-front, .selection-back { display: block; padding: 5px; min-height: 3em; } .selection-front { width: 100%; } .selection-back { background-color: #D5D5D5; width: 6em; position: absolute; top: 0px; right: -6em; bottom: 0px; } .selection-back.slide { right: -6em; -webkit-animation: slide 0.2s forwards; animation: slide 0.2s forwards; } .slot-number { display: block; } .item-title { margin-left: 20px; } @-webkit-keyframes slide { 100% { right: 0; } } @keyframes slide { 100% { right: 0; } }",function(opts){
var self=this;var api=self.parent.parent.opts.api;self.soltsAvailble=opts.slots;this.sendUpdatedSort=function(new_sort){api.trigger("save-sort-order",self.opts.selectionlist,new_sort)}.bind(this);self.indexOf=function(needle){var i=-1,index=-1;if(!self.opts.selections)return index;for(i=0;i<self.opts.selections.length;i++){if(self.opts.selections[i].id==needle){index=i;break}}return index};api.on("selections-ready",function(result){console.log("6a. selection list hears selections-ready.");var simpleList=document.getElementById(self.opts.listid);if(simpleList){var sortable=Sortable.create(simpleList,{group:{name:"selection-list-group",pull:"clone",put:true},onUpdate:function(evt){if(!self.opts.mine&&!(self.opts.listtype=="Group")){self.parent.parent.parent.toasts.push({text:"Oops! You can't sort another chair's list .",timeout:4e3});api.trigger("sort-order-saved");self.parent.parent.parent.update();return}if(evt.newIndex>=self.soltsAvailble){evt.item.className="list-group-item alternate"}else{evt.item.className="list-group-item"}self.sendUpdatedSort(sortable.toArray());self.update()},onAdd:function(evt){if(!self.opts.mine&&!(self.opts.listtype=="Group")){evt.item.parentNode.removeChild(evt.item);self.parent.parent.parent.toasts.push({text:"Oops! You can't add a presentation to another chair's list .",timeout:4e3});self.parent.parent.parent.update()}else if(self.indexOf(evt.item.dataset.id)>-1){evt.item.parentNode.removeChild(evt.item);self.parent.parent.parent.toasts.push({text:"This presentation is already in this list.",timeout:4e3});self.parent.parent.parent.update()}self.sendUpdatedSort(sortable.toArray());self.update()}})}console.log("6b. selection list updates.");self.update()});this.loadPresentation=function(e){self.parent.parent.parent.clearSearch();riot.route("presentations/show/"+e.item.item.id)}.bind(this)})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("selectionmenu",'<div class="btn-group"> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" if="{ opts.active }"> Switch Category <span class="caret"></span> </button> <ul class="dropdown-menu"> <li each="{category in opts.categories}"><a href="#" onclick="{ parent.setCategory }">{ category.title }</a></li> </ul> </div>',function(opts){this.setCategory=function(e){this.parent.setCategory(e.item.category)}.bind(this);this.allCategories=function(){this.parent.setCategory()}.bind(this)})},function(module,exports,__webpack_require__){(function(riot){riot.tag("rg-toast",'<div class="toasts { opts.position }" if="{ opts.toasts.length > 0 }"> <div class="toast" each="{ opts.toasts }" onclick="{ parent.toastClicked }"> { text } </div> </div>','rg-toast .toasts, [riot-tag="rg-toast"] .toasts{ position: fixed; width: 250px; max-height: 100%; overflow-y: auto; background-color: transparent; z-index: 101; } rg-toast .toasts.topleft, [riot-tag="rg-toast"] .toasts.topleft{ top: 0; left: 0; } rg-toast .toasts.topright, [riot-tag="rg-toast"] .toasts.topright{ top: 0; right: 0; } rg-toast .toasts.bottomleft, [riot-tag="rg-toast"] .toasts.bottomleft{ bottom: 0; left: 0; } rg-toast .toasts.bottomright, [riot-tag="rg-toast"] .toasts.bottomright{ bottom: 0; right: 0; } rg-toast .toast, [riot-tag="rg-toast"] .toast{ padding: 20px; margin: 20px; background-color: rgba(0, 0, 0, 0.8); color: white; font-size: 13px; cursor: pointer; }',function(opts){var _this=this;_this.on("update",function(){opts.toasts.forEach(function(toast){toast.id=Math.random().toString(36).substr(2,8);if(!toast.timer&&!toast.sticky){toast.startTimer=function(){toast.timer=window.setTimeout(function(){opts.toasts.splice(opts.toasts.indexOf(toast),1);if(toast.onclose){toast.onclose()}_this.update()},toast.timeout||6e3)};toast.startTimer()}})});if(!opts.position){opts.position="topright"}_this.toastClicked=function(e){if(e.item.onclick){e.item.onclick(e)}if(e.item.onclose){e.item.onclose()}window.clearTimeout(e.item.timer);opts.toasts.splice(opts.toasts.indexOf(e.item),1)}})}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){(function(riot){riot.tag("rg-modal",'<div class="overlay { expanded: opts.modal.visible, ghost: opts.modal.ghost }" onclick="{ close }"></div> <div class="modal { ghost: opts.modal.ghost }" if="{ opts.modal.visible }"> <header class="header"> <button if="{ opts.modal.close != false }" type="button" class="close" aria-label="Close" onclick="{ close }"> <span aria-hidden="true">&times;</span> </button> <h3 class="heading">{ opts.modal.heading }</h3> </header> <div class="body"> <yield></yield> </div> <footer class="footer"> <button class="button" each="{ opts.modal.buttons }" type="button" onclick="{ action }" riot-style="{ style }"> { text } </button> <div class="clear"></div> </footer> </div>','rg-modal .overlay, [riot-tag="rg-modal"] .overlay,rg-modal .overlay.ghost, [riot-tag="rg-modal"] .overlay.ghost{ position: fixed; top: 0; left: -100%; right: 0; bottom: 0; width: 100%; height: 100%; background-color: transparent; cursor: pointer; -webkit-transition: background-color 0.8s ease, left 0s 0.8s; -moz-transition: background-color 0.8s ease, left 0s 0.8s; -ms-transition: background-color 0.8s ease, left 0s 0.8s; -o-transition: background-color 0.8s ease, left 0s 0.8s; transition: background-color 0.8s ease, left 0s 0.8s; z-index: 50; } rg-modal .overlay.expanded, [riot-tag="rg-modal"] .overlay.expanded,rg-modal .overlay.ghost.expanded, [riot-tag="rg-modal"] .overlay.ghost.expanded{ left: 0; background-color: rgba(0, 0, 0, 0.8); -webkit-transition: background-color 0.8s ease, left 0s; -moz-transition: background-color 0.8s ease, left 0s; -ms-transition: background-color 0.8s ease, left 0s; -o-transition: background-color 0.8s ease, left 0s; transition: background-color 0.8s ease, left 0s; } rg-modal .modal, [riot-tag="rg-modal"] .modal,rg-modal .modal.ghost, [riot-tag="rg-modal"] .modal.ghost{ position: fixed; width: 95%; max-width: 500px; font-size: 1.1em; top: 50%; left: 50%; -webkit-transform: translate3d(-50%, -75%, 0); -moz-transform: translate3d(-50%, -75%, 0); -ms-transform: translate3d(-50%, -75%, 0); -o-transform: translate3d(-50%, -75%, 0); transform: translate3d(-50%, -75%, 0); background-color: white; color: #252519; z-index: 101; } rg-modal .modal.ghost, [riot-tag="rg-modal"] .modal.ghost{ background-color: transparent; color: white; } rg-modal .header, [riot-tag="rg-modal"] .header{ position: relative; text-align: center; } rg-modal .heading, [riot-tag="rg-modal"] .heading{ padding: 20px 20px 0 20px; margin: 0; font-size: 1.2em; } rg-modal .modal.ghost .heading, [riot-tag="rg-modal"] .modal.ghost .heading{ color: white; } rg-modal .close, [riot-tag="rg-modal"] .close{ position: absolute; top: 5px; right: 5px; padding: 0; height: 25px; width: 25px; line-height: 25px; font-size: 25px; border: 0; background-color: transparent; color: #ef424d; cursor: pointer; outline: none; } rg-modal .modal.ghost .close, [riot-tag="rg-modal"] .modal.ghost .close{ color: white; } rg-modal .body, [riot-tag="rg-modal"] .body{ padding: 20px; } rg-modal .footer, [riot-tag="rg-modal"] .footer{ padding: 0 20px 20px 20px; } rg-modal .button, [riot-tag="rg-modal"] .button{ float: right; padding: 10px; margin: 0 5px 0 0; border: none; font-size: 0.9em; text-transform: uppercase; cursor: pointer; outline: none; background-color: white; } rg-modal .modal.ghost .button, [riot-tag="rg-modal"] .modal.ghost .button{ color: white; background-color: transparent; } rg-modal .clear, [riot-tag="rg-modal"] .clear{ clear: both; }',function(opts){var _this=this;_this.close=function(e){opts.modal.visible=false;if(opts.modal.onclose){opts.modal.onclose(e)}}})}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("modal",'<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel">Suggest a category change</h4> </div> <div class="modal-body"> <div show="{ !finished }"> <p>I\'d like to suggest that this presentation:</p> <p><strong>{ opts.presentation.title }</strong></p> <p>Be moved to this category: <select name="catMoveSelector"> <option each="{ category in opts.categories }" value="{category.id}">{category.title}</option> </select></p> </div> <div show="{ finished }"> <p>Ok, thanks! We’ll notify the chairs of the other category that you’d like to make the switch. If the one of the chairs of the other category agrees to the change, the presentation will be moved.</p> </div> </div> <div class="modal-footer" show="{ !finished }"> <button type="button" class="btn btn-default" data-dismiss="modal" onclick="{ closeModal }">Close</button> <button type="button" class="btn btn-primary" onclick="{ suggestChange }">Suggest Change</button> </div> <div class="modal-footer" show="{ finished }"> <button type="button" class="btn btn-primary" onclick="{ closeModal }" data-dismiss="modal">OK</button> </div> </div> </div> </div>',function(opts){var self=this;this.on("mount",function(){this.finished=false});this.suggestChange=function(e){var change={};change.new_category=this.catMoveSelector.value;change.presentation_id=this.opts.presentation.id;opts.api.trigger("suggest-category-change",change)}.bind(this);this.closeModal=function(){this.finished=false}.bind(this);this.opts.api.on("category-change-suggested",function(){self.finished=true;self.update()})})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("chairdirectory",'<h2>Chair Directory</h2> <table class="table"> <tr> <th>Track</th> <th>Name</th> <th>Email</th> </tr> <tr each="{opts.chairs}"> <td>{ category }</td> <td><i class="fa fa-user"></i> { first_name } { last_name }</td> <td><a href="mailto:{ email }">{ email }</a></td> </tr> </table>',function(opts){})},function(module,exports,__webpack_require__){var riot=__webpack_require__(1);riot.tag("tutorial","<h2>Tutorial Coming Soon</h2>",function(opts){})},function(module,exports,__webpack_require__){(function(riot){reqwest=__webpack_require__(21);var api=riot.observable();var url="/trackchairs/api/v1/";api.on("load-summit-details",function(id){var append="summit/";id=typeof id!=="undefined"?id:"active";var append=append+id;reqwest({url:url+append,method:"get",success:function(resp){api.trigger("summit-details-loaded",resp)}})});api.on("load-selections",function(categoryId){console.log("4a. api hears load selections.");reqwest({url:url+"selections/"+categoryId+"/",method:"get",success:function(resp){console.log("response from server loading selctions: ",resp);console.log("4b. api fires selections loaded.");api.trigger("selections-loaded",resp)}})});api.on("load-presentations",function(query,categoryId){var append="?";if(query){append=append+"keyword="+encodeURI(query)}if(categoryId){append=append+"&category="+encodeURI(categoryId)}reqwest({url:url+append,method:"get",success:function(resp){api.trigger("presentations-loaded",resp.results)}})});api.on("load-presentation-details",function(id){reqwest({url:url+"presentation/"+id+"/",method:"get",success:function(resp){api.trigger("presentation-details-loaded",resp)}})});api.on("add-comment",function(id,comment){reqwest({url:url+"presentation/"+id+"/comment",method:"post",data:{comment:comment},success:function(resp){api.trigger("comment-added",resp)}})});api.on("select-presentation",function(id){reqwest({url:url+"presentation/"+id+"/select",method:"get",success:function(resp){console.log("2b. API is firing presentation-selected");api.trigger("presentation-selected",resp)}})});api.on("unselect-presentation",function(id){reqwest({url:url+"presentation/"+id+"/unselect",method:"get",success:function(resp){api.trigger("presentation-unselected",resp)}})});api.on("group-select-presentation",function(id){reqwest({url:url+"presentation/"+id+"/group/select",method:"get",success:function(resp){api.trigger("presentation-group-selected",resp)}})});api.on("group-unselect-presentation",function(id){reqwest({url:url+"presentation/"+id+"/group/unselect",method:"get",success:function(resp){api.trigger("presentation-group-unselected",resp)}})});api.on("save-sort-order",function(list_id,sort_order){reqwest({url:url+"reorder/",method:"post",data:{sort_order:sort_order,list_id:list_id},success:function(resp){api.trigger("sort-order-saved",resp)}})});api.on("suggest-category-change",function(suggestedChange){console.log(url+"presentation/"+suggestedChange.presentation_id+"/category_change/new/?new_cat="+suggestedChange.new_category);reqwest({url:url+"presentation/"+suggestedChange.presentation_id+"/category_change/new/?new_cat="+suggestedChange.new_category,method:"get",success:function(resp){api.trigger("category-change-suggested",resp)}})});module.exports=api}).call(exports,__webpack_require__(1))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(name,context,definition){if(typeof module!="undefined"&&module.exports)module.exports=definition();else if(true)!(__WEBPACK_AMD_DEFINE_FACTORY__=definition,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else context[name]=definition()}("reqwest",this,function(){var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(o){if(o["crossOrigin"]===true){var xhr=win[xmlHttpRequest]?new XMLHttpRequest:null;if(xhr&&"withCredentials"in xhr){return xhr}else if(win[xDomainRequest]){return new XDomainRequest}else{throw new Error("Browser does not support cross-origin requests")}}else if(win[xmlHttpRequest]){return new XMLHttpRequest}else{return new ActiveXObject("Microsoft.XMLHTTP")}},globalSetupOptions={dataFilter:function(data){return data}};function succeed(r){var protocol=protocolRe.exec(r.url);protocol=protocol&&protocol[1]||window.location.protocol;return httpsRe.test(protocol)?twoHundo.test(r.request.status):!!r.request.response}function handleReadyState(r,success,error){return function(){if(r._aborted)return error(r.request);if(r._timedOut)return error(r.request,"Request is aborted: timeout");if(r.request&&r.request[readyState]==4){r.request.onreadystatechange=noop;if(succeed(r))success(r.request);else error(r.request)}}}function setHeaders(http,o){var headers=o["headers"]||{},h;headers["Accept"]=headers["Accept"]||defaultHeaders["accept"][o["type"]]||defaultHeaders["accept"]["*"];var isAFormData=typeof FormData==="function"&&o["data"]instanceof FormData;if(!o["crossOrigin"]&&!headers[requestedWith])headers[requestedWith]=defaultHeaders["requestedWith"];if(!headers[contentType]&&!isAFormData)headers[contentType]=o["contentType"]||defaultHeaders["contentType"];for(h in headers)headers.hasOwnProperty(h)&&"setRequestHeader"in http&&http.setRequestHeader(h,headers[h])}function setCredentials(http,o){if(typeof o["withCredentials"]!=="undefined"&&typeof http.withCredentials!=="undefined"){http.withCredentials=!!o["withCredentials"]}}function generalCallback(data){lastValue=data}function urlappend(url,s){return url+(/\?/.test(url)?"&":"?")+s}function handleJsonp(o,fn,err,url){var reqId=uniqid++,cbkey=o["jsonpCallback"]||"callback",cbval=o["jsonpCallbackName"]||reqwest.getcallbackPrefix(reqId),cbreg=new RegExp("((^|\\?|&)"+cbkey+")=([^&]+)"),match=url.match(cbreg),script=doc.createElement("script"),loaded=0,isIE10=navigator.userAgent.indexOf("MSIE 10.0")!==-1;if(match){if(match[3]==="?"){url=url.replace(cbreg,"$1="+cbval)}else{cbval=match[3]}}else{url=urlappend(url,cbkey+"="+cbval)}win[cbval]=generalCallback;script.type="text/javascript";script.src=url;script.async=true;if(typeof script.onreadystatechange!=="undefined"&&!isIE10){script.htmlFor=script.id="_reqwest_"+reqId}script.onload=script.onreadystatechange=function(){if(script[readyState]&&script[readyState]!=="complete"&&script[readyState]!=="loaded"||loaded){return false}script.onload=script.onreadystatechange=null;script.onclick&&script.onclick();fn(lastValue);lastValue=undefined;head.removeChild(script);loaded=1};head.appendChild(script);return{abort:function(){script.onload=script.onreadystatechange=null;err({},"Request is aborted: timeout",{});lastValue=undefined;head.removeChild(script);loaded=1}}}function getRequest(fn,err){var o=this.o,method=(o["method"]||"GET").toUpperCase(),url=typeof o==="string"?o:o["url"],data=o["processData"]!==false&&o["data"]&&typeof o["data"]!=="string"?reqwest.toQueryString(o["data"]):o["data"]||null,http,sendWait=false;if((o["type"]=="jsonp"||method=="GET")&&data){url=urlappend(url,data);data=null}if(o["type"]=="jsonp")return handleJsonp(o,fn,err,url);http=o.xhr&&o.xhr(o)||xhr(o);http.open(method,url,o["async"]===false?false:true);setHeaders(http,o);setCredentials(http,o);if(win[xDomainRequest]&&http instanceof win[xDomainRequest]){http.onload=fn;http.onerror=err;http.onprogress=function(){};sendWait=true}else{http.onreadystatechange=handleReadyState(this,fn,err)}o["before"]&&o["before"](http);if(sendWait){setTimeout(function(){http.send(data)},200)}else{http.send(data)}return http}function Reqwest(o,fn){this.o=o;this.fn=fn;init.apply(this,arguments)}function setType(header){if(header.match("json"))return"json";if(header.match("javascript"))return"js";if(header.match("text"))return"html";if(header.match("xml"))return"xml"}function init(o,fn){this.url=typeof o=="string"?o:o["url"];this.timeout=null;this._fulfilled=false;this._successHandler=function(){};this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=false;this._responseArgs={};var self=this;fn=fn||function(){};if(o["timeout"]){this.timeout=setTimeout(function(){timedOut()},o["timeout"])}if(o["success"]){this._successHandler=function(){o["success"].apply(o,arguments)}}if(o["error"]){this._errorHandlers.push(function(){o["error"].apply(o,arguments)})}if(o["complete"]){this._completeHandlers.push(function(){o["complete"].apply(o,arguments)})}function complete(resp){o["timeout"]&&clearTimeout(self.timeout);self.timeout=null;while(self._completeHandlers.length>0){self._completeHandlers.shift()(resp)}}function success(resp){var type=o["type"]||resp&&setType(resp.getResponseHeader("Content-Type"));resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r){switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML;break}}self._responseArgs.resp=resp;self._fulfilled=true;fn(resp);self._successHandler(resp);while(self._fulfillmentHandlers.length>0){resp=self._fulfillmentHandlers.shift()(resp)}complete(resp)}function timedOut(){self._timedOut=true;self.request.abort()}function error(resp,msg,t){resp=self.request;self._responseArgs.resp=resp;self._responseArgs.msg=msg;self._responseArgs.t=t;self._erred=true;while(self._errorHandlers.length>0){self._errorHandlers.shift()(resp,msg,t)}complete(resp)}this.request=getRequest.call(this,success,error)}Reqwest.prototype={abort:function(){this._aborted=true;this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(success,fail){success=success||function(){};fail=fail||function(){};if(this._fulfilled){this._responseArgs.resp=success(this._responseArgs.resp)}else if(this._erred){fail(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._fulfillmentHandlers.push(success);this._errorHandlers.push(fail)}return this},always:function(fn){if(this._fulfilled||this._erred){fn(this._responseArgs.resp)}else{this._completeHandlers.push(fn)}return this},fail:function(fn){if(this._erred){fn(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._errorHandlers.push(fn)}return this},"catch":function(fn){return this.fail(fn)}};function reqwest(o,fn){return new Reqwest(o,fn)}function normalize(s){return s?s.replace(/\r?\n/g,"\r\n"):""}function serial(el,cb){var n=el.name,t=el.tagName.toLowerCase(),optCb=function(o){if(o&&!o["disabled"])cb(n,normalize(o["attributes"]["value"]&&o["attributes"]["value"]["specified"]?o["value"]:o["text"]))},ch,ra,val,i;if(el.disabled||!n)return;switch(t){case"input":if(!/reset|button|image|file/i.test(el.type)){ch=/checkbox/i.test(el.type);ra=/radio/i.test(el.type);val=el.value;(!(ch||ra)||el.checked)&&cb(n,normalize(ch&&val===""?"on":val))}break;case"textarea":cb(n,normalize(el.value));break;case"select":if(el.type.toLowerCase()==="select-one"){optCb(el.selectedIndex>=0?el.options[el.selectedIndex]:null)}else{for(i=0;el.length&&i<el.length;i++){el.options[i].selected&&optCb(el.options[i])}}break}}function eachFormElement(){var cb=this,e,i,serializeSubtags=function(e,tags){var i,j,fa;for(i=0;i<tags.length;i++){fa=e[byTag](tags[i]);for(j=0;j<fa.length;j++)serial(fa[j],cb)}};for(i=0;i<arguments.length;i++){e=arguments[i];if(/input|select|textarea/i.test(e.tagName))serial(e,cb);serializeSubtags(e,["input","select","textarea"])}}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var hash={};eachFormElement.apply(function(name,value){if(name in hash){hash[name]&&!isArray(hash[name])&&(hash[name]=[hash[name]]);hash[name].push(value)}else hash[name]=value},arguments);return hash}reqwest.serializeArray=function(){var arr=[];eachFormElement.apply(function(name,value){arr.push({name:name,value:value})},arguments);return arr};reqwest.serialize=function(){if(arguments.length===0)return"";var opt,fn,args=Array.prototype.slice.call(arguments,0);opt=args.pop();opt&&opt.nodeType&&args.push(opt)&&(opt=null);opt&&(opt=opt.type);if(opt=="map")fn=serializeHash;else if(opt=="array")fn=reqwest.serializeArray;else fn=serializeQueryString;return fn.apply(null,args)};reqwest.toQueryString=function(o,trad){var prefix,i,traditional=trad||false,s=[],enc=encodeURIComponent,add=function(key,value){value="function"===typeof value?value():value==null?"":value;s[s.length]=enc(key)+"="+enc(value)};if(isArray(o)){for(i=0;o&&i<o.length;i++)add(o[i]["name"],o[i]["value"])}else{for(prefix in o){if(o.hasOwnProperty(prefix))buildParams(prefix,o[prefix],traditional,add)}}return s.join("&").replace(/%20/g,"+")};function buildParams(prefix,obj,traditional,add){var name,i,v,rbracket=/\[\]$/;if(isArray(obj)){for(i=0;obj&&i<obj.length;i++){v=obj[i];if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}}}else if(obj&&obj.toString()==="[object Object]"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}reqwest.getcallbackPrefix=function(){return callbackPrefix};reqwest.compat=function(o,fn){if(o){o["type"]&&(o["method"]=o["type"])&&delete o["type"];o["dataType"]&&(o["type"]=o["dataType"]);o["jsonpCallback"]&&(o["jsonpCallbackName"]=o["jsonpCallback"])&&delete o["jsonpCallback"];o["jsonp"]&&(o["jsonpCallback"]=o["jsonp"])}return new Reqwest(o,fn)};reqwest.ajaxSetup=function(options){options=options||{};for(var k in options){globalSetupOptions[k]=options[k]}};return reqwest})}]);