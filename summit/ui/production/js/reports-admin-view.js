!function(t){function e(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var a={};return e.m=t,e.c=a,e.p="/summit/ui/production/",e(0)}([function(t,e,a){t.exports=a(27)},,function(t,e,a){var r;!function(n,i){"use strict";function o(t,e,a){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=a),r}function s(t,e){for(var a,r=e.length,n=t.length;r>n;)a=e[--r],e.splice(r,1),a.unmount()}function c(t,e){Object.keys(t.tags).forEach(function(a){var r=t.tags[a];A(r)?g(r,function(t){P(t,a,e)}):P(r,a,e)})}function p(t,e,a){var r,n=t._root;for(t._virts=[];n;)r=n.nextSibling,a?e.insertBefore(n,a._root):e.appendChild(n),t._virts.push(n),n=r}function d(t,e,a,r){for(var n,i=t._root,o=0;o<r;o++)n=i.nextSibling,e.insertBefore(i,a._root),i=n}function u(t,e,a){b(t,"each");var r,n=typeof T(t,"no-reorder")!==W||b(t,"no-reorder"),i=x(t),u=Y[i]||{tmpl:t.outerHTML},l=rt.test(i),h=t.parentNode,_=document.createTextNode(""),m=y(t),v=/option/gi.test(i),g=[],R=[],E="VIRTUAL"==t.tagName;a=st.loopKeys(a),h.insertBefore(_,t),e.one("before-mount",function(){t.parentNode.removeChild(t),h.stub&&(h=e.root)}).on("update",function(){var b=st(a.val,e),T=document.createDocumentFragment();A(b)||(r=b||!1,b=r?Object.keys(b).map(function(t){return o(a,t,b[t])}):[]),b.forEach(function(s,_){var v=n&&s instanceof Object,b=R.indexOf(s),k=~b&&v?b:_,y=g[k];s=!r&&a.key?o(a,s,_):s,!v&&!y||v&&!~b||!y?(y=new f(u,{parent:e,isLoop:!0,hasImpl:!!Y[i],root:l?h:t.cloneNode(),item:s},t.innerHTML),y.mount(),E&&(y._root=y.root.firstChild),_==g.length?E?p(y,T):T.appendChild(y.root):(E?p(y,h,g[_]):h.insertBefore(y.root,g[_].root),R.splice(_,0,s)),g.splice(_,0,y),k=_):y.update(s),k!==_&&v&&(E?d(y,h,g[_],t.childNodes.length):h.insertBefore(y.root,g[_].root),a.pos&&(y[a.pos]=_),g.splice(_,0,g.splice(k,1)[0]),R.splice(_,0,R.splice(k,1)[0]),m||c(y,_)),y._item=s,$(y,"_parent",e)},!0),s(b,g),v?h.appendChild(T):h.insertBefore(T,_),m&&(e.tags[i]=g),R=b.slice()})}function l(t,e,a,r){j(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||T(t,"each")?1:0,a){var n=y(t);n&&!t.isLoop&&a.push(S(n,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!r||G(t,e,[])}})}function h(t,e,a){function r(t,e,r){st.hasExpr(e)&&a.push(N({dom:t,expr:e},r))}j(t,function(t){var a,n=t.nodeType;if(3==n&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==n)return(a=T(t,"each"))?(u(t,e,a),!1):(g(t.attributes,function(e){var a=e.name,n=a.split("__")[1];if(r(t,e.value,{attr:n||a,bool:n}),n)return b(t,a),!1}),!y(t)&&void 0)})}function f(t,e,a){function r(){var t=_&&f?p:u||p;g(O.attributes,function(e){var a=e.value;d[E(e.name)]=st.hasExpr(a)?st(a,t):a}),g(Object.keys(x),function(e){d[E(e)]=st(x[e],t)})}function n(t){for(var e in m)typeof p[e]!==et&&I(p,e)&&(p[e]=t[e])}function o(){p.parent&&f&&g(Object.keys(p.parent),function(t){var e=!C(nt,t)&&C(j,t);(typeof p[t]===et||e)&&(e||j.push(t),p[t]=p.parent[t])})}function s(t){if(g(y,function(e){e[t?"mount":"unmount"]()}),u){var e=t?"on":"off";f?u[e]("unmount",p.unmount):u[e]("update",p.update)[e]("unmount",p.unmount)}}var c,p=J.observable(this),d=D(e.opts)||{},u=e.parent,f=e.isLoop,_=e.hasImpl,m=M(e.item),T=[],y=[],O=e.root,P=t.fn,S=O.tagName.toLowerCase(),x={},j=[];P&&O._tag&&O._tag.unmount(!0),this.isMounted=!1,O.isLoop=f,O._tag=this,$(this,"_riot_id",++B),N(this,{parent:u,root:O,opts:d,tags:{}},m),g(O.attributes,function(t){var e=t.value;st.hasExpr(e)&&(x[t.name]=e)}),c=ct(t.tmpl,a),$(this,"update",function(t){return t=M(t),o(),t&&typeof m===tt&&(n(t),m=t),N(p,t),r(),p.trigger("update",t),v(T,p),dt(function(){p.trigger("updated")}),this}),$(this,"mixin",function(){return g(arguments,function(t){var e;t=typeof t===W?J.mixin(t):t,R(t)?(e=new t,t=t.prototype):e=t,g(Object.getOwnPropertyNames(t),function(t){"init"!=t&&(p[t]=R(e[t])?e[t].bind(p):e[t])}),e.init&&e.init.bind(p)()}),this}),$(this,"mount",function(){if(r(),P&&P.call(p,d),h(c,p,T),s(!0),(t.attrs||_)&&(V(t.attrs,function(t,e){k(O,t,e)}),h(p.root,p,T)),p.parent&&!f||p.update(m),p.trigger("before-mount"),f&&!_)p.root=O=c.firstChild;else{for(;c.firstChild;)O.appendChild(c.firstChild);O.stub&&(p.root=O=u.root)}f&&l(p.root,p.parent,null,!0),!p.parent||p.parent.isMounted?(p.isMounted=!0,p.trigger("mount")):p.parent.one("mount",function(){L(p.root)||(p.parent.isMounted=p.isMounted=!0,p.trigger("mount"))})}),$(this,"unmount",function(t){var e,a=O,r=a.parentNode;if(p.trigger("before-unmount"),Q.splice(Q.indexOf(p),1),this._virts&&g(this._virts,function(t){t.parentNode.removeChild(t)}),r){if(u)e=w(u),A(e.tags[S])?g(e.tags[S],function(t,a){t._riot_id==p._riot_id&&e.tags[S].splice(a,1)}):e.tags[S]=i;else for(;a.firstChild;)a.removeChild(a.firstChild);t?b(r,"riot-tag"):r.removeChild(a)}p.trigger("unmount"),s(),p.off("*"),p.isMounted=!1,delete O._tag}),l(c,this,y)}function _(t,e,a,r){a[t]=function(t){var i,o=r._parent,s=r._item;if(!s)for(;o&&!s;)s=o._item,o=o._parent;t=t||n.event,I(t,"currentTarget")&&(t.currentTarget=a),I(t,"target")&&(t.target=t.srcElement),I(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=s,e.call(r,t)===!0||/radio|check/.test(a.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(i=s?w(o):r,i.update())}}function m(t,e,a){t&&(t.insertBefore(a,e),t.removeChild(e))}function v(t,e){g(t,function(t,a){var r=t.dom,n=t.attr,i=st(t.expr,e),o=t.dom.parentNode;if(t.bool?i=!!i&&n:null==i&&(i=""),o&&"TEXTAREA"==o.tagName&&(i=(""+i).replace(/riot-/g,""),o.value=i),t.value!==i){if(t.value=i,!n)return void(r.nodeValue=""+i);if(b(r,n),R(i))_(n,i,r,e);else if("if"==n){var s=t.stub,c=function(){m(s.parentNode,s,r)},p=function(){m(r.parentNode,r,s)};i?s&&(c(),r.inStub=!1,L(r)||j(r,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(s=t.stub=s||document.createTextNode(""),r.parentNode?p():(e.parent||e).one("updated",p),r.inStub=!0)}else if(/^(show|hide)$/.test(n))"hide"==n&&(i=!i),r.style.display=i?"":"none";else if("value"==n)r.value=i;else if(q(n,z)&&n!=Z)i&&k(r,n.slice(z.length),i);else{if(t.bool&&(r[n]=i,!i))return;(0===i||i&&typeof i!==tt)&&k(r,n,i)}}})}function g(t,e){for(var a,r=0,n=(t||[]).length;r<n;r++)a=t[r],null!=a&&e(a,r)===!1&&r--;return t}function R(t){return typeof t===at||!1}function b(t,e){t.removeAttribute(e)}function E(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function T(t,e){return t.getAttribute(e)}function k(t,e,a){t.setAttribute(e,a)}function y(t){return t.tagName&&Y[T(t,Z)||t.tagName.toLowerCase()]}function O(t,e,a){var r=a.tags[e];r?(A(r)||r!==t&&(a.tags[e]=[r]),C(a.tags[e],t)||a.tags[e].push(t)):a.tags[e]=t}function P(t,e,a){var r,n=t.parent;n&&(r=n.tags[e],A(r)?r.splice(a,0,r.splice(r.indexOf(t),1)[0]):O(t,e,n))}function S(t,e,a,r){var n=new f(t,e,a),i=x(e.root),o=w(r);return n.parent=o,n._parent=r,O(n,i,o),o!==r&&O(n,i,r),e.root.innerHTML="",n}function w(t){for(var e=t;!y(e.root)&&e.parent;)e=e.parent;return e}function $(t,e,a,r){return Object.defineProperty(t,e,N({value:a,enumerable:!1,writable:!1,configurable:!1},r)),t}function x(t){var e=y(t),a=T(t,"name"),r=a&&!st.hasExpr(a)?a:e?e.name:t.tagName.toLowerCase();return r}function N(t){for(var e,a=arguments,r=1;r<a.length;++r)if(e=a[r])for(var n in e)I(t,n)&&(t[n]=e[n]);return t}function C(t,e){return~t.indexOf(e)}function A(t){return Array.isArray(t)||t instanceof Array}function I(t,e){var a=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===et||a&&a.writable}function M(t){if(!(t instanceof f||t&&typeof t.trigger==at))return t;var e={};for(var a in t)C(nt,a)||(e[a]=t[a]);return e}function j(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)j(t,e),t=t.nextSibling}}function V(t,e){for(var a,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;a=r.exec(t);)e(a[1].toLowerCase(),a[2]||a[3]||a[4])}function L(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function H(t){return document.createElement(t)}function K(t,e){return(e||document).querySelectorAll(t)}function X(t,e){return(e||document).querySelector(t)}function D(t){function e(){}return e.prototype=t,new e}function U(t){return T(t,"id")||T(t,"name")}function G(t,e,a){var r,n=U(t),i=function(i){C(a,n)||(r=A(i),i?(!r||r&&!C(i,t))&&(r?i.push(t):e[n]=[i,t]):e[n]=t)};n&&(st.hasExpr(n)?e.one("mount",function(){n=U(t),i(e[n])}):i(e[n]))}function q(t,e){return t.slice(0,e.length)===e}function F(t,e,a){var r=Y[e],n=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new f(r,{root:t,opts:a},n)),r&&r.mount&&(r.mount(),C(Q,r)||Q.push(r)),r}var J={version:"v2.3.13",settings:{}},B=0,Q=[],Y={},z="riot-",Z=z+"tag",W="string",tt="object",et="undefined",at="function",rt=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,nt=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],it=0|(n&&n.document||{}).documentMode;J.observable=function(t){t=t||{};var e={},a=Array.prototype.slice,r=function(t,e){t.replace(/\S+/g,e)},n=function(e,a){Object.defineProperty(t,e,{value:a,enumerable:!1,writable:!1,configurable:!1})};return n("on",function(a,n){return"function"!=typeof n?t:(r(a,function(t,a){(e[t]=e[t]||[]).push(n),n.typed=a>0}),t)}),n("off",function(a,n){return"*"!=a||n?r(a,function(t){if(n)for(var a,r=e[t],i=0;a=r&&r[i];++i)a==n&&r.splice(i--,1);else delete e[t]}):e={},t}),n("one",function(e,a){function r(){t.off(e,r),a.apply(t,arguments)}return t.on(e,r)}),n("trigger",function(n){var i,o=a.call(arguments,1);return r(n,function(r){i=a.call(e[r]||[],0);for(var n,s=0;n=i[s];++s){if(n.busy)return;n.busy=1,n.apply(t,n.typed?[r].concat(o):o),i[s]!==n&&s--,n.busy=0}e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(o))}),t}),t},function(t){function e(t){return t.split(/[\/?#]/)}function a(t,e){var a=new RegExp("^"+e[y](/\*/g,"([^/?#]+?)")[y](/\.\./,".*")+"$"),r=t.match(a);if(r)return r.slice(1)}function r(t,e){var a;return function(){clearTimeout(a),a=setTimeout(t,e)}}function i(t){f=r(u,1),$[T](O,f),$[T](P,f),x[T](I,l),t&&u(!0)}function o(){this.$=[],t.observable(this),j.on("stop",this.s.bind(this)),j.on("emit",this.e.bind(this))}function s(t){return t[y](/^\/|\/$/,"")}function c(t){return"string"==typeof t}function p(t){return(t||C.href||"")[y](R,"")}function d(t){return"#"==_[0]?(t||C.href||"").split(_)[1]||"":p(t)[y](_,"")}function u(t){var e=0==H;if(!(w<=H)&&(H++,L.push(function(){var e=d();(t||e!=m)&&(j[S]("emit",e),m=e)}),e)){for(;L.length;)L[0](),L.shift();H=0}}function l(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[k]("download")||!e[k]("href")||e.target&&"_self"!=e.target||e.href.indexOf(C.href.match(R)[0])==-1||(e.href==C.href||e.href.split("#")[0]!=C.href.split("#")[0]&&("#"==_||0===p(e.href).indexOf(_))&&h(d(e.href),e.title||x.title))&&t.preventDefault()}}function h(t,e,a){return N?(t=_+s(t),e=e||x.title,a?N.replaceState(null,e,t):N.pushState(null,e,t),x.title=e,V=!1,u(),V):j[S]("emit",d(t))}var f,_,m,v,g,R=/^.+?\/+[^\/]+/,b="EventListener",E="remove"+b,T="add"+b,k="hasAttribute",y="replace",O="popstate",P="hashchange",S="trigger",w=3,$="undefined"!=typeof n&&n,x="undefined"!=typeof document&&document,N=$&&history,C=$&&(N.location||$.location),A=o.prototype,I=x&&x.ontouchstart?"touchstart":"click",M=!1,j=t.observable(),V=!1,L=[],H=0;A.m=function(t,e,a){!c(t)||e&&!c(e)?e?this.r(t,e):this.r("@",t):h(t,e,a||!1)},A.s=function(){this.off("*"),this.$=[]},A.e=function(t){this.$.concat("@").some(function(e){var a=("@"==e?v:g)(s(t),s(e));if("undefined"!=typeof a)return this[S].apply(null,[e].concat(a)),V=!0},this)},A.r=function(t,e){"@"!=t&&(t="/"+s(t),this.$.push(t)),this.on(t,e)};var K=new o,X=K.m.bind(K);X.create=function(){var t=new o;return t.m.stop=t.s.bind(t),t.m.bind(t)},X.base=function(t){_=t||"#",m=d()},X.exec=function(){u(!0)},X.parser=function(t,r){t||r||(v=e,g=a),t&&(v=t),r&&(g=r)},X.query=function(){var t={},e=C.href||m;return e[y](/[?&](.+?)=([^&]*)/g,function(e,a,r){t[a]=r}),t},X.stop=function(){M&&($&&($[E](O,f),$[E](P,f),x[E](I,l)),j[S]("stop"),M=!1)},X.start=function(t){M||($&&("complete"==document.readyState?i(t):$[T]("load",function(){setTimeout(function(){i(t)},1)})),M=!0)},X.base(),X.parser(),t.route=X}(J);var ot=function(t){function e(t){return t}function a(t,e){return e||(e=_),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?c:"")}function r(t){var r,n=t.split(" ");if(t===l)n[2]=n[0],n[3]=n[1],r=e;else{if(2!==n.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');n=n.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),r=a}return n[4]=r(n[1].length>1?/{[\S\s]*?}/:/{[^}]*}/,n),n[5]=r(/\\({|})/g,n),n[6]=r(/(\\?)({)/g,n),n[7]=RegExp("(\\\\?)(?:([[({])|("+n[3]+"))|"+u,c),n[8]=t,n}function n(t){t||(t=l),t!==_[8]&&(_=r(t),s=t===l?e:a,_[9]=s(/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/),_[10]=s(/(^|[^\\]){=[\S\s]*?}/),i._rawOffset=_[0].length),f=t}function i(t){return t instanceof RegExp?s(t):_[t]}function o(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:n,get:function(){return f},enumerable:!0}),m=t,n(e)}var s,c="g",p=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,u=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,l="{ }",h={"(":RegExp("([()])|"+u,c),"[":RegExp("([[\\]])|"+u,c),"{":RegExp("([{}])|"+u,c)},f=t,_=[];i.split=function(t,e,a){function r(t){e||o?p.push(t&&t.replace(a[5],"$1")):p.push(t)}function n(e,a){var r,n=h[e],i=1;for(n.lastIndex=a;(r=n.exec(t))&&(!r[1]||(r[1]===e?++i:--i)););return r?n.lastIndex:t.length}a||(a=_);var i,o,s,c,p=[],d=a[6];for(o=s=d.lastIndex=0;i=d.exec(t);){if(c=i.index,o){if(i[2]){d.lastIndex=n(i[2],d.lastIndex);continue}if(!i[3])continue}i[1]||(r(t.slice(s,c)),s=d.lastIndex,d=a[6+(o^=1)],d.lastIndex=s)}return t&&s<t.length&&r(t.slice(s)),p},i.hasExpr=function(t){return i(4).test(t)},i.loopKeys=function(t){var e=t.match(i(9));return e?{key:e[1],pos:e[2],val:_[0]+e[3].trim()+_[1]}:{val:t.trim()}},i.array=function(t){return r(t||f)};var m;return Object.defineProperty(i,"settings",{set:o,get:function(){return m}}),i.settings="undefined"!=typeof J&&J.settings||{},i.set=n,i.R_STRINGS=d,i.R_MLCOMMS=p,i.S_QBLOCKS=u,i}(),st=function(){function t(t,r){return t?(s[t]||(s[t]=a(t))).call(r,e):t}function e(e,a){t.errorHandler&&(e.riotData={tagName:a&&a.root&&a.root.tagName,_riot_id:a&&a._riot_id},t.errorHandler(e))}function a(t){var e=r(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function r(t){var e,a=[],r=ot.split(t.replace(/\u2057/g,'"'),1);if(r.length>2||r[0]){var n,o,s=[];for(n=o=0;n<r.length;++n)e=r[n],e&&(e=1&n?i(e,1,a):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[o++]=e);e=o<2?s[0]:"["+s.join(",")+'].join("")'}else e=i(r[1],0,a);return a[0]&&(e=e.replace(p,function(t,e){return a[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function i(t,e,a){function r(e,a){var r,n=1,i="("===e?/[()]/g:"["===e?/[[\]]/g:/[{}]/g;for(i.lastIndex=a.lastIndex;r=i.exec(t);)if(r[0]===e)++n;else if(!--n)break;a.lastIndex=n?t.length:i.lastIndex}if("="===t[0]&&(t=t.slice(1)),t=t.replace(c,function(t,e){return t.length>2&&!e?""+(a.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var n,i=[],s=0;t&&(n=t.match(d))&&!n.index;){var p,u,l=/,|([[{(])|$/g;for(t=RegExp.rightContext,p=n[2]?a[n[2]].slice(1,-1).trim().replace(/\s+/g," "):n[1];u=(n=l.exec(t))[1];)r(u,l);u=t.slice(0,n.index),t=RegExp.rightContext,i[s++]=o(u,1,p)}t=s?s>1?"["+i.join(",")+'].join(" ").trim()':i[0]:o(t,e)}return t}function o(t,e,a){var r;return t=t.replace(l,function(t,e,a,n,i){return a&&(n=r?0:n+t.length,"this"!==a&&"global"!==a&&"window"!==a?(t=e+'("'+a+u+a,n&&(r="."===(i=i[n])||"("===i||"["===i)):n&&(r=!h.test(i.slice(n)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),a?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+a+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var s={};t.isRaw=function(t){return"="===t[ot._rawOffset]},t.haveRaw=function(t){return ot(10).test(t)},t.hasExpr=ot.hasExpr,t.loopKeys=ot.loopKeys,t.errorHandler=null;var c=RegExp(ot.S_QBLOCKS,"g"),p=/\x01(\d+)~/g,d=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/,u='"in this?this:'+("object"!=typeof n?"global":"window")+").",l=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,h=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.parse=function(t){return t},t}();st.version=ot.version="v2.3.20";var ct=function(t){function e(e,i){var s=e&&e.match(/^\s*<([-\w]+)/),c=s&&s[1].toLowerCase(),p=n[c]||o,d=H(p);return d.stub=!0,i&&(e=r(e,i)),t&&c&&(s=c.match(rt))?a(d,e,c,!!s[1]):d.innerHTML=e,d}function a(t,e,a,r){var n,i=H(o),s=r?"select>":"table>";i.innerHTML="<"+s+e+"</"+s,n=X(a,i),n&&t.appendChild(n)}function r(t,e){if(!/<yield\b/i.test(t))return t;var a=0;return t=t.replace(/<yield\s+from=['"]([-\w]+)['"]\s*(?:\/>|>\s*<\/yield\s*>)/gi,function(t,r){var n=e.match(RegExp(i.replace("@",r),"i"));return++a,n&&n[2]||""}),a?t:t.replace(/<yield\s*(?:\/>|>\s*<\/yield\s*>)/gi,e||"")}var n={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},i=/<yield\s+to=(['"])?@\1\s*>([\S\s]+?)<\/yield\s*>/.source,o="div";return t=t&&t<10,e}(it),pt=function(t){if(!n)return{add:function(){},inject:function(){}};var e=function(){var t=H("style");k(t,"type","text/css");var e=X("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),a=e.styleSheet,r="";return Object.defineProperty(t,"styleNode",{value:e,writable:!0}),{add:function(t){r+=t},inject:function(){r&&(a?a.cssText+=r:e.innerHTML+=r,r="")}}}(J),dt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var a=0;e=function(t){var e=Date.now(),r=Math.max(16-(e-a),0);setTimeout(function(){t(a=e+r)},r)}}return e}(n||{});J.util={brackets:ot,tmpl:st},J.mixin=function(){var t={};return function(e,a){return a?void(t[e]=a):t[e]}}(),J.tag=function(t,e,a,r,n){return R(r)&&(n=r,/^[\w\-]+\s?=/.test(a)?(r=a,a=""):r=""),a&&(R(a)?n=a:pt.add(a)),Y[t]={name:t,tmpl:e,attrs:r,fn:n},t},J.tag2=function(t,e,a,r,n,i){return a&&pt.add(a),Y[t]={name:t,tmpl:e,attrs:r,fn:n},t},J.mount=function(t,e,a){function r(t){var e="";return g(t,function(t){/[^-\w]/.test(t)||(e+=",*["+Z+"="+t.trim()+"]")}),e}function n(){var t=Object.keys(Y);return t+r(t)}function i(t){var r;if(t.tagName){!e||(r=T(t,Z))&&r==e||k(t,Z,e);var n=F(t,e||t.getAttribute(Z)||t.tagName.toLowerCase(),a);n&&c.push(n)}else t.length&&g(t,i)}var o,s,c=[];if(pt.inject(),typeof e===tt&&(a=e,e=0),typeof t===W?("*"===t?t=s=n():t+=r(t.split(",")),o=t?K(t):[]):o=t,"*"===e){if(e=s||n(),o.tagName)o=K(e,o);else{var p=[];g(o,function(t){p.push(K(e,t))}),o=p}e=0}return o.tagName?i(o):g(o,i),c},J.update=function(){return g(Q,function(t){t.update()})},J.Tag=f,typeof e===tt?t.exports=J:"function"===at&&typeof a(3)!==et?(r=function(){return J}.call(e,a,e,t),!(r!==i&&(t.exports=r))):n.riot=J}("undefined"!=typeof window?window:void 0)},function(t,e){(function(e){t.exports=e}).call(e,{})},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){(function(t){try{(function(){"use strict";var e=a(28);a(29),a(30),a(31),a(32),a(33),a(34),a(35),a(36),t.mount("reports-admin-container",{dispatcher:e})}).call(this)}finally{}}).call(e,a(2))},function(t,e,a){(function(e){try{(function(){"use strict";function a(){e.observable(this),this.SAVE_PRESENTATION_REPORT="SAVE_PRESENTATION_REPORT",this.GET_PRESENTATION_REPORT="GET_PRESENTATION_REPORT",this.GET_SPEAKER_REPORT="GET_SPEAKER_REPORT",this.GET_RSVP_REPORT="GET_RSVP_REPORT",this.GET_TRACK_QUESTIONS_REPORT="GET_TRACK_QUESTIONS_REPORT",this.GET_PRESENTATIONS_COMPANY_REPORT="GET_PRESENTATIONS_COMPANY_REPORT",this.SAVE_SPEAKER_REPORT="SAVE_SPEAKER_REPORT",this.SAVE_ROOM_REPORT="SAVE_ROOM_REPORT",this.SAVE_VIDEO_REPORT="SAVE_VIDEO_REPORT",this.EXPORT_PRESENTATION_REPORT="EXPORT_PRESENTATION_REPORT",this.EXPORT_SPEAKER_REPORT="EXPORT_SPEAKER_REPORT",this.EXPORT_ROOM_REPORT="EXPORT_ROOM_REPORT",this.EXPORT_VIDEO_REPORT="EXPORT_VIDEO_REPORT",this.EXPORT_RSVP_REPORT="EXPORT_RSVP_REPORT",this.EXPORT_TRACK_QUESTIONS_REPORT="EXPORT_TRACK_QUESTIONS_REPORT",this.EXPORT_PRESENTATIONS_COMPANY_REPORT="EXPORT_PRESENTATIONS_COMPANY_REPORT",this.saveReport=function(t){switch(t){case"presentation_report":this.trigger(this.SAVE_PRESENTATION_REPORT,t);break;case"speaker_report":this.trigger(this.SAVE_SPEAKER_REPORT,t);break;case"room_report":this.trigger(this.SAVE_ROOM_REPORT,t);break;case"video_report":this.trigger(this.SAVE_VIDEO_REPORT,t)}},this.getReport=function(t){switch(t){case"presentation_report":this.trigger(this.GET_PRESENTATION_REPORT);break;case"speaker_report":this.trigger(this.GET_SPEAKER_REPORT);break;case"rsvp_report":this.trigger(this.GET_RSVP_REPORT);break;case"track_questions_report":this.trigger(this.GET_TRACK_QUESTIONS_REPORT);break;case"presentations_company_report":this.trigger(this.GET_PRESENTATIONS_COMPANY_REPORT)}},this.exportReport=function(t){switch(t){case"presentation_report":this.trigger(this.EXPORT_PRESENTATION_REPORT);break;case"speaker_report":this.trigger(this.EXPORT_SPEAKER_REPORT);break;case"room_report":this.trigger(this.EXPORT_ROOM_REPORT);break;case"video_report":this.trigger(this.EXPORT_VIDEO_REPORT);break;case"rsvp_report":this.trigger(this.EXPORT_RSVP_REPORT);break;case"presentations_company_report":this.trigger(this.EXPORT_PRESENTATIONS_COMPANY_REPORT)}}}var r=new a;t.exports=r}).call(this)}finally{}}).call(e,a(2))},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-speaker-report",'<div class="panel panel-default"> <div class="panel-heading">Speakers ({page_data.total})</div> <table class="table"> <thead> <tr> <th>Speaker Id</th> <th>Member Id</th> <th class="sortable sorted" data-sort="name" data-dir="ASC">Speaker<i class="fa fa-caret-up"></i></th> <th>Email</th> <th>Phone On Site</th> <th>Company</th> <th>Presentation</th> <th>Track</th> <th class="center_text">Confirmed?</th> <th data-sort="registered" data-dir="ASC" class="center_text sortable">Registered?</th> <th data-sort="checked_in" data-dir="ASC" class="center_text sortable">Checked In?</th> </tr> </thead> <tbody> <tr each="{speaker, i in speakers}"> <td class="speaker-id">{speaker.speaker_id}</td> <td>{speaker.member_id}</td> <td>{speaker.name}</td> <td>{speaker.email}</td> <td><input type="text" class="phone" value="{speaker.phone}"></td> <td>{speaker.company}</td> <td>{speaker.presentation}</td> <td>{speaker.track}</td> <td class="center_text"><i class="{fa: true, fa-check: speaker.confirmed, fa-times: !speaker.confirmed}"></i></td> <td class="center_text"><input type="checkbox" class="registered" __checked="{speaker.registered}"></td> <td class="center_text"><input type="checkbox" class="checked_in" __checked="{speaker.checked_in}"></td> </tr> </tbody> </table> </div> <nav> <ul id="report-pager" class="pagination"></ul> </nav>',"","",function(t){this.dispatcher=t.dispatcher,this.page_data={total:100,limit:t.page_limit,page:1},this.summit_id=t.summit_id,this.speakers=[];var e=this;this.on("mount",function(){e.getReport(1),$(".sortable").click(function(){e.parent.toggleSort($(this)),e.getReport(e.page_data.page)}),$(".reports-wrapper").on("change","input",function(){$(this).parents("tr").addClass("changed")})}),this.getReport=function(t){$("body").ajax_loader();var a=$(".sorted").data("sort"),r=$(".sorted").data("dir"),n=$("#status-filter").val();$.getJSON("api/v1/summits/"+e.summit_id+"/reports/speaker_report",{page:t,items:e.page_data.limit,sort:a,sort_dir:r,filter:n},function(a){e.speakers=a.data,e.page_data.page=t,e.page_data.total=parseInt(a.total);var r=e.page_data.total?Math.ceil(e.page_data.total/e.page_data.limit):1,n={bootstrapMajorVersion:3,currentPage:e.page_data.page,totalPages:r,numberOfPages:10,onPageChanged:function(t,a,r){e.parent.saveReport(),e.getReport(r)}};$("#report-pager").bootstrapPaginator(n),e.update(),$("body").ajax_loader("stop")})}.bind(this),e.dispatcher.on(e.dispatcher.SAVE_SPEAKER_REPORT,function(t){var a=[];$(".changed").each(function(){var t=$(".speaker-id",this).text(),e=$(".phone",this).val(),r=$(".registered",this).attr("checked")?1:0,n=$(".checked_in",this).attr("checked")?1:0;a.push({speaker_id:t,phone:e,registered:r,checked_in:n})}),a.length&&$.ajax({type:"PUT",url:"api/v1/summits/"+e.summit_id+"/reports/"+t,data:JSON.stringify(a),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){$(".changed").removeClass("changed"),swal("Updated","Changes saved.","success")}).fail(function(t){var e=t.status;if(412==e){var a=$.parseJSON(t.responseText);swal("Validation error",a.messages[0].message,"warning")}else swal("Error","There was a problem saving the speaker, please contact admin.","warning")})}),e.dispatcher.on(e.dispatcher.EXPORT_SPEAKER_REPORT,function(){var t=$(".sorted").data("sort"),a=$(".sorted").data("dir"),r=$("#status-filter").val();window.open("api/v1/summits/"+e.summit_id+"/reports/export/speaker_report?filter="+r+"&sort="+t+"&sort_dir="+a,"_blank")}),e.dispatcher.on(e.dispatcher.GET_SPEAKER_REPORT,function(){e.getReport(1)})})},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-room-report",'<div class="row" style="margin-bottom:30px;"> <div class="col-md-3"> <select id="event_type" style="width:100%"> <option value="presentation">Presentations Only</option> <option value="all">All Events</option> </select> </div> <div class="col-md-6"> <select id="select_venue" style="width:100%" multiple data-placeholder="Choose one or more rooms..."> <option value="0">TBA</option> <option value="{id}" title="{getLocationOptionTitle(class_name)}" each="{locations}" class="{getLocationOptionCSSClass(class_name)}">{name}</option> </select> </div> <div class="col-md-3" style="text-align: right; padding-right: 20px;"> Users with calendar: {calendar_count} </div> </div> <div class="panel panel-default" each="{key, day in report_data}"> <div class="panel-heading">{key}</div> <table class="table"> <thead> <tr> <th width="10%">Time</th> <th>Code</th> <th width="40%">Event</th> <th width="10%">Room</th> <th width="10%">Venue</th> <th>Capacity</th> <th>Speakers</th> <th width="10%">HeadCount</th> <th>Total</th> </tr> </thead> <tbody> <tr each="{event in day}" data-id="{event.id}"> <td>{event.start_time} - {event.end_time}</td> <td>{event.code}</td> <td>{event.title}</td> <td>{event.room}</td> <td>{event.venue}</td> <td>{event.capacity}</td> <td>{event.speakers}</td> <td><input type="text" class="headcount" value="{event.headcount}"></td> <td>{event.total}</td> </tr> </tbody> </table> </div>',"","",function(t){this.dispatcher=t.dispatcher,this.summit_id=t.summit_id,this.report_data=[],this.calendar_count=0,this.locations=t.locations;var e=this;this.on("mount",function(){e.getReport(),$(".reports-wrapper").on("change","input",function(){$(this).parents("tr").addClass("changed")}),$("#event_type").change(function(){e.getReport()}),$("#select_venue").change(function(){e.getReport()}),$("#select_venue").chosen(),$("#event_type").chosen({disable_search:!0})}),this.getReport=function(){$("body").ajax_loader();var t=$("#event_type").val(),a=$("#select_venue").val()?$("#select_venue").val().join(","):"";$.getJSON("api/v1/summits/"+e.summit_id+"/reports/room_report",{event_type:t,venues:a},function(t){e.report_data=t.report,e.calendar_count=t.calendar_count,e.update(),$("body").ajax_loader("stop")})}.bind(this),e.dispatcher.on(e.dispatcher.SAVE_ROOM_REPORT,function(t){var a=[];$(".changed").each(function(){var t=$(this).data("id"),e=$(".headcount",this).val();a.push({id:t,headcount:e})}),a.length&&$.ajax({type:"PUT",url:"api/v1/summits/"+e.summit_id+"/reports/"+t,data:JSON.stringify(a),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){$(".changed").removeClass("changed"),swal("Updated","Changes saved.","success")}).fail(function(t){var e=t.status;if(412==e){var a=$.parseJSON(t.responseText);swal("Validation error",a.messages[0].message,"warning")}else swal("Error","There was a problem saving the event, please contact admin.","warning")})}),e.dispatcher.on(e.dispatcher.EXPORT_ROOM_REPORT,function(){var t=$("#event_type").val(),a=$("#select_venue").val()?$("#select_venue").val().join(","):"";window.open("api/v1/summits/"+e.summit_id+"/reports/export/room_report?event_type="+t+"&venues="+a,"_blank")}),this.getLocationOptionCSSClass=function(t){switch(t){case"SummitVenue":return"location-venue";case"SummitHotel":return"location-hotel";case"SummitExternalLocation":return"location-external";case"SummitVenueRoom":return"location-venue-room"}}.bind(this),this.getLocationOptionTitle=function(t){switch(t){case"SummitVenue":return"Venue";case"SummitHotel":return"Hotel";case"SummitExternalLocation":return"External Location";case"SummitVenueRoom":return"Room"}}.bind(this)})},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-presentation-report",'<div class="panel panel-default"> <div class="panel-heading">Presentations ({page_data.total})</div> <table class="table"> <thead> <tr> <th>ID</th> <th class="sortable" data-sort="presentation" data-dir="ASC">Presentation</th> <th class="center_text">Published</th> <th>Track</th> <th class="sortable sorted" data-sort="start_date" data-dir="ASC">Start Date<i class="fa fa-caret-up"></i></th> <th>Location</th> <th>Speaker Id</th> <th>Member Id</th> <th class="sortable" data-sort="name" data-dir="ASC">Speaker</th> <th>Email</th> <th>Phone On Site</th> <th>Code Type</th> <th>Promo Code</th> <th class="center_text">Confirmed?</th> <th data-sort="registered" data-dir="ASC" class="center_text sortable">Registered?</th> <th data-sort="checked_in" data-dir="ASC" class="center_text sortable">Checked In?</th> </tr> </thead> <tbody> <tr each="{presentation, i in presentations}" data-speaker-id="{presentation.speaker_id}"> <td>{presentation.presentation_id}</td> <td>{presentation.title}</td> <td class="center_text"><i class="{fa: true, fa-check: presentation.published, fa-times: !presentation.published}"></i></td> <td>{presentation.track}</td> <td>{presentation.start_date}</td> <td>{presentation.location}</td> <td>{presentation.speaker_id}</td> <td>{presentation.member_id}</td> <td>{presentation.name}</td> <td>{presentation.email}</td> <td><input type="text" class="phone" value="{presentation.phone}"></td> <td>{presentation.code_type}</td> <td><input type="text" class="promo_code" value="{presentation.promo_code}"></td> <td class="center_text"><i class="{fa: true, fa-check: presentation.confirmed, fa-times: !presentation.confirmed}"></i></td> <td class="center_text"><input type="checkbox" class="registered" __checked="{presentation.registered}"></td> <td class="center_text"><input type="checkbox" class="checked_in" __checked="{presentation.checked_in}"></td> </tr> </tbody> </table> </div> <nav> <ul id="report-pager" class="pagination"></ul> </nav>',"","",function(t){this.dispatcher=t.dispatcher,this.page_data={total:100,limit:t.page_limit,page:1},this.summit_id=t.summit_id,this.presentations=[];var e=this;this.on("mount",function(){e.getReport(1),$(".sortable").click(function(){e.parent.toggleSort($(this)),e.getReport(e.page_data.page)}),$(".reports-wrapper").on("change","input",function(){$(this).parents("tr").addClass("changed")})}),this.getReport=function(t){$("body").ajax_loader();var a=$(".sorted").data("sort"),r=$(".sorted").data("dir"),n=$("#search-term").val(),i=$("#status-filter").val();
$.getJSON("api/v1/summits/"+e.summit_id+"/reports/presentation_report",{page:t,items:e.page_data.limit,sort:a,sort_dir:r,term:n,filter:i},function(a){e.presentations=a.data,e.page_data.page=t,e.page_data.total=parseInt(a.total);var r=e.page_data.total?Math.ceil(e.page_data.total/e.page_data.limit):1,n={bootstrapMajorVersion:3,currentPage:e.page_data.page,totalPages:r,numberOfPages:10,onPageChanged:function(t,a,r){e.parent.saveReport(),e.getReport(r)}};$("#report-pager").bootstrapPaginator(n),e.update(),$("body").ajax_loader("stop")})}.bind(this),e.dispatcher.on(e.dispatcher.SAVE_PRESENTATION_REPORT,function(t){var a=[];$(".changed").each(function(){var t=$(this).data("speaker-id"),e=$(".phone",this).val(),r=$(".promo_code",this).val(),n=$(".registered",this).attr("checked")?1:0,i=$(".checked_in",this).attr("checked")?1:0;a.push({speaker_id:t,phone:e,promo_code:r,registered:n,checked_in:i})}),a.length&&$.ajax({type:"PUT",url:"api/v1/summits/"+e.summit_id+"/reports/"+t,data:JSON.stringify(a),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){$(".changed").removeClass("changed"),swal("Updated","Changes saved.","success")}).fail(function(t){var e=t.status;if(412==e){var a=$.parseJSON(t.responseText);swal("Validation error",a.messages[0].message,"warning")}else swal("Error","There was a problem saving the speaker, please contact admin.","warning")})}),e.dispatcher.on(e.dispatcher.GET_PRESENTATION_REPORT,function(){e.getReport(1)}),e.dispatcher.on(e.dispatcher.EXPORT_PRESENTATION_REPORT,function(){var t=$(".sorted").data("sort"),a=$(".sorted").data("dir"),r=$("#search-term").val(),n=$("#status-filter").val();window.open("api/v1/summits/"+e.summit_id+"/reports/export/presentation_report?term="+r+"&filter="+n+"&sort="+t+"&sort_dir="+a,"_blank")})})},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-video-report",'<div class="row" style="margin-bottom:30px;"> <div class="col-md-12"> <label for="tracks">Categories</label> <select id="tracks" style="width:100%" multiple> <option value="{track.id}" each="{track in tracks}" __selected="{this.parent.isTrackSelected(track.id)}">{track.title}</option> </select> </div> </div> <div class="row" style="margin-bottom:30px;"> <div class="col-md-4 venues_col"> <label>Venues</label><br> <select id="venues" style="width:100%" multiple data-placeholder="Choose one or more rooms..."> <option value="0">TBA</option> <option value="{id}" title="{getLocationOptionTitle(class_name)}" each="{locations}" class="{getLocationOptionCSSClass(class_name)}">{name}</option> </select> </div> <div class="col-md-4"> <label>Event Date</label><br> From <input class="form-control" id="start_date"> To <input class="form-control" id="end_date"> </div> <div class="col-md-4"> <label>Search</label><br> <div class="input-group" style="width: 100%;"> <input data-rule-required="true" data-rule-minlength="3" type="text" id="search_term" class="form-control input-global-search" placeholder="Search Title, Tag or Description"> <span class="input-group-btn" style="width: 5%;"> <button class="btn btn-default btn-global-search" onclick="{searchReport}"><i class="fa fa-search"></i></button> <button class="btn btn-default btn-global-search-clear" onclick="{clearSearch}"> <i class="fa fa-times"></i> </button> </span> </div> </div> </div> <div class="panel panel-default" each="{key, day in report_data}" if="{day.length > 0}"> <div class="panel-heading">{key}</div> <table class="table"> <thead> <tr> <th width="5%">ID</th> <th width="10%">Time</th> <th>Tags</th> <th>Event</th> <th width="30%">Description</th> <th width="10%">Room</th> <th width="10%">Venue</th> <th>Display</th> <th>YoutubeID</th> </tr> </thead> <tbody> <tr each="{event in day}" data-id="{event.id}"> <td>{event.id}</td> <td>{event.start_time} - {event.end_time}</td> <td>{event.tags}</td> <td>{event.title}</td> <td><raw content="{event.description}"></raw></td> <td>{event.room}</td> <td>{event.venue}</td> <td><input type="checkbox" class="display_video" __checked="{event.display}" if="{event.youtube}"></td> <td>{event.youtube}</td> </tr> </tbody> </table> </div>',"","",function(t){this.dispatcher=t.dispatcher,this.summit_id=t.summit_id,this.report_data=[],this.tracks=t.tracks,this.report_tracks=[],this.locations=t.locations;var e=this;this.on("mount",function(){e.getReport(),$("#tracks").chosen(),$("#venues").chosen(),$("#start_date").datepicker(),$("#end_date").datepicker(),$(".reports-wrapper").on("change","input",function(){$(this).parents("tr").addClass("changed")}),$("#tracks").change(function(){$(this).addClass("tracks_changed"),e.getReport()}),$("#venues").change(function(){e.getReport()}),$("#start_date").change(function(){e.getReport()}),$("#end_date").change(function(){e.getReport()}),$("#search_term").keydown(function(t){13==t.keyCode&&e.searchReport()})}),this.getReport=function(){$("body").ajax_loader();var t={tracks:$("#tracks").val()?$("#tracks").val().join(","):"",venues:$("#venues").val()?$("#venues").val().join(","):"",start_date:$("#start_date").val(),end_date:$("#end_date").val(),search_term:$("#search_term").val()};$.getJSON("api/v1/summits/"+e.summit_id+"/reports/video_report",t,function(t){e.report_data=t.report,e.report_tracks=t.tracks,e.update(),$("#tracks").trigger("chosen:updated"),$("body").ajax_loader("stop")})}.bind(this),this.isTrackSelected=function(t){return!e.report_tracks||$.inArray(t.toString(),e.report_tracks)!=-1}.bind(this),e.dispatcher.on(e.dispatcher.SAVE_VIDEO_REPORT,function(t){var a=[];$(".changed").each(function(){var t=$(this).data("id"),e=$(".display_video",this).prop("checked");a.push({id:t,display_video:e})});var r=$("#tracks").val()?$("#tracks").val().join(","):"all",n={report_config:{config_name:"Tracks",config_value:r},report_data:a};(a.length||$(".tracks_changed").length)&&$.ajax({type:"PUT",url:"api/v1/summits/"+e.summit_id+"/reports/"+t,data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){$(".changed").removeClass("changed"),swal("Updated","Changes saved.","success")}).fail(function(t){var e=t.status;if(412==e){var a=$.parseJSON(t.responseText);swal("Validation error",a.messages[0].message,"warning")}else swal("Error","There was a problem saving the event, please contact admin.","warning")})}),e.dispatcher.on(e.dispatcher.EXPORT_VIDEO_REPORT,function(){var t=$("#tracks").val()?$("#tracks").val().join(","):"",a=$("#venues").val()?$("#venues").val().join(","):"",r=$("#start_date").val(),n=$("#end_date").val(),i=$("#search_term").val();window.open("api/v1/summits/"+e.summit_id+"/reports/export/video_report?tracks="+t+"&venues="+a+"&start_date="+r+"&end_date="+n+"&term="+i,"_blank")}),this.getLocationOptionCSSClass=function(t){switch(t){case"SummitVenue":return"location-venue";case"SummitHotel":return"location-hotel";case"SummitExternalLocation":return"location-external";case"SummitVenueRoom":return"location-venue-room"}}.bind(this),this.getLocationOptionTitle=function(t){switch(t){case"SummitVenue":return"Venue";case"SummitHotel":return"Hotel";case"SummitExternalLocation":return"External Location";case"SummitVenueRoom":return"Room"}}.bind(this),this.searchReport=function(){e.getReport()}.bind(this),this.clearSearch=function(){$("#search_term").val(""),e.getReport()}.bind(this)})},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-rsvp-report",'<div if="{event_count == 0}"> No events match search. </div> <div class="list-group" if="{event_count > 1}"> <a href="#" class="list-group-item" each="{event, i in events}" onclick="{eventClick}"> Event {event.event_id}: {event.title} ({event.date}) </a> </div> <div class="panel panel-default" if="{event_count == 1}"> <div class="panel-heading">{event.event_id} - <strong> {event.title} </strong> - {event.date} ({page_data.total} attendees)</div> <table class="table"> <thead> <tr> <th>Attendee</th> <th each="{header in headers}">{header}</th> </tr> </thead> <tbody> <tr each="{rsvp, i in rsvps}"> <td><a href="{parent.base_url}/attendees/{rsvp.attendee_id}">{rsvp.attendee_id}</a></td> <td each="{label, value in rsvp.rsvp}">{value}</td> </tr> </tbody> </table> </div> <nav> <ul id="report-pager" class="pagination"></ul> </nav>',"","",function(t){this.dispatcher=t.dispatcher,this.page_data={total:1,limit:t.page_limit,page:1},this.summit_id=t.summit_id,this.base_url=t.base_url,this.rsvps=[],this.headers=[],this.events=[],this.event_id=0,this.event_count=0;var e=this;this.on("mount",function(){e.getReport(1)}),this.eventClick=function(t){$("#search-term").val(t.item.event.event_id),e.getReport(1)}.bind(this),this.getReport=function(t){$("body").ajax_loader();var a=$("#search-term").val();$.getJSON("api/v1/summits/"+e.summit_id+"/reports/rsvp_report",{page:t,items:e.page_data.limit,term:a},function(a){1==a.event_count?(e.rsvps=a.data,e.event=a.event,e.page_data.total=parseInt(a.total),e.headers=a.headers):a.event_count>1&&(e.events=a.data),e.event_count=a.event_count,e.page_data.page=t;var r=e.page_data.total?Math.ceil(e.page_data.total/e.page_data.limit):1,n={bootstrapMajorVersion:3,currentPage:e.page_data.page,totalPages:r,numberOfPages:10,onPageChanged:function(t,a,r){e.getReport(r)}};$("#report-pager").bootstrapPaginator(n),e.update(),$("body").ajax_loader("stop")})}.bind(this),e.dispatcher.on(e.dispatcher.GET_RSVP_REPORT,function(){e.getReport(1)}),e.dispatcher.on(e.dispatcher.EXPORT_RSVP_REPORT,function(){var t=$("#search-term").val();window.open("api/v1/summits/"+e.summit_id+"/reports/export/rsvp_report?term="+t,"_blank")})})},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-track-questions-report",'<div class="list-group" if="{track_count > 1}"> <a href="#" class="list-group-item" each="{track, i in tracks}" onclick="{trackClick}"> Track {track.track_id}: {track.title} </a> </div> <div class="panel panel-default" if="{track_count == 1}"> <div class="panel-heading">{track.track_id} - <strong> {track.title} </strong></div> <table class="table"> <thead> <tr> <th each="{header in headers}">{header}</th> </tr> </thead> <tbody> <tr each="{event, i in events}"> <td each="{label, value in event}">{value}</td> </tr> </tbody> </table> </div> <nav> <ul id="report-pager" class="pagination"></ul> </nav>',"","",function(t){this.dispatcher=t.dispatcher,this.page_data={total:1,limit:t.page_limit,page:1},this.summit_id=t.summit_id,this.events=[],this.headers=[],this.tracks=[],this.track_id=0,this.track_count=0;var e=this;this.on("mount",function(){e.getReport(1)}),this.trackClick=function(t){$("#search-term").val(t.item.track.track_id),e.getReport(1)}.bind(this),this.getReport=function(t){$("body").ajax_loader();var a=$("#search-term").val();$.getJSON("api/v1/summits/"+e.summit_id+"/reports/track_questions_report",{page:t,items:e.page_data.limit,term:a},function(a){1==a.track_count?(e.events=a.data,e.track=a.track,e.page_data.total=parseInt(a.total),e.headers=a.headers):a.track_count>1&&(e.tracks=a.data),e.track_count=a.track_count,e.page_data.page=t;var r=e.page_data.total?Math.ceil(e.page_data.total/e.page_data.limit):1,n={bootstrapMajorVersion:3,currentPage:e.page_data.page,totalPages:r,numberOfPages:10,onPageChanged:function(t,a,r){e.getReport(r)}};$("#report-pager").bootstrapPaginator(n),e.update(),$("body").ajax_loader("stop")})}.bind(this),e.dispatcher.on(e.dispatcher.GET_TRACK_QUESTIONS_REPORT,function(){e.getReport(1)}),e.dispatcher.on(e.dispatcher.EXPORT_TRACK_QUESTIONS_REPORT,function(){var t=$("#search-term").val();window.open("api/v1/summits/"+e.summit_id+"/reports/export/track_questions_report?term="+t,"_blank")})})},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-presentations-company-report",'<div class="panel panel-default"> <div class="panel-heading">Speakers ({page_data.total})</div> <table class="table"> <thead> <tr> <th>Url</th> <th class="sortable" data-sort="title" data-dir="ASC">Presentation</th> <th>Description</th> <th class="sortable sorted" data-sort="track" data-dir="ASC">Track<i class="fa fa-caret-up"></i></th> <th>FirstName</th> <th>LastName</th> <th>Email</th> <th>Company</th> </tr> </thead> <tbody> <tr each="{presentation, i in presentations}"> <td>{presentation.url}</td> <td>{presentation.title}</td> <td style="width: 40%;"> <raw content="{presentation.description}"></raw> </td> <td>{presentation.track}</td> <td>{presentation.first_name}</td> <td>{presentation.last_name}</td> <td>{presentation.email}</td> <td>{presentation.company}</td> </tr> </tbody> </table> </div> <nav> <ul id="report-pager" class="pagination"></ul> </nav>',"","",function(t){this.dispatcher=t.dispatcher,this.page_data={total:100,limit:t.page_limit,page:1},this.summit_id=t.summit_id,this.presentations=[];var e=this;this.on("mount",function(){e.getReport(1),$(".sortable").click(function(){e.parent.toggleSort($(this)),e.getReport(e.page_data.page)})}),this.getReport=function(t){$("body").ajax_loader();var a=$(".sorted").data("sort"),r=$(".sorted").data("dir"),n=$("#search-term").val();$.getJSON("api/v1/summits/"+e.summit_id+"/reports/presentations_company_report",{page:t,items:e.page_data.limit,sort:a,sort_dir:r,term:n},function(a){e.presentations=a.data,e.page_data.page=t,e.page_data.total=parseInt(a.total);var r=e.page_data.total?Math.ceil(e.page_data.total/e.page_data.limit):1,n={bootstrapMajorVersion:3,currentPage:e.page_data.page,totalPages:r,numberOfPages:10,onPageChanged:function(t,a,r){e.getReport(r)}};$("#report-pager").bootstrapPaginator(n),e.update(),$("body").ajax_loader("stop")})}.bind(this),e.dispatcher.on(e.dispatcher.GET_PRESENTATIONS_COMPANY_REPORT,function(){e.getReport(1)}),e.dispatcher.on(e.dispatcher.EXPORT_PRESENTATIONS_COMPANY_REPORT,function(){var t=$(".sorted").data("sort"),a=$(".sorted").data("dir"),r=$("#search-term").val();window.open("api/v1/summits/"+e.summit_id+"/reports/export/presentations_company_report?term="+r+"&sort="+t+"&sort_dir="+a,"_blank")})})},function(t,e,a){"use strict";var r=a(2);r.tag2("raw","<span></span>","","",function(t){this.root.innerHTML=t.content}),r.tag2("reports-admin-container",'<div class="row"> <div class="col-md-4"> <select id="report_select" class="form-control"> <option value="presentation_report" selected> Presentation Report </option> <option value="presentations_company_report"> Presentations by Company </option> <option value="rsvp_report"> RSVP Report </option> <option value="room_report"> Speakers Per Room </option> <option value="speaker_report"> Speaker Report </option> <option value="track_questions_report"> Track Questions Report </option> <option value="video_report"> Video Output List </option> </select> </div> <div class="col-md-2"> <button class="btn btn-primary" id="export-report" if="{show_export}" onclick="{exportReport}">Export</button> <button class="btn btn-success" id="save-report" if="{show_save}" onclick="{saveReport}">Save</button> </div> <div class="col-md-2" if="{show_status_filter}"> <select id="status-filter" class="form-control" onchange="{searchReport}"> <option value="all">All</option> <option value="hide_confirmed">Hide Confirmed</option> <option value="hide_registered">Hide Registered</option> <option value="hide_both">Hide Both</option> </select> </div> <div class="col-md-4" if="{show_search}"> <div class="input-group" style="width: 100%;"> <input data-rule-required="true" data-rule-minlength="3" type="text" id="search-term" class="form-control input-global-search" placeholder="Search..."> <span class="input-group-btn" style="width: 5%;"> <button class="btn btn-default btn-global-search" onclick="{searchReport}"><i class="fa fa-search"></i></button> <button class="btn btn-default btn-global-search-clear" onclick="{clearSearch}"> <i class="fa fa-times"></i> </button> </span> </div> </div> </div> <br> <reports-admin-speaker-report if="{report == \'speaker_report\'}" page_limit="{limit}" summit_id="{summit_id}" dispatcher="{dispatcher}"></reports-admin-speaker-report> <reports-admin-presentation-report if="{report == \'presentation_report\'}" page_limit="{limit}" summit_id="{summit_id}" dispatcher="{dispatcher}"></reports-admin-presentation-report> <reports-admin-room-report if="{report == \'room_report\'}" summit_id="{summit_id}" locations="{locations}" dispatcher="{dispatcher}"></reports-admin-room-report> <reports-admin-video-report if="{report == \'video_report\'}" summit_id="{summit_id}" locations="{locations}" tracks="{tracks}" dispatcher="{dispatcher}"></reports-admin-video-report> <reports-admin-rsvp-report if="{report == \'rsvp_report\'}" base_url="{base_url}" page_limit="{limit}" summit_id="{summit_id}" dispatcher="{dispatcher}"></reports-admin-rsvp-report> <reports-admin-track-questions-report if="{report == \'track_questions_report\'}" page_limit="{limit}" summit_id="{summit_id}" dispatcher="{dispatcher}"></reports-admin-track-questions-report> <reports-admin-presentations-company-report if="{report == \'presentations_company_report\'}" page_limit="{limit}" summit_id="{summit_id}" dispatcher="{dispatcher}"></reports-admin-presentations-company-report>',"","",function(t){this.report=t.report,this.dispatcher=t.dispatcher,this.summit_id=t.summit_id,this.limit=t.limit,this.locations=t.locations,this.tracks=t.tracks,this.base_url=t.base_url,this.show_search=!0,this.show_status_filter=!0,this.show_save=!0,this.show_export=!0;var e=this;this.on("mount",function(){$("#report_select").change(function(){e.report=$(this).val(),e.toggleFilters(),$("#search-term").val(""),console.log("selected report "+e.report),e.update()}),$("#search-term").keydown(function(t){13==t.keyCode&&e.searchReport()})}),this.saveReport=function(t){var a=$("#report_select").val();"undefined"!=typeof t&&(t.preventUpdate=!0),e.dispatcher.saveReport(a)}.bind(this),this.exportReport=function(t){var a=$("#report_select").val();"undefined"!=typeof t&&(t.preventUpdate=!0),e.dispatcher.exportReport(a)}.bind(this),this.toggleSort=function(t){var e="ASC"==t.data("dir")?"DESC":"ASC";t.data("dir",e),$(".fa",".sortable").remove(),$(".sorted").removeClass("sorted");var a="ASC"==e?'<i class="fa fa-caret-up"></i>':'<i class="fa fa-caret-down"></i>';t.html(t.text()+a),t.addClass("sorted")}.bind(this),this.searchReport=function(){var t=$("#report_select").val();e.dispatcher.getReport(t)}.bind(this),this.clearSearch=function(){$("#search-term").val("");var t=$("#report_select").val();e.dispatcher.getReport(t)}.bind(this),this.toggleFilters=function(){switch(e.show_status_filter=!1,e.show_search=!1,e.show_save=!1,e.show_export=!1,e.report){case"speaker_report":e.show_status_filter=!0,e.show_save=!0,e.show_export=!0;break;case"presentation_report":e.show_status_filter=!0,e.show_search=!0,e.show_save=!0,e.show_export=!0;break;case"rsvp_report":e.show_search=!0,e.show_export=!0;break;case"track_questions_report":e.show_search=!0;break;case"room_report":e.show_save=!0,e.show_export=!0;break;case"video_report":e.show_save=!0,e.show_export=!0;break;case"presentations_company_report":e.show_search=!0,e.show_export=!0}}.bind(this)})}]);