!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="/summit/ui/production/",e(0)}([function(t,e,i){t.exports=i(47)},,function(t,e,i){var n;!function(s,a){"use strict";function o(t,e,i){var n={};return n[t.key]=e,t.pos&&(n[t.pos]=i),n}function l(t,e){for(var i,n=e.length,s=t.length;n>s;)i=e[--n],e.splice(n,1),i.unmount()}function r(t,e){Object.keys(t.tags).forEach(function(i){var n=t.tags[i];N(n)?b(n,function(t){T(t,i,e)}):T(n,i,e)})}function u(t,e,i){var n,s=t._root;for(t._virts=[];s;)n=s.nextSibling,i?e.insertBefore(s,i._root):e.appendChild(s),t._virts.push(s),s=n}function d(t,e,i,n){for(var s,a=t._root,o=0;o<n;o++)s=a.nextSibling,e.insertBefore(a,i._root),a=s}function c(t,e,i){y(t,"each");var n,s=typeof $(t,"no-reorder")!==X||y(t,"no-reorder"),a=I(t),c=W[a]||{tmpl:t.outerHTML},p=nt.test(a),h=t.parentNode,_=document.createTextNode(""),m=w(t),f=/option/gi.test(a),b=[],g=[],E="VIRTUAL"==t.tagName;i=lt.loopKeys(i),h.insertBefore(_,t),e.one("before-mount",function(){t.parentNode.removeChild(t),h.stub&&(h=e.root)}).on("update",function(){var y=lt(i.val,e),$=document.createDocumentFragment();N(y)||(n=y||!1,y=n?Object.keys(y).map(function(t){return o(i,t,y[t])}):[]),y.forEach(function(l,_){var f=s&&l instanceof Object,y=g.indexOf(l),S=~y&&f?y:_,w=b[S];l=!n&&i.key?o(i,l,_):l,!f&&!w||f&&!~y||!w?(w=new v(c,{parent:e,isLoop:!0,hasImpl:!!W[a],root:p?h:t.cloneNode(),item:l},t.innerHTML),w.mount(),E&&(w._root=w.root.firstChild),_==b.length?E?u(w,$):$.appendChild(w.root):(E?u(w,h,b[_]):h.insertBefore(w.root,b[_].root),g.splice(_,0,l)),b.splice(_,0,w),S=_):w.update(l),S!==_&&f&&(E?d(w,h,b[_],t.childNodes.length):h.insertBefore(w.root,b[_].root),i.pos&&(w[i.pos]=_),b.splice(_,0,b.splice(S,1)[0]),g.splice(_,0,g.splice(S,1)[0]),m||r(w,_)),w._item=l,L(w,"_parent",e)},!0),l(y,b),f?h.appendChild($):h.insertBefore($,_),m&&(e.tags[a]=b),g=y.slice()})}function p(t,e,i,n){R(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||$(t,"each")?1:0,i){var s=w(t);s&&!t.isLoop&&i.push(D(s,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!n||j(t,e,[])}})}function h(t,e,i){function n(t,e,n){lt.hasExpr(e)&&i.push(H({dom:t,expr:e},n))}R(t,function(t){var i,s=t.nodeType;if(3==s&&"STYLE"!=t.parentNode.tagName&&n(t,t.nodeValue),1==s)return(i=$(t,"each"))?(c(t,e,i),!1):(b(t.attributes,function(e){var i=e.name,s=i.split("__")[1];if(n(t,e.value,{attr:s||i,bool:s}),s)return y(t,i),!1}),!w(t)&&void 0)})}function v(t,e,i){function n(){var t=_&&v?u:c||u;b(k.attributes,function(e){var i=e.value;d[E(e.name)]=lt.hasExpr(i)?lt(i,t):i}),b(Object.keys(I),function(e){d[E(e)]=lt(I[e],t)})}function s(t){for(var e in m)typeof u[e]!==et&&A(u,e)&&(u[e]=t[e])}function o(){u.parent&&v&&b(Object.keys(u.parent),function(t){var e=!P(st,t)&&P(R,t);(typeof u[t]===et||e)&&(e||R.push(t),u[t]=u.parent[t])})}function l(t){if(b(w,function(e){e[t?"mount":"unmount"]()}),c){var e=t?"on":"off";v?c[e]("unmount",u.unmount):c[e]("update",u.update)[e]("unmount",u.unmount)}}var r,u=G.observable(this),d=z(e.opts)||{},c=e.parent,v=e.isLoop,_=e.hasImpl,m=C(e.item),$=[],w=[],k=e.root,T=t.fn,D=k.tagName.toLowerCase(),I={},R=[];T&&k._tag&&k._tag.unmount(!0),this.isMounted=!1,k.isLoop=v,k._tag=this,L(this,"_riot_id",++K),H(this,{parent:c,root:k,opts:d,tags:{}},m),b(k.attributes,function(t){var e=t.value;lt.hasExpr(e)&&(I[t.name]=e)}),r=rt(t.tmpl,i),L(this,"update",function(t){return t=C(t),o(),t&&typeof m===tt&&(s(t),m=t),H(u,t),n(),u.trigger("update",t),f($,u),dt(function(){u.trigger("updated")}),this}),L(this,"mixin",function(){return b(arguments,function(t){var e;t=typeof t===X?G.mixin(t):t,g(t)?(e=new t,t=t.prototype):e=t,b(Object.getOwnPropertyNames(t),function(t){"init"!=t&&(u[t]=g(e[t])?e[t].bind(u):e[t])}),e.init&&e.init.bind(u)()}),this}),L(this,"mount",function(){if(n(),T&&T.call(u,d),h(r,u,$),l(!0),(t.attrs||_)&&(O(t.attrs,function(t,e){S(k,t,e)}),h(u.root,u,$)),u.parent&&!v||u.update(m),u.trigger("before-mount"),v&&!_)u.root=k=r.firstChild;else{for(;r.firstChild;)k.appendChild(r.firstChild);k.stub&&(u.root=k=c.root)}v&&p(u.root,u.parent,null,!0),!u.parent||u.parent.isMounted?(u.isMounted=!0,u.trigger("mount")):u.parent.one("mount",function(){U(u.root)||(u.parent.isMounted=u.isMounted=!0,u.trigger("mount"))})}),L(this,"unmount",function(t){var e,i=k,n=i.parentNode;if(u.trigger("before-unmount"),J.splice(J.indexOf(u),1),this._virts&&b(this._virts,function(t){t.parentNode.removeChild(t)}),n){if(c)e=x(c),N(e.tags[D])?b(e.tags[D],function(t,i){t._riot_id==u._riot_id&&e.tags[D].splice(i,1)}):e.tags[D]=a;else for(;i.firstChild;)i.removeChild(i.firstChild);t?y(n,"riot-tag"):n.removeChild(i)}u.trigger("unmount"),l(),u.off("*"),u.isMounted=!1,delete k._tag}),p(r,this,w)}function _(t,e,i,n){i[t]=function(t){var a,o=n._parent,l=n._item;if(!l)for(;o&&!l;)l=o._item,o=o._parent;t=t||s.event,A(t,"currentTarget")&&(t.currentTarget=i),A(t,"target")&&(t.target=t.srcElement),A(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=l,e.call(n,t)===!0||/radio|check/.test(i.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(a=l?x(o):n,a.update())}}function m(t,e,i){t&&(t.insertBefore(i,e),t.removeChild(e))}function f(t,e){b(t,function(t,i){var n=t.dom,s=t.attr,a=lt(t.expr,e),o=t.dom.parentNode;if(t.bool?a=!!a&&s:null==a&&(a=""),o&&"TEXTAREA"==o.tagName&&(a=(""+a).replace(/riot-/g,""),o.value=a),t.value!==a){if(t.value=a,!s)return void(n.nodeValue=""+a);if(y(n,s),g(a))_(s,a,n,e);else if("if"==s){var l=t.stub,r=function(){m(l.parentNode,l,n)},u=function(){m(n.parentNode,n,l)};a?l&&(r(),n.inStub=!1,U(n)||R(n,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(l=t.stub=l||document.createTextNode(""),n.parentNode?u():(e.parent||e).one("updated",u),n.inStub=!0)}else if(/^(show|hide)$/.test(s))"hide"==s&&(a=!a),n.style.display=a?"":"none";else if("value"==s)n.value=a;else if(F(s,Q)&&s!=Z)a&&S(n,s.slice(Q.length),a);else{if(t.bool&&(n[s]=a,!a))return;(0===a||a&&typeof a!==tt)&&S(n,s,a)}}})}function b(t,e){for(var i,n=0,s=(t||[]).length;n<s;n++)i=t[n],null!=i&&e(i,n)===!1&&n--;return t}function g(t){return typeof t===it||!1}function y(t,e){t.removeAttribute(e)}function E(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function $(t,e){return t.getAttribute(e)}function S(t,e,i){t.setAttribute(e,i)}function w(t){return t.tagName&&W[$(t,Z)||t.tagName.toLowerCase()]}function k(t,e,i){var n=i.tags[e];n?(N(n)||n!==t&&(i.tags[e]=[n]),P(i.tags[e],t)||i.tags[e].push(t)):i.tags[e]=t}function T(t,e,i){var n,s=t.parent;s&&(n=s.tags[e],N(n)?n.splice(i,0,n.splice(n.indexOf(t),1)[0]):k(t,e,s))}function D(t,e,i,n){var s=new v(t,e,i),a=I(e.root),o=x(n);return s.parent=o,s._parent=n,k(s,a,o),o!==n&&k(s,a,n),e.root.innerHTML="",s}function x(t){for(var e=t;!w(e.root)&&e.parent;)e=e.parent;return e}function L(t,e,i,n){return Object.defineProperty(t,e,H({value:i,enumerable:!1,writable:!1,configurable:!1},n)),t}function I(t){var e=w(t),i=$(t,"name"),n=i&&!lt.hasExpr(i)?i:e?e.name:t.tagName.toLowerCase();return n}function H(t){for(var e,i=arguments,n=1;n<i.length;++n)if(e=i[n])for(var s in e)A(t,s)&&(t[s]=e[s]);return t}function P(t,e){return~t.indexOf(e)}function N(t){return Array.isArray(t)||t instanceof Array}function A(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===et||i&&i.writable}function C(t){if(!(t instanceof v||t&&typeof t.trigger==it))return t;var e={};for(var i in t)P(st,i)||(e[i]=t[i]);return e}function R(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)R(t,e),t=t.nextSibling}}function O(t,e){for(var i,n=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;i=n.exec(t);)e(i[1].toLowerCase(),i[2]||i[3]||i[4])}function U(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function B(t){return document.createElement(t)}function V(t,e){return(e||document).querySelectorAll(t)}function M(t,e){return(e||document).querySelector(t)}function z(t){function e(){}return e.prototype=t,new e}function Y(t){return $(t,"id")||$(t,"name")}function j(t,e,i){var n,s=Y(t),a=function(a){P(i,s)||(n=N(a),a?(!n||n&&!P(a,t))&&(n?a.push(t):e[s]=[a,t]):e[s]=t)};s&&(lt.hasExpr(s)?e.one("mount",function(){s=Y(t),a(e[s])}):a(e[s]))}function F(t,e){return t.slice(0,e.length)===e}function q(t,e,i){var n=W[e],s=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",n&&t&&(n=new v(n,{root:t,opts:i},s)),n&&n.mount&&(n.mount(),P(J,n)||J.push(n)),n}var G={version:"v2.3.13",settings:{}},K=0,J=[],W={},Q="riot-",Z=Q+"tag",X="string",tt="object",et="undefined",it="function",nt=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,st=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],at=0|(s&&s.document||{}).documentMode;G.observable=function(t){t=t||{};var e={},i=Array.prototype.slice,n=function(t,e){t.replace(/\S+/g,e)},s=function(e,i){Object.defineProperty(t,e,{value:i,enumerable:!1,writable:!1,configurable:!1})};return s("on",function(i,s){return"function"!=typeof s?t:(n(i,function(t,i){(e[t]=e[t]||[]).push(s),s.typed=i>0}),t)}),s("off",function(i,s){return"*"!=i||s?n(i,function(t){if(s)for(var i,n=e[t],a=0;i=n&&n[a];++a)i==s&&n.splice(a--,1);else delete e[t]}):e={},t}),s("one",function(e,i){function n(){t.off(e,n),i.apply(t,arguments)}return t.on(e,n)}),s("trigger",function(s){var a,o=i.call(arguments,1);return n(s,function(n){a=i.call(e[n]||[],0);for(var s,l=0;s=a[l];++l){if(s.busy)return;s.busy=1,s.apply(t,s.typed?[n].concat(o):o),a[l]!==s&&l--,s.busy=0}e["*"]&&"*"!=n&&t.trigger.apply(t,["*",n].concat(o))}),t}),t},function(t){function e(t){return t.split(/[\/?#]/)}function i(t,e){var i=new RegExp("^"+e[w](/\*/g,"([^/?#]+?)")[w](/\.\./,".*")+"$"),n=t.match(i);if(n)return n.slice(1)}function n(t,e){var i;return function(){clearTimeout(i),i=setTimeout(t,e)}}function a(t){v=n(c,1),L[$](k,v),L[$](T,v),I[$](A,p),t&&c(!0)}function o(){this.$=[],t.observable(this),R.on("stop",this.s.bind(this)),R.on("emit",this.e.bind(this))}function l(t){return t[w](/^\/|\/$/,"")}function r(t){return"string"==typeof t}function u(t){return(t||P.href||"")[w](g,"")}function d(t){return"#"==_[0]?(t||P.href||"").split(_)[1]||"":u(t)[w](_,"")}function c(t){var e=0==B;if(!(x<=B)&&(B++,U.push(function(){var e=d();(t||e!=m)&&(R[D]("emit",e),m=e)}),e)){for(;U.length;)U[0](),U.shift();B=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[S]("download")||!e[S]("href")||e.target&&"_self"!=e.target||e.href.indexOf(P.href.match(g)[0])==-1||(e.href==P.href||e.href.split("#")[0]!=P.href.split("#")[0]&&("#"==_||0===u(e.href).indexOf(_))&&h(d(e.href),e.title||I.title))&&t.preventDefault()}}function h(t,e,i){return H?(t=_+l(t),e=e||I.title,i?H.replaceState(null,e,t):H.pushState(null,e,t),I.title=e,O=!1,c(),O):R[D]("emit",d(t))}var v,_,m,f,b,g=/^.+?\/+[^\/]+/,y="EventListener",E="remove"+y,$="add"+y,S="hasAttribute",w="replace",k="popstate",T="hashchange",D="trigger",x=3,L="undefined"!=typeof s&&s,I="undefined"!=typeof document&&document,H=L&&history,P=L&&(H.location||L.location),N=o.prototype,A=I&&I.ontouchstart?"touchstart":"click",C=!1,R=t.observable(),O=!1,U=[],B=0;N.m=function(t,e,i){!r(t)||e&&!r(e)?e?this.r(t,e):this.r("@",t):h(t,e,i||!1)},N.s=function(){this.off("*"),this.$=[]},N.e=function(t){this.$.concat("@").some(function(e){var i=("@"==e?f:b)(l(t),l(e));if("undefined"!=typeof i)return this[D].apply(null,[e].concat(i)),O=!0},this)},N.r=function(t,e){"@"!=t&&(t="/"+l(t),this.$.push(t)),this.on(t,e)};var V=new o,M=V.m.bind(V);M.create=function(){var t=new o;return t.m.stop=t.s.bind(t),t.m.bind(t)},M.base=function(t){_=t||"#",m=d()},M.exec=function(){c(!0)},M.parser=function(t,n){t||n||(f=e,b=i),t&&(f=t),n&&(b=n)},M.query=function(){var t={},e=P.href||m;return e[w](/[?&](.+?)=([^&]*)/g,function(e,i,n){t[i]=n}),t},M.stop=function(){C&&(L&&(L[E](k,v),L[E](T,v),I[E](A,p)),R[D]("stop"),C=!1)},M.start=function(t){C||(L&&("complete"==document.readyState?a(t):L[$]("load",function(){setTimeout(function(){a(t)},1)})),C=!0)},M.base(),M.parser(),t.route=M}(G);var ot=function(t){function e(t){return t}function i(t,e){return e||(e=_),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function n(t){var n,s=t.split(" ");if(t===p)s[2]=s[0],s[3]=s[1],n=e;else{if(2!==s.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');s=s.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),n=i}return s[4]=n(s[1].length>1?/{[\S\s]*?}/:/{[^}]*}/,s),s[5]=n(/\\({|})/g,s),s[6]=n(/(\\?)({)/g,s),s[7]=RegExp("(\\\\?)(?:([[({])|("+s[3]+"))|"+c,r),s[8]=t,s}function s(t){t||(t=p),t!==_[8]&&(_=n(t),l=t===p?e:i,_[9]=l(/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/),_[10]=l(/(^|[^\\]){=[\S\s]*?}/),a._rawOffset=_[0].length),v=t}function a(t){return t instanceof RegExp?l(t):_[t]}function o(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:s,get:function(){return v},enumerable:!0}),m=t,s(e)}var l,r="g",u=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,c=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,p="{ }",h={"(":RegExp("([()])|"+c,r),"[":RegExp("([[\\]])|"+c,r),"{":RegExp("([{}])|"+c,r)},v=t,_=[];a.split=function(t,e,i){function n(t){e||o?u.push(t&&t.replace(i[5],"$1")):u.push(t)}function s(e,i){var n,s=h[e],a=1;for(s.lastIndex=i;(n=s.exec(t))&&(!n[1]||(n[1]===e?++a:--a)););return n?s.lastIndex:t.length}i||(i=_);var a,o,l,r,u=[],d=i[6];for(o=l=d.lastIndex=0;a=d.exec(t);){if(r=a.index,o){if(a[2]){d.lastIndex=s(a[2],d.lastIndex);continue}if(!a[3])continue}a[1]||(n(t.slice(l,r)),l=d.lastIndex,d=i[6+(o^=1)],d.lastIndex=l)}return t&&l<t.length&&n(t.slice(l)),u},a.hasExpr=function(t){return a(4).test(t)},a.loopKeys=function(t){var e=t.match(a(9));return e?{key:e[1],pos:e[2],val:_[0]+e[3].trim()+_[1]}:{val:t.trim()}},a.array=function(t){return n(t||v)};var m;return Object.defineProperty(a,"settings",{set:o,get:function(){return m}}),a.settings="undefined"!=typeof G&&G.settings||{},a.set=s,a.R_STRINGS=d,a.R_MLCOMMS=u,a.S_QBLOCKS=c,a}(),lt=function(){function t(t,n){return t?(l[t]||(l[t]=i(t))).call(n,e):t}function e(e,i){t.errorHandler&&(e.riotData={tagName:i&&i.root&&i.root.tagName,_riot_id:i&&i._riot_id},t.errorHandler(e))}function i(t){var e=n(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function n(t){var e,i=[],n=ot.split(t.replace(/\u2057/g,'"'),1);if(n.length>2||n[0]){var s,o,l=[];for(s=o=0;s<n.length;++s)e=n[s],e&&(e=1&s?a(e,1,i):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(l[o++]=e);e=o<2?l[0]:"["+l.join(",")+'].join("")'}else e=a(n[1],0,i);return i[0]&&(e=e.replace(u,function(t,e){return i[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function a(t,e,i){function n(e,i){var n,s=1,a="("===e?/[()]/g:"["===e?/[[\]]/g:/[{}]/g;for(a.lastIndex=i.lastIndex;n=a.exec(t);)if(n[0]===e)++s;else if(!--s)break;i.lastIndex=s?t.length:a.lastIndex}if("="===t[0]&&(t=t.slice(1)),t=t.replace(r,function(t,e){return t.length>2&&!e?""+(i.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var s,a=[],l=0;t&&(s=t.match(d))&&!s.index;){var u,c,p=/,|([[{(])|$/g;for(t=RegExp.rightContext,u=s[2]?i[s[2]].slice(1,-1).trim().replace(/\s+/g," "):s[1];c=(s=p.exec(t))[1];)n(c,p);c=t.slice(0,s.index),t=RegExp.rightContext,a[l++]=o(c,1,u)}t=l?l>1?"["+a.join(",")+'].join(" ").trim()':a[0]:o(t,e)}return t}function o(t,e,i){var n;return t=t.replace(p,function(t,e,i,s,a){return i&&(s=n?0:s+t.length,"this"!==i&&"global"!==i&&"window"!==i?(t=e+'("'+i+c+i,s&&(n="."===(a=a[s])||"("===a||"["===a)):s&&(n=!h.test(a.slice(s)))),t}),n&&(t="try{return "+t+"}catch(e){E(e,this)}"),i?t=(n?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+i+'":""':e&&(t="function(v){"+(n?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var l={};t.isRaw=function(t){return"="===t[ot._rawOffset]},t.haveRaw=function(t){return ot(10).test(t)},t.hasExpr=ot.hasExpr,t.loopKeys=ot.loopKeys,t.errorHandler=null;var r=RegExp(ot.S_QBLOCKS,"g"),u=/\x01(\d+)~/g,d=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/,c='"in this?this:'+("object"!=typeof s?"global":"window")+").",p=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,h=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.parse=function(t){return t},t}();lt.version=ot.version="v2.3.20";var rt=function(t){function e(e,a){var l=e&&e.match(/^\s*<([-\w]+)/),r=l&&l[1].toLowerCase(),u=s[r]||o,d=B(u);return d.stub=!0,a&&(e=n(e,a)),t&&r&&(l=r.match(nt))?i(d,e,r,!!l[1]):d.innerHTML=e,d}function i(t,e,i,n){var s,a=B(o),l=n?"select>":"table>";a.innerHTML="<"+l+e+"</"+l,s=M(i,a),s&&t.appendChild(s)}function n(t,e){if(!/<yield\b/i.test(t))return t;var i=0;return t=t.replace(/<yield\s+from=['"]([-\w]+)['"]\s*(?:\/>|>\s*<\/yield\s*>)/gi,function(t,n){var s=e.match(RegExp(a.replace("@",n),"i"));return++i,s&&s[2]||""}),i?t:t.replace(/<yield\s*(?:\/>|>\s*<\/yield\s*>)/gi,e||"")}var s={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},a=/<yield\s+to=(['"])?@\1\s*>([\S\s]+?)<\/yield\s*>/.source,o="div";return t=t&&t<10,e}(at),ut=function(t){if(!s)return{add:function(){},inject:function(){}};var e=function(){var t=B("style");S(t,"type","text/css");var e=M("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),i=e.styleSheet,n="";return Object.defineProperty(t,"styleNode",{value:e,writable:!0}),{add:function(t){n+=t},inject:function(){n&&(i?i.cssText+=n:e.innerHTML+=n,n="")}}}(G),dt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var i=0;e=function(t){var e=Date.now(),n=Math.max(16-(e-i),0);setTimeout(function(){t(i=e+n)},n)}}return e}(s||{});G.util={brackets:ot,tmpl:lt},G.mixin=function(){var t={};return function(e,i){return i?void(t[e]=i):t[e]}}(),G.tag=function(t,e,i,n,s){return g(n)&&(s=n,/^[\w\-]+\s?=/.test(i)?(n=i,i=""):n=""),i&&(g(i)?s=i:ut.add(i)),W[t]={name:t,tmpl:e,attrs:n,fn:s},t},G.tag2=function(t,e,i,n,s,a){return i&&ut.add(i),W[t]={name:t,tmpl:e,attrs:n,fn:s},t},G.mount=function(t,e,i){function n(t){var e="";return b(t,function(t){/[^-\w]/.test(t)||(e+=",*["+Z+"="+t.trim()+"]")}),e}function s(){var t=Object.keys(W);return t+n(t)}function a(t){var n;if(t.tagName){!e||(n=$(t,Z))&&n==e||S(t,Z,e);var s=q(t,e||t.getAttribute(Z)||t.tagName.toLowerCase(),i);s&&r.push(s)}else t.length&&b(t,a)}var o,l,r=[];if(ut.inject(),typeof e===tt&&(i=e,e=0),typeof t===X?("*"===t?t=l=s():t+=n(t.split(",")),o=t?V(t):[]):o=t,"*"===e){if(e=l||s(),o.tagName)o=V(e,o);else{var u=[];b(o,function(t){u.push(V(e,t))}),o=u}e=0}return o.tagName?a(o):b(o,a),r},G.update=function(){return b(J,function(t){t.update()})},G.Tag=v,typeof e===tt?t.exports=G:"function"===it&&typeof i(3)!==et?(n=function(){return G}.call(e,i,e,t),!(n!==a&&(t.exports=n))):s.riot=G}("undefined"!=typeof window?window:void 0)},function(t,e){(function(e){t.exports=e}).call(e,{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){(function(t){try{(function(){"use strict";var e=i(48),n=i(49),s=i(50),a=i(51);i(52),i(54),i(55),i(56),i(57),i(58),i(59),i(60),i(61),i(62),i(63),t.mount("schedule-admin-view-published-bulk-actions",{published_store:s}),t.mount("schedule-admin-view-unpublished-bulk-actions",{unpublished_store:a}),t.mount("schedule-admin-view-published-filters",{dispatcher:n,api:e}),t.mount("schedule-admin-view-published",{api:e,dispatcher:n,published_store:s,unpublished_store:a}),t.mount("schedule-admin-view-published-results",{api:e,dispatcher:n,published_store:s}),t.mount("schedule-admin-view-empty-spots",{api:e,dispatcher:n,published_store:s}),t.mount("schedule-admin-view-unpublished-filters",{api:e,dispatcher:n}),t.mount("schedule-admin-view-unpublished",{api:e,unpublished_store:a,dispatcher:n})}).call(this)}finally{}}).call(e,i(2))},function(t,e,i){(function(e){try{(function(){"use strict";var n=e.observable(),s="api/v1/summits/@SUMMIT_ID",a=i(49);n.RETRIEVED_PUBLISHED_EVENTS="RETRIEVED_PUBLISHED_EVENTS",n.RETRIEVED_UNPUBLISHED_EVENTS="RETRIEVED_UNPUBLISHED_EVENTS",n.RETRIEVED_PUBLISHED_SEARCH="RETRIEVED_PUBLISHED_SEARCH",n.RETRIEVED_EMPTY_SPOTS="RETRIEVED_EMPTY_SPOTS",n.RETRIEVED_LOCATIONS_BY_DAY="RETRIEVED_LOCATIONS_BY_DAY",n.getScheduleByDayAndLocation=function(t,e,i){var a=s.replace("@SUMMIT_ID",t)+"/schedule?day="+e+"&location="+i+"&blackouts=1&cache=0";return $.get(a,function(s){s.summit_id=t,s.location_id=i,s.day=e,n.trigger(n.RETRIEVED_PUBLISHED_EVENTS,s)})},n.getUnpublishedEventsBySource=function(t,e,i,a,o,l,r,u){var d=s.replace("@SUMMIT_ID",t)+"/events/unpublished/"+e,c={expand:"speakers"};"tracks"===e&&""!==i&&"undefined"!=typeof i&&(c.track_id=i),"track_list"===e&&""!==i&&"undefined"!=typeof i&&(c.track_list_id=i),"events"===e&&""!==i&&"undefined"!=typeof i&&(c.event_type_id=i),"events"!==e&&""!==a&&"undefined"!=typeof a&&(c.status=a),""!==r&&"undefined"!=typeof r&&(c.page=r),""!==u&&"undefined"!=typeof u&&(c.page_size=u),""!==o&&"undefined"!=typeof o&&(c.search_term=o),""!==l&&"undefined"!=typeof l&&(c.order=l);var p="";for(var h in c)""!==p&&(p+="&"),p+=h+"="+c[h];return""!==p&&(d+="?"+p),$.get(d,function(t){n.trigger(n.RETRIEVED_UNPUBLISHED_EVENTS,t)})},n.getScheduleSearchResults=function(t,e){var i=s.replace("@SUMMIT_ID",t)+"/schedule/search?term="+e;return $.get(i,function(e){e.summit_id=t,n.trigger(n.RETRIEVED_PUBLISHED_SEARCH,e)})},n.getScheduleEmptySpots=function(t,e,i,a,o,l){var r=s.replace("@SUMMIT_ID",t)+"/schedule/empty_spots",u={days:JSON.stringify(e),start_time:i,end_time:a,locations:JSON.stringify(o),length:l};return $.get(r,u,function(e){e.summit_id=t,n.trigger(n.RETRIEVED_EMPTY_SPOTS,e)})},n.publish=function(t,e,i){var n=s.replace("@SUMMIT_ID",t)+"/events/"+e.id+"/publish",a=jQuery.extend(!0,{},e);a.start_datetime=a.start_datetime.format("YYYY-MM-DD HH:mm:ss"),a.end_datetime=a.end_datetime.format("YYYY-MM-DD HH:mm:ss"),console.log(" start_datetime "+a.start_datetime+" end_datetime "+a.end_datetime),$.ajax({url:n,type:"PUT",data:JSON.stringify(a),contentType:"application/json; charset=utf-8"}).done(function(){}).fail(function(t){var n=t.status;if(412==n){var s=$.parseJSON(t.responseText);return void swal({title:"Validation error",text:s.messages[0].message,type:"warning"},function(){return i?$("#event_"+e.id).animate({top:$("#event_"+e.id).attr("prev-pos-top"),height:$("#event_"+e.id).attr("prev-height")}):($(".unpublished-events-refresh").click(),$("#event_"+e.id).remove()),!1})}alert("There was an error on publishing process, please contact your administrator.")})},n.unpublish=function(t,e){var i=s.replace("@SUMMIT_ID",t)+"/events/"+e+"/unpublish";console.log("unpublish summit_id "+t+" event_id "+e),$.ajax({url:i,type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(){}).fail(function(){alert("There was an error on unpublishing process, please contact your administrator.")})},n.getLocations=function(t,e){var i=s.replace("@SUMMIT_ID",t)+"/locations";return console.log("getLocations summit_id "+t+" day "+e),$.get(i+"?day="+e,function(e){e.summit_id=t,n.trigger(n.RETRIEVED_LOCATIONS_BY_DAY,e)})},a.on(a.PUBLISHED_EVENTS_FILTER_CHANGE,function(t,e,i){n.getScheduleByDayAndLocation(t,e,i)}),a.on(a.PUBLISHED_EVENTS_SEARCH,function(t,e){n.getScheduleSearchResults(t,e)}),a.on(a.PUBLISHED_EVENTS_SEARCH_EMPTY,function(t,e,i,s,a,o){n.getScheduleEmptySpots(t,e,i,s,a,o)}),a.on(a.UNPUBLISHED_EVENT,function(t,e){n.unpublish(t,e)}),a.on(a.PUBLISHED_EVENTS_DAY_CHANGE,function(t,e){n.getLocations(t,e)}),t.exports=n}).call(this)}finally{}}).call(e,i(2))},function(t,e,i){(function(e){try{(function(){"use strict";function i(){e.observable(this),this.PUBLISHED_EVENT="PUBLISHED_EVENT",this.PUBLISHED_EVENTS_FILTER_CHANGE="PUBLISHED_EVENTS_FILTER_CHANGE",this.PUBLISHED_EVENTS_SEARCH="PUBLISHED_EVENTS_SEARCH",this.PUBLISHED_EVENTS_SEARCH_EMPTY="PUBLISHED_EVENTS_SEARCH_EMPTY",this.PUBLISHED_EVENTS_DEEP_LINK="PUBLISHED_EVENTS_DEEP_LINK",this.UNPUBLISHED_EVENT="UNPUBLISHED_EVENT",this.UNPUBLISHED_EVENTS_PAGE_CHANGED="UNPUBLISHED_EVENTS_PAGE_CHANGED",this.UNPUBLISHED_EVENTS_SOURCE_CHANGED="UNPUBLISHED_EVENTS_SOURCE_CHANGED",this.PUBLISHED_EVENTS_DAY_CHANGE="PUBLISHED_EVENTS_DAY_CHANGE",this.publishEvent=function(t){this.trigger(this.PUBLISHED_EVENT,t)},this.unPublishEvent=function(t,e){this.trigger(this.UNPUBLISHED_EVENT,t,e)},this.unpublishedEventsPageChanged=function(t){this.trigger(this.UNPUBLISHED_EVENTS_PAGE_CHANGED,t)},this.unpublishedEventsSourceChanged=function(t){this.trigger(this.UNPUBLISHED_EVENTS_SOURCE_CHANGED,t)},this.publishedEventsFilterChanged=function(t,e,i){this.trigger(this.PUBLISHED_EVENTS_FILTER_CHANGE,t,e,i)},this.publishedEventsSearch=function(t,e){this.trigger(this.PUBLISHED_EVENTS_SEARCH,t,e)},this.publishedEventsSearchEmpty=function(t,e,i,n,s,a){this.trigger(this.PUBLISHED_EVENTS_SEARCH_EMPTY,t,e,i,n,s,a)},this.publishedEventsDeepLink=function(){this.trigger(this.PUBLISHED_EVENTS_DEEP_LINK)},this.publishedEventsDayChanged=function(t,e){this.trigger(this.PUBLISHED_EVENTS_DAY_CHANGE,t,e)}}var n=new i;t.exports=n}).call(this)}finally{}}).call(e,i(2))},function(t,e,i){(function(e){try{(function(){"use strict";function n(){e.observable(this),this.LOAD_STORE="PUBLISHED_EVENTS_STORE_LOADED",this.LOAD_RESULTS="PUBLISHED_EVENTS_RESULTS_LOADED",this.LOAD_EMPTY_SPOTS="PUBLISHED_EMPTY_SPOTS_LOADED",this._published_events={},this._published_results={},this._empty_spots={},this._summit_id=null,this._location_id=null,this._day=null,this.currentLocation=function(){return this._location_id},this.currentDay=function(){return this._day},this.clear=function(){this._published_events={},this._published_results={},this._empty_spots={}},this.all=function(){return this._published_events},this.results=function(){return this._published_results},this.empty_spots=function(){return this._empty_spots},this.add=function(t){this._published_events[t.id]=t},this.get=function(t){return this._published_events[t]},this.isEmpty=function(){return 0==Object.keys(this._published_events).length},this["delete"]=function(e){var i=this.get(e);return delete this._published_events[e],t.trigger(t.LOAD_STORE),i},this._load=function(t){this.clear();for(var e=t,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var s;if(i){if(n>=e.length)break;s=e[n++]}else{if(n=e.next(),n.done)break;s=n.value}var a=s;this._published_events[a.id]=a,a.start_datetime=moment(a.start_datetime,"YYYY-MM-DD HH:mm:ss"),a.end_datetime=moment(a.end_datetime,"YYYY-MM-DD HH:mm:ss")}},this._load_results=function(t){this.clear();for(var e=t,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var s;if(i){if(n>=e.length)break;s=e[n++]}else{if(n=e.next(),n.done)break;s=n.value}var a=s;this._published_results[a.id]=a}},this._load_empty_spots=function(t){this.clear();for(var e=t,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var s;if(i){if(n>=e.length)break;s=e[n++]}else{if(n=e.next(),n.done)break;s=n.value}var a=s;a.location_id in this._empty_spots||(this._empty_spots[a.location_id]=[]),this._empty_spots[a.location_id].push(a)}};var t=this;s.on(s.RETRIEVED_PUBLISHED_EVENTS,function(e){console.log(s.RETRIEVED_PUBLISHED_EVENTS),t._summit_id=e.summit_id,t._location_id=e.location_id,t._day=e.day,t._load(e.events),t.trigger(t.LOAD_STORE)}),s.on(s.RETRIEVED_PUBLISHED_SEARCH,function(e){console.log(s.RETRIEVED_PUBLISHED_SEARCH),t._summit_id=e.summit_id,t._load_results(e.events),t.trigger(t.LOAD_RESULTS)}),s.on(s.RETRIEVED_EMPTY_SPOTS,function(e){console.log(s.RETRIEVED_EMPTY_SPOTS),t._summit_id=e.summit_id,t._load_empty_spots(e.empty_spots),t.trigger(t.LOAD_EMPTY_SPOTS)})}var s=i(48),a=i(49),o=new n;a.on(a.UNPUBLISHED_EVENT,function(t,e){o["delete"](e)}),t.exports=o}).call(this)}finally{}}).call(e,i(2))},function(t,e,i){(function(e){try{(function(){"use strict";function n(){e.observable(this),this.LOAD_STORE="UNPUBLISHED_EVENTS_STORE_LOADED",this._unpublished_events={},this._page=1,this._page_size=10,this._total_pages=null,this.clear=function(){this._unpublished_events={}},this.all=function(){return this._unpublished_events},this.get=function(t){return this._unpublished_events["ev_"+t]},this._setApiResponse=function(t){this._load(t.data),this._page=t.page,this._page_size=t.page_size,this._total_pages=t.total_pages},this.getPagesInfo=function(){return{page:this._page,total_pages:this._total_pages}},this["delete"]=function(e){var i=this.get(e);return delete this._unpublished_events["ev_"+e],t.trigger(t.LOAD_STORE),i},this._load=function(t){this.clear();for(var e=t,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var s;if(i){if(n>=e.length)break;s=e[n++]}else{if(n=e.next(),n.done)break;s=n.value}var a=s;this._unpublished_events["ev_"+a.id]=a}},this.isEmpty=function(){return 0==Object.keys(this._unpublished_events).length};var t=this;s.on(s.RETRIEVED_UNPUBLISHED_EVENTS,function(e){console.log(s.RETRIEVED_UNPUBLISHED_EVENTS),t._setApiResponse(e),t.trigger(t.LOAD_STORE)})}var s=i(48),a=new n;t.exports=a}).call(this)}finally{}}).call(e,i(2))},function(t,e){},,function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-schedule-event",'<div if="{!isForeignBlackout()}" class="event resizable event-published unselectable {getCSSClassBySelectionStatus(data.status)}" id="event_{data.id}" data-id="{data.id}" riot-style="position:absolute; top: {getEventTop()}; left: {getEventLeft()}; height: {getEventHeight()}"> <div class="ui-resizable-handle ui-resizable-n" title="{data.start_datetime.format(\'hh:mm a\')}"> <span class="ui-icon ui-icon-triangle-1-n"></span> </div> <div class="event-buttons"> <a class="unpublish-event-btn" title="unpublish event" data-event-id="{data.id}"><i class="fa fa-times"></i></a> <a href="summit-admin/{parent.summit.id}/events/{data.id}" class="edit-event-btn" title="edit event"> <i class="fa fa-pencil-square-o"></i> </a> </div> <div class="event-inner-body"> <div> <input type="checkbox" name="bulk_action_{data.id}" id="bulk_action_{data.id}" class="bulk-action-published-selector" data-event-id="{data.id}"> <a id="popover_{data.id}" data-content="{getPopoverContent()}" title="{data.title}" data-toggle="popover">{trimText(data.title, 68 )}{data.class_name === \'Presentation\'?\' - \'+ trimText(parent.summit.tracks_dictionary[data.track_id].name, 20 ):\'\'}</a> </div> <div class="presentation-status"> <div if="{data.status}" class="event-status-component" title="status"><i class="fa fa-check-circle">&nbsp;{data.status}</i></div> <div if="{data.headcount}" class="event-status-component" title="headcount">&nbsp;<i class="fa fa-users">&nbsp;{data.headcount}&nbsp;of&nbsp;{parent.summit.locations_dictionary[data.location_id].capacity}</i></div> <div if="{data.attendees_schedule_count}" class="event-status-component" title="# Added to Schedule">&nbsp;<i class="fa fa-calendar-check-o">&nbsp;{data.attendees_schedule_count}</i></div> </div> </div> <div class="ui-resizable-handle ui-resizable-s" title="{data.end_datetime.format(\'hh:mm a\')}"> <span class="ui-icon ui-icon-triangle-1-s"></span> </div> </div> <div if="{isForeignBlackout()}" class="event event-published unselectable no_drag" id="event_{data.id}" data-id="{data.id}" riot-style="position:absolute; top: {getEventTop()}; left: {getEventLeft()}; height: {getEventHeight()}"> <div class="event-inner-body"> Blackout Event on {parent.summit.locations_dictionary[data.location_id].name}: <a id="popover_{data.id}" data-content="{getPopoverContent()}" title="{data.title}" data-toggle="popover"> {trimText(data.title, 75)} </a> </div> </div>',"","",function(t){
this.data=t.data,this.dispatcher=parent.dispatcher,this.summit=parent.summit,this.minute_pixels=parseInt(t.minute_pixels),this.interval=parseInt(t.interval);var e=this;this.on("mount",function(){}),this.trimText=function(t,e){var i=t.substring(0,e);return t.length>e&&(i+="..."),i}.bind(this),this.getEventTop=function(){var t=e.data.start_datetime,i=t.hour(),n=t.minute(),s=n%e.interval,n=n-s,a=$("#time_slot_container_"+e.pad(i,2)+"_"+e.pad(n,2)),o=parseInt(a.position().top)+s*e.minute_pixels;return o+"px"}.bind(this),this.getEventLeft=function(){var t=e.data.start_datetime,i=t.hour(),n=t.minute(),s=n%e.interval,n=n-s,a=$("#time_slot_container_"+e.pad(i,2)+"_"+e.pad(n,2)),o=a.position().left;return o+"px"}.bind(this),this.getEventHeight=function(){var t=e.data.start_datetime,i=e.data.end_datetime,n=moment.duration(i.diff(t)),s=n.asMinutes();return console.log("event duration "+s),parseInt(s)*e.minute_pixels+"px"}.bind(this),this.getPopoverContent=function(){var t=null!=e.data["abstract"]?e.data["abstract"]:e.data.description;null==t&&(t="TBD");var i='<div class="row"><div class="col-md-12">'+t+"</div></div>";if("undefined"!=typeof e.data.speakers){i+='<div class="row"><div class="col-md-12"><b>Speakers</b></div></div>';for(var n in e.data.speakers){var s=e.data.speakers[n];i+='<div class="row"><div class="col-md-12">'+s.name+"</div></div>"}}return i}.bind(this),this.isForeignBlackout=function(){var t=$("#select_venue").val();return e.data.location_id!=t}.bind(this),this.pad=function(t,e){for(var i=t+"";i.length<e;)i="0"+i;return i}.bind(this),this.getCSSClassBySelectionStatus=function(t){switch(t){case"accepted":return"status-accepted";case"alternate":return"status-alternate";case"unaccepted":return"status-unaccepted";default:return""}return""}.bind(this)})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-published-filters",'<div class="row"> <div class="col-md-12" style="margin:10px 0;"> <div class="input-group" style="width: 100%;"> <input data-rule-required="true" data-rule-minlength="3" type="text" id="published_search_term" class="form-control input-global-search" placeholder="Search for published Events"> <span class="input-group-btn" style="width: 5%;"> <button class="btn btn-default btn-global-search" id="search_published"><i class="fa fa-search"></i></button> <button class="btn btn-default btn-global-search-clear" onclick="{resetFilters}"> <i class="fa fa-times"></i> </button> <button class="btn btn-default" data-toggle="modal" data-target="#empty_spots_modal">Find Empty</button> </span> </div> </div> </div> <div class="row" style="margin-bottom: 35px;"> <div class="col-md-6"> <label for="select_day">Day</label> <select id="select_day" name="select_day" style="width: 80%"> <option value="">-- Select A Day --</option> <option value="{day.date}" each="{key, day in summit.dates}">{day.label}</option> </select> </div> <div class="col-md-6"> <label for="select_venue">Venue</label> <select id="select_venue" name="select_venue" style="width: 80%"> <option hidden value="">-- Select A Venue --</option> <option value="0">TBA</option> <option value="{id}" title="{getLocationOptionTitle(class_name)}" each="{summit.locations}" data-venue-name="{name}" class="{getLocationOptionCSSClass(class_name)}">{name}</option> </select> </div> </div> <div id="empty_spots_modal" class="modal fade" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h4 class="modal-title">Find Empty Spots</h4> </div> <div class="modal-body"> <div class="row" style="margin-bottom: 35px;"> <div class="col-md-6"> <label for="select_day_modal">Day</label> <select id="select_day_modal" style="width: 80%"> <option value="">-- Any Day --</option> <option value="{day.date}" each="{key, day in summit.dates}">{day.label}</option> </select> </div> <div class="col-md-6"> <label for="select_venue_modal">Venue</label> <select id="select_venue_modal" style="width: 80%"> <option value="">-- Any Venue --</option> <option value="{id}" title="{getLocationOptionTitle(class_name)}" each="{summit.locations}" class="{getLocationOptionCSSClass(class_name)}">{name}</option> </select> </div> </div> <div class="row" style="margin-bottom: 35px;"> <div class="col-md-3"> <label for="start_time_modal">From </label> <input type="text" id="start_time_modal" value="07:00" style="width: 60%"> </div> <div class="col-md-3"> <label for="end_time_modal">To </label> <input type="text" id="end_time_modal" value="22:00" style="width: 60%"> </div> <div class="col-md-6"> <label for="end_time_modal">Gap (minutes)</label> <input id="length_modal" min="15" max="240" step="15" value="60" style="width: 60px" type="number"> </div> </div> </div> <div class="modal-footer"> <button type="button" id="search_empty" class="btn btn-default" data-dismiss="modal">Find</button> </div> </div> </div> </div>',"","",function(t){this.summit=t.summit,this.day="",this.location_id="",this.time="",this.event_id="",this.query="",this.dispatcher=t.dispatcher,this.api=t.api;var e=this;this.on("updated",function(){e.updateFilters()}),window.onhashchange=function(t){e.setFromHash(),e.doFilter()},this.on("mount",function(){$(function(){$("#select_day").change(function(t){e.resetFilters(),e.buildHash(),e.dispatcher.publishedEventsDayChanged(e.summit.id,e.day)}),$("#select_venue").change(function(t){e.resetFilters(),e.buildHash()}),$("#select_day").chosen(),$("#select_venue").chosen(),$("#search_published").click(function(t){var i=$("#published_search_term").val();i&&(e.query=i,e.buildHash())}),$("#published_search_term").keydown(function(t){13==t.keyCode&&$("#search_published").click()}),$("#search_empty").click(function(t){e.doSearchEmpty()}),$("#start_time_modal,#end_time_modal").datetimepicker({datepicker:!1,format:"H:i",minTime:"07:00",maxTime:"22:00",step:15}),e.setFromHash(),e.doFilter()})}),this.doFilter=function(){if(e.query)e.doSearch();else{if(""===e.day||""===e.location_id)return;$("body").ajax_loader(),e.dispatcher.publishedEventsFilterChanged(e.summit.id,e.day,e.location_id)}}.bind(this),this.doSearch=function(){$("body").ajax_loader(),$("#schedule_container").hide(),$("#empty_spots").hide(),$("#search_results").show(),e.dispatcher.publishedEventsSearch(e.summit.id,e.query)}.bind(this),this.clearClicked=function(){$("#published_search_term").val(""),$("#schedule_container").show(),$("#search_results").hide(),$("#empty_spots").hide()}.bind(this),this.resetFilters=function(){e.query="",e.event_id="",e.day=$("#select_day").val(),e.location_id=$("#select_venue").val(),e.time="",$("#published_search_term").val(""),$("#schedule_container").show(),$("#search_results").hide()}.bind(this),this.doSearchEmpty=function(){$("body").ajax_loader(),$("#schedule_container").hide(),$("#search_results").hide(),$("#empty_spots").show(),window.location.hash="";var t=[],i=[],n=$("#start_time_modal").val(),s=$("#end_time_modal").val(),a=60*$("#length_modal").val();""==$("#select_day_modal").val()?$("#select_day_modal option").each(function(){""!=$(this).val()&&t.push($(this).val())}):t.push($("#select_day_modal").val()),""==$("#select_venue_modal").val()?$("#select_venue_modal option").each(function(){""!=$(this).val()&&i.push($(this).val())}):i.push($("#select_venue_modal").val()),e.dispatcher.publishedEventsSearchEmpty(e.summit.id,t,n,s,i,a)}.bind(this),this.setFromHash=function(){var t=$(window).url_fragment("getParams");if(e.day="",e.location_id="",e.event_id="",e.time="",e.query="",!$.isEmptyObject(t))for(var i in t){var n=t[i];switch(i){case"day":e.day=n,e.dispatcher.publishedEventsDayChanged(e.summit.id,e.day);break;case"venue":e.location_id=n;break;case"event":e.event_id=n;break;case"time":e.time=n;break;case"q":e.query=n}}e.updateFilters()}.bind(this),this.buildHash=function(){$(window).url_fragment("setParam","q",""),$(window).url_fragment("setParam","day",""),$(window).url_fragment("setParam","venue",""),$(window).url_fragment("setParam","event",""),$(window).url_fragment("setParam","time",""),e.query?$(window).url_fragment("setParam","q",e.query):($(window).url_fragment("setParam","day",e.day),$(window).url_fragment("setParam","venue",e.location_id),$(window).url_fragment("setParam","event",e.event_id),$(window).url_fragment("setParam","time",e.time)),window.location.hash=$(window).url_fragment("serialize")}.bind(this),this.updateFilters=function(){$("#select_day").val(e.day),$("#select_day").trigger("chosen:updated"),$("#select_venue").val(e.location_id),$("#select_venue").trigger("chosen:updated"),$("#published_search_term").val(e.query)}.bind(this),e.dispatcher.on(e.dispatcher.PUBLISHED_EVENTS_DEEP_LINK,function(){$("#published_search_term").val(""),$("#schedule_container").show(),$("#search_results").hide(),$("#empty_spots").hide(),$("body").ajax_loader(),e.setFromHash()}),this.getLocationOptionCSSClass=function(t){switch(t){case"SummitVenue":return"location-venue";case"SummitHotel":return"location-hotel";case"SummitExternalLocation":return"location-external";case"SummitVenueRoom":return"location-venue-room"}}.bind(this),this.getLocationOptionTitle=function(t){switch(t){case"SummitVenue":return"Venue";case"SummitHotel":return"Hotel";case"SummitExternalLocation":return"External Location";case"SummitVenueRoom":return"Room"}}.bind(this),e.api.on(e.api.RETRIEVED_LOCATIONS_BY_DAY,function(t){$.each(t.locations,function(t,e){var i=$('#select_venue option[value="'+e.id+'"]');i.text(i.attr("data-venue-name")+" ("+e.events_count+")")}),$("#select_venue").trigger("chosen:updated")})})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-published",'<div class="row" id="schedule_container"> <div class="col-md-12"> <table id="day_schedule" class="unselectable"> <tbody> <tr> <td class="times-col"> <div each="{time_slots}" class="time-slot" id="time_slot_{format(⁗HH_mm⁗)}">{format(⁗hh:mm A⁗)}</div> </td> <td class="events-col col-md-12"> <div each="{time_slots}" class="time-slot-container" data-time="{format(\'HH:mm\')}" id="time_slot_container_{format(\'HH_mm\')}"></div> <schedule-admin-view-schedule-event each="{key, e in published_store.all()}" data="{e}" minute_pixels="{parent.minute_pixels}" interval="{parent.interval}"></schedule-admin-view-schedule-event> </td> </tr> </tbody> </table> </div> </div>',"","",function(t){this.day=null,this.location=null,this.start_time=moment(t.start_time,"HH:mm"),this.end_time=moment(t.end_time,"HH:mm"),this.interval=parseInt(t.interval),this.step=parseInt(t.step),this.minute_pixels=parseInt(t.minute_pixels),this.slot_width=parseInt(t.slot_width),this.dispatcher=t.dispatcher,this.published_store=t.published_store,this.unpublished_store=t.unpublished_store,this.summit=summit,this.time_slots=[],this.api=t.api;var e=this,i=!1,n=this.start_time;do this.time_slots.push(n),n=n.clone(),n.add("m",this.interval),i=n.isAfter(this.end_time);while(!i);this.on("mount",function(){$(function(){e.createDraggable($(".event")),e.slot_width=$(".time-slot-container").width(),$(".time-slot-container").droppable({hoverClass:"ui-state-hover",accept:function(){return null!==e.published_store.currentDay()&&e.published_store.currentLocation()},drop:function(t,i){var n=$(i.draggable),s=parseInt(n.attr("data-id")),a=$(this),o=!0,l=a.position().top,r=a.position().left;n.addClass("event-published");var u=a.attr("data-time"),d=e.published_store.currentDay(),c=parseInt(n.css("height"))/e.minute_pixels,p=moment(d+" "+u,"YYYY-MM-DD HH:mm").add("m",c),h=moment(d+" "+u,"YYYY-MM-DD HH:mm");console.log("star time "+h.format("HH:mm")),console.log("end time "+p.format("HH:mm"));for(var v in e.published_store.all())if(parseInt(v)!==parseInt(s)){var t=e.published_store.get(v),_=t.start_datetime,m=t.end_datetime;if(h.isBefore(m)&&p.isAfter(_))return console.log("overlapped!!!"),!1}n.appendTo($(".events-col")),n.css("position","absolute"),n.css("top",l+1),n.css("left",r),n.hasClass("event-unpublished")&&(o=!1,n.removeClass("event-unpublished"),n.addClass("event-published"),$(".ui-resizable-n",n).show(),$(".ui-resizable-s",n).show(),$(".unpublish-event-btn",n).show(),e.published_store.add(e.unpublished_store["delete"](s)));var f=e.published_store.get(s);f.start_datetime=h,f.end_datetime=p,"undefined"==typeof n.resizable("instance")&&e.createResizable(n),$(".ui-resizable-n",n).attr("title",f.start_datetime.format("hh:mm a")),$(".ui-resizable-s",n).attr("title",f.end_datetime.format("hh:mm a")),f.location_id=e.published_store.currentLocation(),e.api.publish(e.summit.id,f,o)}}),$("body").on("click",".unpublish-event-btn",function(){var t=$(this).attr("data-event-id");swal({title:"Are you sure?",text:"to unpublish this event from summit schedule!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, unpublish it!",closeOnConfirm:!1},function(){e.dispatcher.unPublishEvent(e.summit.id,t),$("#event_"+t).remove(),swal("Deleted!","Your event was unpublished.","success")})})}),$(window).resize(function(){e.slot_width=$(".time-slot-container").width(),$(".event-published").css("width",e.slot_width),$(".ui-resizable").resizable("option","maxWidth",e.slot_width),$(".ui-resizable").resizable("option","minWidth",e.slot_width)})}),this.createResizable=function(t){t.each(function(){var t=$(this),e=t.attr("data-id"),i=$(".ui-resizable-n",t).uitooltip({tooltipClass:"tooltip-n-"+e,track:!0,position:{my:"left+15 center",at:"right center"}}),n=$(".ui-resizable-s",t).uitooltip({tooltipClass:"tooltip-s-"+e,track:!0,position:{my:"left+15 center",at:"right center"}});i.addClass("top"),n.addClass("bottom")}),t.resizable({containment:".events-col",maxWidth:e.slot_width,minWidth:e.slot_width,minHeight:e.minute_pixels*e.interval,maxHeight:null,grid:[0,e.minute_pixels*e.step],handles:{n:".ui-resizable-n",s:".ui-resizable-s"},resize:function(t,i){var n=$(i.element),s=n.attr("data-id");if(i.size.height%(e.minute_pixels*e.step)>0){var a=0;do a+=e.minute_pixels*e.step;while(a<i.size.height);i.size.height=a}var o=i.size,l=n.offset(),r=l.top+o.height,u=Math.ceil(parseInt(o.height)/e.minute_pixels);console.log("event id "+s+" minutes "+u);var d=!1,c=null,p=i.originalSize.height;i.size.width=i.originalSize.width=e.slot_width,i.position.left=i.originalPosition.left,console.log("position top "+l.top+" height "+o.height+" bottom "+r+" original_h "+p),$(".time-slot-container").each(function(){var t=$(this).offset().top,i=parseInt(t)+e.minute_pixels*e.interval;if(t<=l.top&&l.top<i)return c=$(this),console.log(" container top "+t+" container bottom "+i+" time "+c.attr("data-time")),!1});var h=e.published_store.currentDay(),v=c.attr("data-time"),_=moment(h+" "+v,"YYYY-MM-DD HH:mm");if(console.log(" got container with start time "+v),l.top>c.offset().top){var m=Math.floor((l.top-c.offset().top)/e.minute_pixels);console.log(" adding "+m+" minutes to start time "+c.attr("data-time")),_=_.add("m",m)}var f=_.clone().add("m",u),b=null;for(var g in e.published_store.all())if(parseInt(g)!==parseInt(s)){var y=e.published_store.get(g),E=y.start_datetime,S=y.end_datetime;if(_.isBefore(S)&&f.isAfter(E)){d=!0,b=parseInt(g),console.log("overlapped with event id "+b+" !!!");break}}if(d){var y=e.published_store.get(b),E=y.start_datetime,S=y.end_datetime,w=moment.duration(S.diff(_)).asMinutes(),k=moment.duration(f.diff(E)).asMinutes(),T=w<k?w:k;return console.log(" delta minutes "+T),n.resizable("option","maxHeight",o.height-T*e.minute_pixels),!1}var D=e.published_store.get(s);D.start_datetime=_,D.end_datetime=f,$(".ui-resizable-n",n).attr("title",D.start_datetime.format("hh:mm a")),$(".ui-resizable-s",n).attr("title",D.end_datetime.format("hh:mm a")),$(".ui-tooltip-content",".tooltip-n-"+s).html(D.start_datetime.format("hh:mm a")),$(".ui-tooltip-content",".tooltip-s-"+s).html(D.end_datetime.format("hh:mm a"))},start:function(t,e){var i=$(e.element);i.resizable("option","maxHeight",null);var n=e.originalSize.height;console.log("start original_h "+n),$(this).attr("prev-height",$(this).css("height")),$(this).attr("prev-pos-top",$(this).position().top)},stop:function(t,i){var n=$(i.element),s=n.attr("data-id"),a=e.published_store.get(s);$(".ui-resizable-n",n).attr("title",a.start_datetime.format("hh:mm a")),$(".ui-resizable-s",n).attr("title",a.end_datetime.format("hh:mm a")),a.location_id=e.published_store.currentLocation(),e.api.publish(e.summit.id,a,!0),console.log("stop")}})}.bind(this),this.createDraggable=function(t){t.draggable({containment:"document",cursor:"move",helper:"clone",opacity:.5,start:function(){$(this).attr("prev-height",$(this).css("height")),$(this).attr("prev-pos-top",$(this).position().top)}})}.bind(this),e.published_store.on(e.published_store.LOAD_STORE,function(){console.log("UI: "+e.published_store.LOAD_STORE),$(".event-published").resizable("destroy"),$(".event-published").draggable("destroy"),$(".event-published").remove(),e.update(),$(".event-published").css("width",$(".time-slot-container").width()),e.createDraggable($(".event-published")),e.createResizable($(".event-published")),$('[data-toggle="popover"]').popover({trigger:"hover focus",html:!0,container:"body",placement:"auto",animation:!0,template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),$(".event").hover(function(){$(".event-buttons",this).stop().animate({width:"20px"},400)},function(){$(".event-buttons",this).stop().animate({width:"-0"},400)}),$("body").ajax_loader("stop");var t=$(window).url_fragment("getParams");if(t)for(var i in t){var n=t[i];"event"==i?$("body").animate({scrollTop:$("#event_"+n).offset().top-100},2e3,function(){$("#event_"+n).effect("highlight",{},2e3)}):"time"==i&&$("body").animate({scrollTop:$('[data-time="'+n+'"]').offset().top-100},2e3)}})})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-published-results",'<div id="search_results" style="display:none"> <h4>Search Results</h4> <div class="list-group"> <div each="{key, e in published_store.results()}"> <a href="#" onclick="{parent.deepLinkToEvent}" class="list-group-item"> <h4 class="list-group-item-heading" id="popover_{e.id}" data-content="{getPopoverContent(e)}" title="{e.title}" data-toggle="popover">{e.title}</h4> </a> <div class="result-event-buttons"> <a href="summit-admin/{parent.summit.id}/events/{e.id}" class="edit-event-btn" title="edit event"> <i class="fa fa-pencil-square-o"></i> </a> </div> </div> </div> </div>',"","",function(t){this.published_store=t.published_store,this.summit=summit,this.api=t.api,this.dispatcher=t.dispatcher;var e=this;e.published_store.on(e.published_store.LOAD_RESULTS,function(){console.log("UI: "+e.published_store.LOAD_RESULTS),e.update(),$('[data-toggle="popover"]').popover({trigger:"hover focus",html:!0,container:"body",placement:"auto",animation:!0,template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),$("body").ajax_loader("stop")}),this.getPopoverContent=function(t){var e='<div class="row"><div class="col-md-12">'+t.description+"</div></div>";if("undefined"!=typeof t.speakers){e+='<div class="row"><div class="col-md-12"><b>Speakers</b></div></div>';for(var i in t.speakers){var n=t.speakers[i];e+='<div class="row"><div class="col-md-12">'+n.name+"</div></div>"}}return e}.bind(this),this.deepLinkToEvent=function(t){var i=t.item;$(window).url_fragment("setParam","q",""),$(window).url_fragment("setParam","day",i.e.start_date),$(window).url_fragment("setParam","venue",i.e.location_id),$(window).url_fragment("setParam","event",i.e.id),window.location.hash=$(window).url_fragment("serialize"),$('[data-toggle="popover"]').each(function(){$(this).popover("hide")}),e.dispatcher.publishedEventsDeepLink()}.bind(this)})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-empty-spots",'<div id="empty_spots" style="display:none"> <h4>Empty Spots</h4> <div each="{location, spot in published_store.empty_spots()}"> <hr> <h5>{summit.locations_dictionary[location].name}</h5> <div class="list-group"> <a href="#" onclick="{parent.deepLinkToSpot}" class="list-group-item" each="{spot}"> <h4 class="list-group-item-heading"> {summit.dates[day].label} - From: {moment(time, \'HH:mm\').format(⁗hh:mm A⁗)} - Gap: {gap} </h4> </a> </div> </div> </div>',"","",function(t){this.published_store=t.published_store,this.summit=summit,this.api=t.api,this.dispatcher=t.dispatcher;var e=this;e.published_store.on(e.published_store.LOAD_EMPTY_SPOTS,function(){console.log("UI: "+e.published_store.LOAD_EMPTY_SPOTS),e.update(),$("body").ajax_loader("stop")}),this.deepLinkToSpot=function(t){var i=t.item;window.location.hash="",$(window).url_fragment("setParam","day",i.day),$(window).url_fragment("setParam","venue",i.location_id),$(window).url_fragment("setParam","time",i.time),window.location.hash=$(window).url_fragment("serialize"),e.dispatcher.publishedEventsDeepLink()}.bind(this)})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-unpublished-filters",'<div class="row filters"> <div class="col-md-12" style="margin:10px 0;"> <div class="input-group" style="width: 100%;"> <input data-rule-required="true" data-rule-minlength="3" type="text" id="unpublished_search_term" class="form-control input-global-search" placeholder="Search for unpublished Events"> <span class="input-group-btn" style="width: 5%;"> <button class="btn btn-default btn-global-search" id="search_unpublished"><i class="fa fa-search"></i></button> <button class="btn btn-default btn-global-search-clear" onclick="{clearClicked}"> <i class="fa fa-times"></i> </button> </span> </div> </div> <div class="col-md-10"> <div class="row"> <div class="col-md-5"> <label for="select_unpublished_events_source">Source</label> <select id="select_unpublished_events_source" name="select_unpublished_events_source" style="width: 70%" value="presentations"> <option value="">-- Select An Event Source --</option> <option value="tracks">Tracks</option> <option value="track_list">Track Chair Sel.</option> <option value="presentations" selected>Presentations + Panels</option> <option value="events">Summit Events</option> </select> </div> <div class="col-md-7"> <div id="track_list_col" style="display:none;"> <label for="select_track_list">Track Lists</label> <select id="select_track_list" name="select_track_list" style="width: 70%"> <option value="">-- All --</option> <option each="{list in summit.track_lists}" value="{list.id}">{list.name}</option> </select> </div> <div id="track_col" style="display:none;"> <label for="select_tracks">Tracks</label> <select id="select_tracks" name="select_tracks" style="width: 70%"> <option value="">-- All --</option> <option each="{list in summit.tracks}" value="{list.id}">{list.name}</option> </select> </div> <div id="event_type_col" style="display:none;"> <label for="select_event_type">Type</label> <select id="select_event_type" name="select_event_type" style="width: 70%"> <option value="">-- All --</option> <option each="{id, type in summit.event_types}" if="{type.type != \'Presentation\'  && type.type != \'Keynotes\'}" value="{id}">{type.type}</option> </select> </div> </div> </div> <div class="row"> <div class="col-md-5"> <label for="sort_list">Sort by</label> <select id="sort_list" name="sort_list" style="width: 70%" value="title"> <option value="SummitEvent.Title" selected>Title</option> <option value="SummitEvent.ID">Event Id</option> <option value="SummitEvent.StartDate">Start Date</option> </select> </div> <div class="col-md-7"> <div id="presentation_selection_status_col" style="display:none;"> <label for="select_unpublished_selection_status">Sel. Status</label> <select id="select_unpublished_selection_status" name="select_unpublished_selection_status" style="width: 70%" value="approved"> <option value="">All</option> <option each="{status in summit.selection_status_options}" value="{status}">{status}</option> </select> </div> </div> </div> </div> <div class="col-md-2"> <button class="btn btn-primary unpublished-events-refresh" title="refresh unpublished events"> Refresh </button> </div> </div> <div class="row filters"> <div class="col-md-5"> </div> <div class="col-md-7"> </div> </div> <div class="row filters"> <div class="col-md-5"> </div> <div class="col-md-7"> </div> </div>',"","",function(t){this.summit=t.summit,this.api=t.api,this.dispatcher=t.dispatcher;var e=this;this.on("mount",function(){$(function(){$("#select_unpublished_events_source").change(function(t){var i=$("#select_unpublished_events_source").val(),n="",s=$("#unpublished_search_term").val(),a=$("#select_unpublished_selection_status").val();if(e.dispatcher.unpublishedEventsSourceChanged(i),""===i)return $("#track_list_col").hide(),void $("#presentation_selection_status_col").hide();switch(i){case"tracks":$("#track_col").show(),$("#track_list_col").hide(),$("#event_type_col").hide(),$("#presentation_selection_status_col").hide(),$("#sort_list option[value='SummitSelectedPresentation.Order']").remove(),n=$("#select_tracks").val();break;case"track_list":$("#track_list_col").show(),$("#track_col").hide(),$("#event_type_col").hide(),$("#presentation_selection_status_col").show(),$("#sort_list").append('<option value="SummitSelectedPresentation.Order">Track Chair List Order</option>'),n=$("#select_track_list").val();break;case"events":$("#track_list_col").hide(),$("#track_col").hide(),$("#event_type_col").show(),$("#presentation_selection_status_col").hide(),$("#sort_list option[value='SummitSelectedPresentation.Order']").remove(),n=$("#select_event_type").val();break;default:$("#track_list_col").hide(),$("#track_col").hide(),$("#event_type_col").hide(),$("#presentation_selection_status_col").hide(),$("#sort_list option[value='SummitSelectedPresentation.Order']").remove()}var o=$("#sort_list").val();e.doFilter(i,n,a,s,o)}),$("#select_track_list").change(function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_track_list").val(),s=$("#select_unpublished_selection_status").val(),a=$("#unpublished_search_term").val(),o=$("#sort_list").val();e.doFilter(i,n,s,a,o)}),$("#select_tracks").change(function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_tracks").val(),s=$("#select_unpublished_selection_status").val(),a=$("#unpublished_search_term").val(),o=$("#sort_list").val();e.doFilter(i,n,s,a,o)}),$("#select_event_type").change(function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_event_type").val(),s=$("#select_unpublished_selection_status").val(),a=$("#unpublished_search_term").val(),o=$("#sort_list").val();e.doFilter(i,n,s,a,o)}),$("#select_unpublished_selection_status").change(function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_unpublished_selection_status").val(),s=$("#unpublished_search_term").val(),a=$("#sort_list").val();if(i){var o=e.secondarySource(i);e.doFilter(i,o,n,s,a)}}),$(".unpublished-events-refresh").click(function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_unpublished_selection_status").val(),s=$("#unpublished_search_term").val(),a=$("#sort_list").val();if(i){var o=e.secondarySource(i);e.doFilter(i,o,n,s,a)}}),$("#sort_list").change(function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_unpublished_selection_status").val(),s=$("#unpublished_search_term").val(),a=$("#sort_list").val();if(i){var o=e.secondarySource(i);e.doFilter(i,o,n,s,a)}}),$("#search_unpublished").click(function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_unpublished_selection_status").val(),s=$("#unpublished_search_term").val(),a=$("#sort_list").val();if(i){var o=e.secondarySource(i);e.doFilter(i,o,n,s,a)}else swal("Select a Source","Please select a source to search on.","warning")}),$("#unpublished_search_term").keydown(function(t){13==t.keyCode&&$("#search_unpublished").click()}),e.doFilter("presentations","","","","SummitEvent.Title")})}),this.doFilter=function(t,i,n,s,a){$("body").ajax_loader();var o=$("#page-size").val();e.api.getUnpublishedEventsBySource(e.summit.id,t,i,n,s,a,1,o)}.bind(this),e.dispatcher.on(e.dispatcher.UNPUBLISHED_EVENTS_PAGE_CHANGED,function(t){var i=$("#select_unpublished_events_source").val(),n=$("#select_unpublished_selection_status").val(),s=$("#select_track_list").val(),a=$("#unpublished_search_term").val(),o=$("#sort_list").val(),l=$("#page-size").val();e.api.getUnpublishedEventsBySource(e.summit.id,i,s,n,a,o,t,l)}),this.clearClicked=function(t){$("#unpublished_search_term").val("");var i=$("#select_unpublished_events_source").val(),n=$("#select_unpublished_selection_status").val(),s=$("#select_track_list").val(),a=$("#unpublished_search_term").val(),o=$("#sort_list").val();i&&e.doFilter(i,s,n,a,o)}.bind(this),this.secondarySource=function(t){var e="";return"events"==t?e=$("#select_event_type").val():"tracks"==t?e=$("#select_tracks").val():"track_list"==t&&(e=$("#select_track_list").val()),e}.bind(this)})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-unpublished-event",'<div class="event resizable event-unpublished unselectable {getCSSClassBySelectionStatus(data.status)}" id="event_{data.id}" data-id="{data.id}"> <div class="ui-resizable-handle ui-resizable-n" style="display:none"> <span class="ui-icon ui-icon-triangle-1-n"></span> </div> <div class="event-buttons"> <a style="display:none" class="unpublish-event-btn" title="unpublish event" data-event-id="{data.id}"><i class="fa fa-times"></i></a> <a href="summit-admin/{parent.summit.id}/events/{data.id}" class="edit-event-btn" title="edit event"> <i class="fa fa-pencil-square-o"></i> </a> </div> <div class="event-inner-body"> <div> <input type="checkbox" name="bulk_action_{data.id}" id="bulk_action_{data.id}" class="bulk-action-unpublished-selector" data-event-id="{data.id}"> <a id="popover_{data.id}" data-content="{getPopoverContent()}" title="{data.title}" data-toggle="popover">{trimText(data.title, 68)}{data.class_name === \'Presentation\'? \' - \'+ trimText(parent.summit.tracks_dictionary[data.track_id].name, 20):\'\'}</a> </div> <div class="presentation-status"> <div if="{data.status}" class="event-status-component" title="status"><i class="fa fa-check-circle">&nbsp;{data.status}</i></div> </div> </div> <div class="ui-resizable-handle ui-resizable-s" style="display:none"> <span class="ui-icon ui-icon-triangle-1-s"></span> </div> </div>',"","",function(t){this.data=t.data,this.summit=parent.summit,this.minute_pixels=parseInt(t.minute_pixels),this.interval=parseInt(t.interval);var e=this;this.on("mount",function(){}),this.trimText=function(t,e){var i=t.substring(0,e);return t.length>e&&(i+="..."),i}.bind(this),this.getPopoverContent=function(){var t=null!=e.data["abstract"]?e.data["abstract"]:e.data.description;null==t&&(t="TBD");var i='<div class="row"><div class="col-md-12">'+t+"</div></div>";if("undefined"!=typeof e.data.speakers){i+='<div class="row"><div class="col-md-12"><b>Speakers</b></div></div>';for(var n in e.data.speakers){var s=e.data.speakers[n];i+='<div class="row"><div class="col-md-12">'+s.name+"</div></div>"}}return i}.bind(this),this.getCSSClassBySelectionStatus=function(t){switch(t){case"accepted":return"status-accepted";case"alternate":return"status-alternate";case"unaccepted":return"status-unaccepted";default:return""}return""}.bind(this)})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-unpublished",'<div if="{Object.keys(store.all()).length === 0}" class="no_matches">Sorry, found no matches for your search.</div> <div class="unpublished-events-list-container" if="{Object.keys(store.all()).length > 0}"> <ul class="list-unstyled unpublished-events-list"> <li each="{key, e in store.all()}"> <schedule-admin-view-unpublished-event data="{e}" minute_pixels="{parent.minute_pixels}" interval="{parent.interval}"></schedule-admin-view-unpublished-event> </li> </ul> <div> <div class="paginator"> <ul id="unpublished-events-pager"></ul> </div> <div class="items_per_page"> <select class="form-control" id="page-size"> <option value="10">10 items</option> <option value="20">20 items</option> <option value="50">50 items</option> </select> </div> </div> </div>',"","",function(t){
this.summit=t.summit,this.minute_pixels=t.minute_pixels,this.interval=t.interval,this.api=t.api,this.dispatcher=t.dispatcher,this.store=t.unpublished_store,this.slot_width=$(".time-slot-container").width();var e=this;this.on("mount",function(){$(window).resize(function(){e.slot_width=$(".time-slot-container").width(),$(".event-unpublished").css("width",e.slot_width)}),$("body").on("change","#page-size",function(){$("body").ajax_loader(),e.dispatcher.unpublishedEventsPageChanged(1)})}),e.store.on(e.store.LOAD_STORE,function(){console.log("UI: "+e.store.LOAD_STORE);var t=e.store.getPagesInfo();e.update();var i={bootstrapMajorVersion:3,currentPage:t.page,totalPages:t.total_pages,numberOfPages:10,onPageChanged:function(t,i,n){$("#alert-content").text("Current page changed, old: "+i+" new: "+n),console.log("page "+n),e.dispatcher.unpublishedEventsPageChanged(n)}};Object.keys(e.store.all()).length&&$("#unpublished-events-pager").bootstrapPaginator(i),$('[data-toggle="popover"]').popover({trigger:"hover focus",html:!0,container:"body",placement:"auto",animation:!0,template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),$(".event").hover(function(){$(".event-buttons",this).stop().animate({width:"20px"},400)},function(){$(".event-buttons",this).stop().animate({width:"-0"},400)}),e.createDraggable($(".event-unpublished")),$(".event-unpublished").css("width",e.slot_width),$("body").ajax_loader("stop")}),this.createDraggable=function(t){t.draggable({scroll:!1,appendTo:"body",containment:"document",cursor:"move",helper:"clone",opacity:.5})}.bind(this),e.dispatcher.on(e.dispatcher.UNPUBLISHED_EVENTS_SOURCE_CHANGED,function(t){""===t?($(".unpublished-events-list").hide(),$("#unpublished-events-pager").hide()):($(".unpublished-events-list").show(),$("#unpublished-events-pager").show())})})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-published-bulk-actions",'<div class="row bulk-actions-container"> <div class="col-md-4"> <input disabled="disabled" type="checkbox" id="select_all_published" title="select all"> <select disabled="disabled" id="bulk-actions-published" name="bulk-actions-published"> <option value="">-- Select a Bulk Action --</option> <option value="EDIT">Edit</option> <option value="UNPUBLISH">Unpublish</option> </select> </div> <div class="col-md-8"> <button title="Apply Bulk Action" disabled="disabled" class="btn btn-default btn-sm" id="apply-bulk-published-action"><i class="fa fa-play">&nbsp;GO</i></button> </div> </div>',"","",function(t){this.bulk_edition_url=t.bulk_edition_url,this.published_store=t.published_store,this.summit=t.summit;var e=this;e.published_store.on(e.published_store.LOAD_STORE,function(){e.published_store.isEmpty()?$("#select_all_published").attr("disabled","disabled"):$("#select_all_published").removeAttr("disabled"),$("#select_all_published").prop("checked",!1),$("#bulk-actions-published").val(""),$("#apply-bulk-published-action").attr("disabled","disabled"),$("#bulk-actions-published").attr("disabled","disabled")}),this.on("mount",function(){$(function(){$("body").on("click",".bulk-action-published-selector",function(){var t=$(".bulk-action-published-selector:checked").length>0;t?($("#apply-bulk-published-action").removeAttr("disabled"),$("#bulk-actions-published").removeAttr("disabled")):($("#bulk-actions-published").val(""),$("#apply-bulk-published-action").attr("disabled","disabled"),$("#bulk-actions-published").attr("disabled","disabled"))}),$("#select_all_published").click(function(){var t=$(this).is(":checked");$(".bulk-action-published-selector").prop("checked",t),t?($("#apply-bulk-published-action").removeAttr("disabled"),$("#bulk-actions-published").removeAttr("disabled")):($("#bulk-actions-published").val(""),$("#apply-bulk-published-action").attr("disabled","disabled"),$("#bulk-actions-published").attr("disabled","disabled"))}),$("#apply-bulk-published-action").click(function(t){var i=$(".bulk-action-published-selector:checked"),n=[];i.each(function(){var t=$(this).attr("data-event-id");n.push(parseInt(t))});var s=$("#bulk-actions-published").val();switch(s){case"EDIT":window.location=e.bulk_edition_url+"?action=edit&type=published&event_ids="+n.join();break;case"UNPUBLISH":swal({title:"Are you sure?",text:"You about to unpublish these events from summit live schedule",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, Unpublish them all!",closeOnConfirm:!0},function(t){t&&($("body").ajax_loader(),$.ajax({type:"DELETE",url:"api/v1/summits/"+e.summit.id+"/events/unpublish/bulk",data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){$("body").ajax_loader("stop"),swal("Updated!","Events were unpublished successfully.","success"),location.reload()}).fail(function(t){$("body").ajax_loader("stop");var e=t.status;if(412==e){var i=$.parseJSON(t.responseText);return void swal("Validation error",i.messages[0].message,"warning")}swal("Error","There was a problem saving the events, please contact admin.","warning")}))})}return!1})})})})},function(t,e,i){"use strict";var n=i(2);n.tag2("schedule-admin-view-unpublished-bulk-actions",'<div class="row bulk-actions-container"> <div class="col-md-4"> <input disabled="disabled" type="checkbox" id="select_all_unpublished" title="select all"> <select disabled="disabled" id="bulk-actions-unpublished" name="bulk-actions-unpublished" class="bulk-actions"> <option value="">--Select a Bulk Action --</option> <option value="EDIT">Edit</option> </select> </div> <div class="col-md-8"> <button title="Apply Bulk Action" disabled="disabled" class="btn btn-default btn-sm" id="apply-bulk-unpublished-action"><i class="fa fa-play">&nbsp;GO</i></button> </div> </div>',"","",function(t){this.bulk_edition_url=t.bulk_edition_url,this.unpublished_store=t.unpublished_store;var e=this;e.unpublished_store.on(e.unpublished_store.LOAD_STORE,function(){e.unpublished_store.isEmpty()?$("#select_all_unpublished").attr("disabled","disabled"):$("#select_all_unpublished").removeAttr("disabled"),$("#select_all_unpublished").prop("checked",!1),$("#bulk-actions-unpublished").val(""),$("#apply-bulk-unpublished-action").attr("disabled","disabled"),$("#bulk-actions-unpublished").attr("disabled","disabled")}),this.on("mount",function(){$(function(){$("body").on("click",".bulk-action-unpublished-selector",function(){var t=$(".bulk-action-unpublished-selector:checked").length>0;t?($("#apply-bulk-unpublished-action").removeAttr("disabled"),$("#bulk-actions-unpublished").removeAttr("disabled")):($("#bulk-actions-unpublished").val(""),$("#apply-bulk-unpublished-action").attr("disabled","disabled"),$("#bulk-actions-unpublished").attr("disabled","disabled"))}),$("#select_all_unpublished").click(function(){var t=$(this).is(":checked");$(".bulk-action-unpublished-selector").prop("checked",t),t?($("#apply-bulk-unpublished-action").removeAttr("disabled"),$("#bulk-actions-unpublished").removeAttr("disabled")):($("#bulk-actions-unpublished").val(""),$("#apply-bulk-unpublished-action").attr("disabled","disabled"),$("#bulk-actions-unpublished").attr("disabled","disabled"))}),$("#apply-bulk-unpublished-action").click(function(t){var i=$(".bulk-action-unpublished-selector:checked"),n=[];i.each(function(){var t=$(this).attr("data-event-id");n.push(parseInt(t))});var s=$("#bulk-actions-unpublished").val();switch(s){case"EDIT":window.location=e.bulk_edition_url+"?action=edit&type=unpublished&event_ids="+n.join();break;case"PUBLISH":window.location=e.bulk_edition_url+"?action=publish&type=unpublished&event_ids="+n.join()}return!1})})})})}]);