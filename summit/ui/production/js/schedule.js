!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="/summit/ui/production/",t(0)}([function(e,t,n){e.exports=n(40)},,function(e,t,n){var i;!function(s,r){"use strict";function a(e,t,n){var i={};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function o(e,t){for(var n,i=t.length,s=e.length;i>s;)n=t[--i],t.splice(i,1),n.unmount()}function l(e,t){Object.keys(e.tags).forEach(function(n){var i=e.tags[n];O(i)?_(i,function(e){S(e,n,t)}):S(i,n,t)})}function c(e,t,n){var i,s=e._root;for(e._virts=[];s;)i=s.nextSibling,n?t.insertBefore(s,n._root):t.appendChild(s),e._virts.push(s),s=i}function u(e,t,n,i){for(var s,r=e._root,a=0;a<i;a++)s=r.nextSibling,t.insertBefore(r,n._root),r=s}function d(e,t,n){b(e,"each");var i,s=typeof k(e,"no-reorder")!==W||b(e,"no-reorder"),r=A(e),d=Q[r]||{tmpl:e.outerHTML},v=ie.test(r),p=e.parentNode,h=document.createTextNode(""),m=x(e),g=/option/gi.test(r),_=[],y=[],w="VIRTUAL"==e.tagName;n=oe.loopKeys(n),p.insertBefore(h,e),t.one("before-mount",function(){e.parentNode.removeChild(e),p.stub&&(p=t.root)}).on("update",function(){var b=oe(n.val,t),k=document.createDocumentFragment();O(b)||(i=b||!1,b=i?Object.keys(b).map(function(e){return a(n,e,b[e])}):[]),b.forEach(function(o,h){var g=s&&o instanceof Object,b=y.indexOf(o),$=~b&&g?b:h,x=_[$];o=!i&&n.key?a(n,o,h):o,!g&&!x||g&&!~b||!x?(x=new f(d,{parent:t,isLoop:!0,hasImpl:!!Q[r],root:v?p:e.cloneNode(),item:o},e.innerHTML),x.mount(),w&&(x._root=x.root.firstChild),h==_.length?w?c(x,k):k.appendChild(x.root):(w?c(x,p,_[h]):p.insertBefore(x.root,_[h].root),y.splice(h,0,o)),_.splice(h,0,x),$=h):x.update(o),$!==h&&g&&(w?u(x,p,_[h],e.childNodes.length):p.insertBefore(x.root,_[h].root),n.pos&&(x[n.pos]=h),_.splice(h,0,_.splice($,1)[0]),y.splice(h,0,y.splice($,1)[0]),m||l(x,h)),x._item=o,F(x,"_parent",t)},!0),o(b,_),g?p.appendChild(k):p.insertBefore(k,h),m&&(t.tags[r]=_),y=b.slice()})}function v(e,t,n,i){P(e,function(e){if(1==e.nodeType){if(e.isLoop=e.isLoop||e.parentNode&&e.parentNode.isLoop||k(e,"each")?1:0,n){var s=x(e);s&&!e.isLoop&&n.push(T(s,{root:e,parent:t},e.innerHTML,t))}e.isLoop&&!i||H(e,t,[])}})}function p(e,t,n){function i(e,t,i){oe.hasExpr(t)&&n.push(M({dom:e,expr:t},i))}P(e,function(e){var n,s=e.nodeType;if(3==s&&"STYLE"!=e.parentNode.tagName&&i(e,e.nodeValue),1==s)return(n=k(e,"each"))?(d(e,t,n),!1):(_(e.attributes,function(t){var n=t.name,s=n.split("__")[1];if(i(e,t.value,{attr:s||n,bool:s}),s)return b(e,n),!1}),!x(e)&&void 0)})}function f(e,t,n){function i(){var e=h&&f?c:d||c;_(C.attributes,function(t){var n=t.value;u[w(t.name)]=oe.hasExpr(n)?oe(n,e):n}),_(Object.keys(A),function(t){u[w(t)]=oe(A[t],e)})}function s(e){for(var t in m)typeof c[t]!==te&&N(c,t)&&(c[t]=e[t])}function a(){c.parent&&f&&_(Object.keys(c.parent),function(e){var t=!L(se,e)&&L(P,e);(typeof c[e]===te||t)&&(t||P.push(e),c[e]=c.parent[e])})}function o(e){if(_(x,function(t){t[e?"mount":"unmount"]()}),d){var t=e?"on":"off";f?d[t]("unmount",c.unmount):d[t]("update",c.update)[t]("unmount",c.unmount)}}var l,c=V.observable(this),u=z(t.opts)||{},d=t.parent,f=t.isLoop,h=t.hasImpl,m=D(t.item),k=[],x=[],C=t.root,S=e.fn,T=C.tagName.toLowerCase(),A={},P=[];S&&C._tag&&C._tag.unmount(!0),this.isMounted=!1,C.isLoop=f,C._tag=this,F(this,"_riot_id",++Y),M(this,{parent:d,root:C,opts:u,tags:{}},m),_(C.attributes,function(e){var t=e.value;oe.hasExpr(t)&&(A[e.name]=t)}),l=le(e.tmpl,n),F(this,"update",function(e){return e=D(e),a(),e&&typeof m===ee&&(s(e),m=e),M(c,e),i(),c.trigger("update",e),g(k,c),ue(function(){c.trigger("updated")}),this}),F(this,"mixin",function(){return _(arguments,function(e){var t;e=typeof e===W?V.mixin(e):e,y(e)?(t=new e,e=e.prototype):t=e,_(Object.getOwnPropertyNames(e),function(e){"init"!=e&&(c[e]=y(t[e])?t[e].bind(c):t[e])}),t.init&&t.init.bind(c)()}),this}),F(this,"mount",function(){if(i(),S&&S.call(c,u),p(l,c,k),o(!0),(e.attrs||h)&&(I(e.attrs,function(e,t){$(C,e,t)}),p(c.root,c,k)),c.parent&&!f||c.update(m),c.trigger("before-mount"),f&&!h)c.root=C=l.firstChild;else{for(;l.firstChild;)C.appendChild(l.firstChild);C.stub&&(c.root=C=d.root)}f&&v(c.root,c.parent,null,!0),!c.parent||c.parent.isMounted?(c.isMounted=!0,c.trigger("mount")):c.parent.one("mount",function(){j(c.root)||(c.parent.isMounted=c.isMounted=!0,c.trigger("mount"))})}),F(this,"unmount",function(e){var t,n=C,i=n.parentNode;if(c.trigger("before-unmount"),Z.splice(Z.indexOf(c),1),this._virts&&_(this._virts,function(e){e.parentNode.removeChild(e)}),i){if(d)t=E(d),O(t.tags[T])?_(t.tags[T],function(e,n){e._riot_id==c._riot_id&&t.tags[T].splice(n,1)}):t.tags[T]=r;else for(;n.firstChild;)n.removeChild(n.firstChild);e?b(i,"riot-tag"):i.removeChild(n)}c.trigger("unmount"),o(),c.off("*"),c.isMounted=!1,delete C._tag}),v(l,this,x)}function h(e,t,n,i){n[e]=function(e){var r,a=i._parent,o=i._item;if(!o)for(;a&&!o;)o=a._item,a=a._parent;e=e||s.event,N(e,"currentTarget")&&(e.currentTarget=n),N(e,"target")&&(e.target=e.srcElement),N(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=o,t.call(i,e)===!0||/radio|check/.test(n.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(r=o?E(a):i,r.update())}}function m(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function g(e,t){_(e,function(e,n){var i=e.dom,s=e.attr,r=oe(e.expr,t),a=e.dom.parentNode;if(e.bool?r=!!r&&s:null==r&&(r=""),a&&"TEXTAREA"==a.tagName&&(r=(""+r).replace(/riot-/g,""),a.value=r),e.value!==r){if(e.value=r,!s)return void(i.nodeValue=""+r);if(b(i,s),y(r))h(s,r,i,t);else if("if"==s){var o=e.stub,l=function(){m(o.parentNode,o,i)},c=function(){m(i.parentNode,i,o)};r?o&&(l(),i.inStub=!1,j(i)||P(i,function(e){e._tag&&!e._tag.isMounted&&(e._tag.isMounted=!!e._tag.trigger("mount"))})):(o=e.stub=o||document.createTextNode(""),i.parentNode?c():(t.parent||t).one("updated",c),i.inStub=!0)}else if(/^(show|hide)$/.test(s))"hide"==s&&(r=!r),i.style.display=r?"":"none";else if("value"==s)i.value=r;else if(q(s,X)&&s!=J)r&&$(i,s.slice(X.length),r);else{if(e.bool&&(i[s]=r,!r))return;(0===r||r&&typeof r!==ee)&&$(i,s,r)}}})}function _(e,t){for(var n,i=0,s=(e||[]).length;i<s;i++)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function y(e){return typeof e===ne||!1}function b(e,t){e.removeAttribute(t)}function w(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function k(e,t){return e.getAttribute(t)}function $(e,t,n){e.setAttribute(t,n)}function x(e){return e.tagName&&Q[k(e,J)||e.tagName.toLowerCase()]}function C(e,t,n){var i=n.tags[t];i?(O(i)||i!==e&&(n.tags[t]=[i]),L(n.tags[t],e)||n.tags[t].push(e)):n.tags[t]=e}function S(e,t,n){var i,s=e.parent;s&&(i=s.tags[t],O(i)?i.splice(n,0,i.splice(i.indexOf(e),1)[0]):C(e,t,s))}function T(e,t,n,i){var s=new f(e,t,n),r=A(t.root),a=E(i);return s.parent=a,s._parent=i,C(s,r,a),a!==i&&C(s,r,i),t.root.innerHTML="",s}function E(e){for(var t=e;!x(t.root)&&t.parent;)t=t.parent;return t}function F(e,t,n,i){return Object.defineProperty(e,t,M({value:n,enumerable:!1,writable:!1,configurable:!1},i)),e}function A(e){var t=x(e),n=k(e,"name"),i=n&&!oe.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase();return i}function M(e){for(var t,n=arguments,i=1;i<n.length;++i)if(t=n[i])for(var s in t)N(e,s)&&(e[s]=t[s]);return e}function L(e,t){return~e.indexOf(t)}function O(e){return Array.isArray(e)||e instanceof Array}function N(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===te||n&&n.writable}function D(e){if(!(e instanceof f||e&&typeof e.trigger==ne))return e;var t={};for(var n in e)L(se,n)||(t[n]=e[n]);return t}function P(e,t){if(e){if(t(e)===!1)return;for(e=e.firstChild;e;)P(e,t),e=e.nextSibling}}function I(e,t){for(var n,i=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=i.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function j(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function U(e){return document.createElement(e)}function R(e,t){return(t||document).querySelectorAll(e)}function G(e,t){return(t||document).querySelector(e)}function z(e){function t(){}return t.prototype=e,new t}function B(e){return k(e,"id")||k(e,"name")}function H(e,t,n){var i,s=B(e),r=function(r){L(n,s)||(i=O(r),r?(!i||i&&!L(r,e))&&(i?r.push(e):t[s]=[r,e]):t[s]=e)};s&&(oe.hasExpr(s)?t.one("mount",function(){s=B(e),r(t[s])}):r(t[s]))}function q(e,t){return e.slice(0,t.length)===t}function K(e,t,n){var i=Q[t],s=e._innerHTML=e._innerHTML||e.innerHTML;return e.innerHTML="",i&&e&&(i=new f(i,{root:e,opts:n},s)),i&&i.mount&&(i.mount(),L(Z,i)||Z.push(i)),i}var V={version:"v2.3.13",settings:{}},Y=0,Z=[],Q={},X="riot-",J=X+"tag",W="string",ee="object",te="undefined",ne="function",ie=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,se=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],re=0|(s&&s.document||{}).documentMode;V.observable=function(e){e=e||{};var t={},n=Array.prototype.slice,i=function(e,t){e.replace(/\S+/g,t)},s=function(t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!1,configurable:!1})};return s("on",function(n,s){return"function"!=typeof s?e:(i(n,function(e,n){(t[e]=t[e]||[]).push(s),s.typed=n>0}),e)}),s("off",function(n,s){return"*"!=n||s?i(n,function(e){if(s)for(var n,i=t[e],r=0;n=i&&i[r];++r)n==s&&i.splice(r--,1);else delete t[e]}):t={},e}),s("one",function(t,n){function i(){e.off(t,i),n.apply(e,arguments)}return e.on(t,i)}),s("trigger",function(s){var r,a=n.call(arguments,1);return i(s,function(i){r=n.call(t[i]||[],0);for(var s,o=0;s=r[o];++o){if(s.busy)return;s.busy=1,s.apply(e,s.typed?[i].concat(a):a),r[o]!==s&&o--,s.busy=0}t["*"]&&"*"!=i&&e.trigger.apply(e,["*",i].concat(a))}),e}),e},function(e){function t(e){return e.split(/[\/?#]/)}function n(e,t){var n=new RegExp("^"+t[x](/\*/g,"([^/?#]+?)")[x](/\.\./,".*")+"$"),i=e.match(n);if(i)return i.slice(1)}function i(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function r(e){f=i(d,1),F[k](C,f),F[k](S,f),A[k](N,v),e&&d(!0)}function a(){this.$=[],e.observable(this),P.on("stop",this.s.bind(this)),P.on("emit",this.e.bind(this))}function o(e){return e[x](/^\/|\/$/,"")}function l(e){return"string"==typeof e}function c(e){return(e||L.href||"")[x](y,"")}function u(e){return"#"==h[0]?(e||L.href||"").split(h)[1]||"":c(e)[x](h,"")}function d(e){var t=0==U;if(!(E<=U)&&(U++,j.push(function(){var t=u();(e||t!=m)&&(P[T]("emit",t),m=t)}),t)){for(;j.length;)j[0](),j.shift();U=0}}function v(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!=t.nodeName;)t=t.parentNode;!t||"A"!=t.nodeName||t[$]("download")||!t[$]("href")||t.target&&"_self"!=t.target||t.href.indexOf(L.href.match(y)[0])==-1||(t.href==L.href||t.href.split("#")[0]!=L.href.split("#")[0]&&("#"==h||0===c(t.href).indexOf(h))&&p(u(t.href),t.title||A.title))&&e.preventDefault()}}function p(e,t,n){return M?(e=h+o(e),t=t||A.title,n?M.replaceState(null,t,e):M.pushState(null,t,e),A.title=t,I=!1,d(),I):P[T]("emit",u(e))}var f,h,m,g,_,y=/^.+?\/+[^\/]+/,b="EventListener",w="remove"+b,k="add"+b,$="hasAttribute",x="replace",C="popstate",S="hashchange",T="trigger",E=3,F="undefined"!=typeof s&&s,A="undefined"!=typeof document&&document,M=F&&history,L=F&&(M.location||F.location),O=a.prototype,N=A&&A.ontouchstart?"touchstart":"click",D=!1,P=e.observable(),I=!1,j=[],U=0;O.m=function(e,t,n){!l(e)||t&&!l(t)?t?this.r(e,t):this.r("@",e):p(e,t,n||!1)},O.s=function(){this.off("*"),this.$=[]},O.e=function(e){this.$.concat("@").some(function(t){var n=("@"==t?g:_)(o(e),o(t));if("undefined"!=typeof n)return this[T].apply(null,[t].concat(n)),I=!0},this)},O.r=function(e,t){"@"!=e&&(e="/"+o(e),this.$.push(e)),this.on(e,t)};var R=new a,G=R.m.bind(R);G.create=function(){var e=new a;return e.m.stop=e.s.bind(e),e.m.bind(e)},G.base=function(e){h=e||"#",m=u()},G.exec=function(){d(!0)},G.parser=function(e,i){e||i||(g=t,_=n),e&&(g=e),i&&(_=i)},G.query=function(){var e={},t=L.href||m;return t[x](/[?&](.+?)=([^&]*)/g,function(t,n,i){e[n]=i}),e},G.stop=function(){D&&(F&&(F[w](C,f),F[w](S,f),A[w](N,v)),P[T]("stop"),D=!1)},G.start=function(e){D||(F&&("complete"==document.readyState?r(e):F[k]("load",function(){setTimeout(function(){r(e)},1)})),D=!0)},G.base(),G.parser(),e.route=G}(V);var ae=function(e){function t(e){return e}function n(e,t){return t||(t=h),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?l:"")}function i(e){var i,s=e.split(" ");if(e===v)s[2]=s[0],s[3]=s[1],i=t;else{if(2!==s.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e))throw new Error('Unsupported brackets "'+e+'"');s=s.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),i=n}return s[4]=i(s[1].length>1?/{[\S\s]*?}/:/{[^}]*}/,s),s[5]=i(/\\({|})/g,s),s[6]=i(/(\\?)({)/g,s),s[7]=RegExp("(\\\\?)(?:([[({])|("+s[3]+"))|"+d,l),s[8]=e,s}function s(e){e||(e=v),e!==h[8]&&(h=i(e),o=e===v?t:n,h[9]=o(/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/),h[10]=o(/(^|[^\\]){=[\S\s]*?}/),r._rawOffset=h[0].length),f=e}function r(e){return e instanceof RegExp?o(e):h[e]}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:s,get:function(){return f},enumerable:!0}),m=e,s(t)}var o,l="g",c=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,u=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,d=u.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,v="{ }",p={"(":RegExp("([()])|"+d,l),"[":RegExp("([[\\]])|"+d,l),"{":RegExp("([{}])|"+d,l)},f=e,h=[];r.split=function(e,t,n){function i(e){t||a?c.push(e&&e.replace(n[5],"$1")):c.push(e)}function s(t,n){var i,s=p[t],r=1;for(s.lastIndex=n;(i=s.exec(e))&&(!i[1]||(i[1]===t?++r:--r)););return i?s.lastIndex:e.length}n||(n=h);var r,a,o,l,c=[],u=n[6];for(a=o=u.lastIndex=0;r=u.exec(e);){if(l=r.index,a){if(r[2]){u.lastIndex=s(r[2],u.lastIndex);continue}if(!r[3])continue}r[1]||(i(e.slice(o,l)),o=u.lastIndex,u=n[6+(a^=1)],u.lastIndex=o)}return e&&o<e.length&&i(e.slice(o)),c},r.hasExpr=function(e){return r(4).test(e)},r.loopKeys=function(e){var t=e.match(r(9));return t?{key:t[1],pos:t[2],val:h[0]+t[3].trim()+h[1]}:{val:e.trim()}},r.array=function(e){return i(e||f)};var m;return Object.defineProperty(r,"settings",{set:a,get:function(){return m}}),r.settings="undefined"!=typeof V&&V.settings||{},r.set=s,r.R_STRINGS=u,r.R_MLCOMMS=c,r.S_QBLOCKS=d,r}(),oe=function(){function e(e,i){return e?(o[e]||(o[e]=n(e))).call(i,t):e}function t(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function n(e){var t=i(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function i(e){var t,n=[],i=ae.split(e.replace(/\u2057/g,'"'),1);if(i.length>2||i[0]){var s,a,o=[];for(s=a=0;s<i.length;++s)t=i[s],t&&(t=1&s?r(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(o[a++]=t);t=a<2?o[0]:"["+o.join(",")+'].join("")'}else t=r(i[1],0,n);return n[0]&&(t=t.replace(c,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function r(e,t,n){function i(t,n){var i,s=1,r="("===t?/[()]/g:"["===t?/[[\]]/g:/[{}]/g;for(r.lastIndex=n.lastIndex;i=r.exec(e);)if(i[0]===t)++s;else if(!--s)break;n.lastIndex=s?e.length:r.lastIndex}if("="===e[0]&&(e=e.slice(1)),e=e.replace(l,function(e,t){return e.length>2&&!t?""+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var s,r=[],o=0;e&&(s=e.match(u))&&!s.index;){var c,d,v=/,|([[{(])|$/g;for(e=RegExp.rightContext,c=s[2]?n[s[2]].slice(1,-1).trim().replace(/\s+/g," "):s[1];d=(s=v.exec(e))[1];)i(d,v);d=e.slice(0,s.index),e=RegExp.rightContext,r[o++]=a(d,1,c)}e=o?o>1?"["+r.join(",")+'].join(" ").trim()':r[0]:a(e,t)}return e}function a(e,t,n){var i;return e=e.replace(v,function(e,t,n,s,r){return n&&(s=i?0:s+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+d+n,s&&(i="."===(r=r[s])||"("===r||"["===r)):s&&(i=!p.test(r.slice(s)))),e}),i&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(i?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(i?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var o={};e.isRaw=function(e){return"="===e[ae._rawOffset]},e.haveRaw=function(e){return ae(10).test(e)},e.hasExpr=ae.hasExpr,e.loopKeys=ae.loopKeys,e.errorHandler=null;var l=RegExp(ae.S_QBLOCKS,"g"),c=/\x01(\d+)~/g,u=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/,d='"in this?this:'+("object"!=typeof s?"global":"window")+").",v=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,p=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(e){return e},e}();oe.version=ae.version="v2.3.20";var le=function(e){function t(t,r){var o=t&&t.match(/^\s*<([-\w]+)/),l=o&&o[1].toLowerCase(),c=s[l]||a,u=U(c);return u.stub=!0,r&&(t=i(t,r)),e&&l&&(o=l.match(ie))?n(u,t,l,!!o[1]):u.innerHTML=t,u}function n(e,t,n,i){var s,r=U(a),o=i?"select>":"table>";r.innerHTML="<"+o+t+"</"+o,s=G(n,r),s&&e.appendChild(s)}function i(e,t){if(!/<yield\b/i.test(e))return e;var n=0;return e=e.replace(/<yield\s+from=['"]([-\w]+)['"]\s*(?:\/>|>\s*<\/yield\s*>)/gi,function(e,i){var s=t.match(RegExp(r.replace("@",i),"i"));return++n,s&&s[2]||""}),n?e:e.replace(/<yield\s*(?:\/>|>\s*<\/yield\s*>)/gi,t||"")}var s={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},r=/<yield\s+to=(['"])?@\1\s*>([\S\s]+?)<\/yield\s*>/.source,a="div";return e=e&&e<10,t}(re),ce=function(e){if(!s)return{add:function(){},inject:function(){}};var t=function(){var e=U("style");$(e,"type","text/css");var t=G("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),n=t.styleSheet,i="";return Object.defineProperty(e,"styleNode",{value:t,writable:!0}),{add:function(e){i+=e},inject:function(){i&&(n?n.cssText+=i:t.innerHTML+=i,i="")}}}(V),ue=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),i=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+i)},i)}}return t}(s||{});V.util={brackets:ae,tmpl:oe},V.mixin=function(){var e={};return function(t,n){return n?void(e[t]=n):e[t]}}(),V.tag=function(e,t,n,i,s){return y(i)&&(s=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(y(n)?s=n:ce.add(n)),Q[e]={name:e,tmpl:t,attrs:i,fn:s},e},V.tag2=function(e,t,n,i,s,r){return n&&ce.add(n),Q[e]={name:e,tmpl:t,attrs:i,fn:s},e},V.mount=function(e,t,n){function i(e){var t="";return _(e,function(e){/[^-\w]/.test(e)||(t+=",*["+J+"="+e.trim()+"]")}),t}function s(){var e=Object.keys(Q);return e+i(e)}function r(e){var i;if(e.tagName){!t||(i=k(e,J))&&i==t||$(e,J,t);var s=K(e,t||e.getAttribute(J)||e.tagName.toLowerCase(),n);s&&l.push(s)}else e.length&&_(e,r)}var a,o,l=[];if(ce.inject(),typeof t===ee&&(n=t,t=0),typeof e===W?("*"===e?e=o=s():e+=i(e.split(",")),a=e?R(e):[]):a=e,"*"===t){if(t=o||s(),a.tagName)a=R(t,a);else{var c=[];_(a,function(e){c.push(R(t,e))}),a=c}t=0}return a.tagName?r(a):_(a,r),l},V.update=function(){return _(Z,function(e){e.update()})},V.Tag=f,typeof t===ee?e.exports=V:"function"===ne&&typeof n(3)!==te?(i=function(){return V}.call(t,n,t,e),!(i!==r&&(e.exports=i))):s.riot=V}("undefined"!=typeof window?window:void 0)},function(e,t){(function(t){e.exports=t}).call(t,{})},,,,,,function(e,t){},,,,function(e,t,n){(function(t){try{(function(){"use strict";var n=t.observable(),i="api/v1/summits/@SUMMIT_ID/schedule";n.getEventByDay=function(e,t){n.trigger("beforeEventsRetrieved",{});var s=i.replace("@SUMMIT_ID",e)+"?day="+t;$.ajax({type:"GET",url:s,timeout:12e4,dataType:"json",success:function(e,i,s){e.show_date=!1,e.day_selected=t,n.trigger("eventsRetrieved",e)}}).fail(function(e,t,n){sweetAlert("Oops...","there was an error, please contact your administrator","error")})},n.getEventByLevel=function(e,t){n.trigger("beforeEventsRetrieved",{});var s=i.replace("@SUMMIT_ID",e)+"/level?level="+t;return $.get(s,function(e){e.show_date=!0,n.trigger("eventsRetrieved",e)})},n.getEventByTrack=function(e,t){n.trigger("beforeEventsRetrieved",{});var s=i.replace("@SUMMIT_ID",e)+"/track?track="+t;return $.get(s,function(e){e.show_date=!0,n.trigger("eventsRetrieved",e)})},n.addEvent2MySchedule=function(e,t){var n=i.replace("@SUMMIT_ID",e)+"/"+t;$.ajax({type:"PUT",url:n,timeout:1e4,contentType:"application/json; charset=utf-8",success:function(e){}}).fail(function(e,t,n){var i=e.status;401===i&&(sweetAlert("Oops...","you are not logged in!","error"),location.reload())})},n.removeEventFromMySchedule=function(e,t){var n=i.replace("@SUMMIT_ID",e)+"/"+t;$.ajax({type:"DELETE",url:n,timeout:1e4,contentType:"application/json; charset=utf-8",success:function(e){}}).fail(function(e,t,n){var i=e.status;401===i&&(sweetAlert("Oops...","you are not logged in!","error"),location.reload())})},n.googleCalSynch=function(e){var t=i.replace("@SUMMIT_ID",e.summit_id)+"/"+e.id+"/synch/google/"+e.gcal_id;$.ajax({type:"PUT",url:t,timeout:1e4,contentType:"application/json; charset=utf-8",success:function(t){n.trigger("googleEventSynchSaved",e)}}).fail(function(e,t,n){var i=e.status;401===i&&(sweetAlert("Oops...","you are not logged in!","error"),location.reload())})},n.googleCalUnSynch=function(e){var t=i.replace("@SUMMIT_ID",e.summit_id)+"/"+e.id+"/synch/google";$.ajax({type:"DELETE",url:t,timeout:1e4,contentType:"application/json; charset=utf-8",success:function(t){n.trigger("googleEventSynchSaved",e)}}).fail(function(e,t,n){var i=e.status;401===i&&(sweetAlert("Oops...","you are not logged in!","error"),location.reload())})},e.exports=n}).call(this)}finally{}}).call(t,n(2))},,function(e,t,n){"use strict";var i=n(2);i.tag2("schedule-event",'<div id="event_{id}" class="row event-row"> <div class="col-sm-12"> <div class="row main-event-content" riot-style="border-left: 3px solid {eventColor(category_group_ids, type_id)}" data-event-id="{id}"> <div class="event-content"> <div class="row row_location"> <div class="col-sm-3 col-time"> <i class="fa fa-clock-o icon-clock"></i> <span if="{show_date}">{date_nice}</span> &nbsp;<span>{start_time}</span>-<span>{end_time}</span> </div> <div class="col-sm-6 col-location"> <div if="{summit.should_show_venues}"> <i class="fa fa-map-marker icon-map"></i> &nbsp; <a class="search-link" if="{summit.locations[location_id]}" href="{summit.locations[location_id].link}"> {locationName(location_id)} </a> <span if="{!summit.locations[location_id]}"> {locationName(location_id)} </span> </div> </div> <div class="col-sm-3 my-schedule-container" if="{parent.summit.current_user !== null}"> <span if="{!own}" onclick="{addToMySchedule}" title="add to my schedule" class="icon-event-action"> <i class="fa fa-plus-circle icon-foreign-event myschedule-icon"></i> My&nbsp;schedule </span> <span if="{own}" onclick="{removeFromMySchedule}" title="remove from my schedule" class="icon-event-action"> <i class="fa fa-check-circle icon-own-event myschedule-icon"></i> My&nbsp;schedule </span> </div> </div> <div class="row"> <div class="col-md-12 event-title"> <raw content="{title}"></raw> </div> </div> <div class="row" if="{sponsors_id.length > 0}"> <div class="col-md-12 col-xs-12 col-sponsors"> Sponsored by {sponsorNames(sponsors_id)} </div> </div> <div class="row"> <div class="col-xs-7 col-track"> <span if="{track_id}" class="track"> <a class="search-link" title="Search Track" href="{parent.search_url+\'?t=\'+encodeURIComponent(trackName().replace(/ /g,\'+\'))}">{trackName()}</a> </span> </div> <div class="col-xs-5 event-type-col"> <a class="search-link" title="Search Event Type" href="{parent.search_url+\'?t=\'+encodeURIComponent(summit.event_types[type_id].type.replace(/ /g,\'+\'))}">{summit.event_types[type_id].type}</a> </div> </div> </div> </div> <div class="row event-details" id="event_details_{id}" style="display:none;"> </div> </div> </div>',"","",function(e){this.summit=this.parent.summit,this.search_url=this.parent.search_url,this.schedule_api=this.parent.schedule_api,this.default_event_color=this.parent.default_event_color,this.show_date=e.show_date;var t=this;this.on("mount",function(){console.log("this.summit.should_show_venues "+this.summit.should_show_venues.should_show_venues),$(document).off("click",".main-event-content").on("click",".main-event-content",function(e){if($(e.target).is(".icon-event-action, .myschedule-icon"))return!1;if($(e.target).hasClass("search-link"))return!0;var n=$(e.currentTarget).attr("data-event-id"),i=$("#event_details_"+n),s=!i.hasClass("loaded");if(i.is(":hidden")){if(i.slideDown("slow"),s){i.html("loading ...");var r=t.parent.base_url+"events/"+n+"/html";$.ajax({type:"GET",url:r,timeout:6e4,success:function(e,t,n){i.html(e),i.addClass("loaded")}}).fail(function(e,t,n){alert("there was an error, please contact your administrator")})}}else i.slideUp("slow");return e.preventDefault(),e.stopPropagation(),!1})}),this.locationName=function(e){var n=t.summit.locations[e];return"undefined"==typeof n?"TBA":n.name_nice}.bind(this),this.sponsorNames=function(e){for(var n="",i=e,s=Array.isArray(i),r=0,i=s?i:i[Symbol.iterator]();;){var a;if(s){if(r>=i.length)break;a=i[r++]}else{if(r=i.next(),r.done)break;a=r.value}var o=a,l=t.summit.sponsors[o];""!==n&&(n+=", "),n+=l.name}return n}.bind(this),this.eventColor=function(e,n){return 0==e.length?t.summit.event_types[n].color:t.summit.category_groups[e[0]].color}.bind(this),this.trackName=function(){var e=t.track_id;return"undefined"!=typeof e?t.summit.tracks[e].name:" "}.bind(this),this.addToMySchedule=function(e){e.preventUpdate=!0,this.own=!0,e.item.own=!0,t.schedule_api.addEvent2MySchedule(t.summit.id,e.item.id),t.update(),t.parent.applyFilters()}.bind(this),this.removeFromMySchedule=function(e){e.preventUpdate=!0,this.own=!1,e.item.own=!1,t.schedule_api.removeEventFromMySchedule(t.summit.id,e.item.id),t.update(),t.parent.applyFilters()}.bind(this)})},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e){try{(function(){"use strict";n(9);var t=n(13),i=n(41);n(42),n(43),n(44),n(15),n(45),n(46),e.mount("schedule-global-filter"),e.mount("schedule-grid",{schedule_api:t,schedule_filters:i})}).call(this)}finally{}}).call(t,n(2))},function(e,t,n){(function(t){try{(function(){"use strict";var n=t.observable();n.publishFiltersChanged=function(e){console.log("scheduleFiltersChanged"),n.trigger("scheduleFiltersChanged",e)},n.toggleFilters=function(e){console.log("toggleFilters");var t=!1;switch(e){case"days":t=!1;break;case"levels":t=!0;break;case"tracks":t=!0}n.trigger("scheduleToggleFilters",t)},e.exports=n}).call(this)}finally{}}).call(t,n(2))},function(e,t,n){"use strict";var i=n(2);i.tag2("schedule-grid-nav",'<div class="row navbar-container"> <div class="col-md-3 view-select-container"> View by <select id="view-select"> <option value="days" __selected="{view == \'days\'}">Day</option> <option value="tracks" __selected="{view == \'tracks\'}">Track</option> </select> </div> <div class="col-md-9"> <nav class="navbar navbar-default navbar-days" if="{view == \'days\'}"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand navbar-brand-month" href="{base_url}" onclick="{selectDate}">{month}</a> </div> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <ul class="nav navbar-nav"> <li class="{active: day.selected, day-selected: day.selected}" each="{key, day in summit.dates}"> <a href="#" class="day-label" onclick="{selectDate}">{day.label}</a> </li> </ul> </div> </div> </nav> <div class="track-nav-container" if="{view == \'tracks\'}"> <select id="track-select" onchange="{selectTrack}"> <option each="{track_id, idx in summit.track_ids}" value="{track_id}" __selected="{summit.tracks[track_id].selected}">{summit.tracks[track_id].name}</option> </select> </div> <nav class="navbar navbar-default navbar-days" if="{view == \'levels\'}"> <div class="container"> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <ul class="nav navbar-nav"> <li class="{active: level.selected, level-selected: level.selected}" each="{key, level in summit.presentation_levels}"> <a href="#" class="level-label" onclick="{selectLevel}">{level.level}</a> </li> </ul> </div> </div> </nav> </div> </div>',"","",function(e){this.month=e.month,this.summit=this.parent.summit,this.base_url=this.parent.base_url,this.schedule_api=this.parent.schedule_api,this.schedule_filters=e.schedule_filters,this.view="days";var t=this;this.on("mount",function(){var e=$(window).url_fragment("getParam","day"),n=$(window).url_fragment("getParam","level"),i=$(window).url_fragment("getParam","track");if(t.view="days",null===e&&null===n&&null===i){var s=new Date,r=s.getUTCFullYear(),a=t.pad(s.getUTCMonth()+1,2),o=t.pad(s.getUTCDate(),2);e=r+"-"+a+"-"+o,console.log("current date key "+e),"undefined"==typeof t.summit.dates[e]&&(e=t.chooseDefaultDate()),t.setSelectedDay(t.summit.dates[e])}else null!=e?t.setSelectedDay(t.summit.dates[e]):null!=n?(n=n.charAt(0).toUpperCase()+n.slice(1),t.view="levels",t.setSelectedLevel(t.summit.presentation_levels[n])):null!=i&&(t.view="tracks",t.setSelectedTrack(t.summit.tracks[i]));t.schedule_filters.toggleFilters(t.view),$("#view-select").change(function(){if(t.view=$(this).val(),"days"==t.view){var e=Object.keys(t.summit.dates)[0];t.setSelectedDay(t.summit.dates[e])}else if("levels"==t.view){var n=Object.keys(t.summit.presentation_levels)[0];t.setSelectedLevel(t.summit.presentation_levels[n])}else if("tracks"==t.view){var i=Object.keys(t.summit.tracks)[0];t.setSelectedTrack(t.summit.tracks[i])}t.schedule_filters.toggleFilters(t.view),t.update()})}),this.chooseDefaultDate=function(){var e=t.summit.schedule_default_day;return console.log("default day "+e),e}.bind(this),this.selectDate=function(e){t.setSelectedDay(e.item.day)}.bind(this),this.setSelectedDay=function(e){e.selected=!0,$(window).url_fragment("setParam","day",e.date),$(window).url_fragment("setParam","level",""),$(window).url_fragment("setParam","track",""),window.location.hash=$(window).url_fragment("serialize");for(var n in t.summit.dates)n=t.summit.dates[n],n.date!==e.date&&(n.selected=!1);t.update(),t.schedule_api.getEventByDay(t.summit.id,e.date)}.bind(this),this.selectLevel=function(e){t.setSelectedLevel(e.item.level)}.bind(this),this.setSelectedLevel=function(e){e.selected=!0,$(window).url_fragment("setParam","level",e.level),$(window).url_fragment("setParam","day",""),$(window).url_fragment("setParam","track",""),window.location.hash=$(window).url_fragment("serialize");for(var n in t.summit.presentation_levels)n=t.summit.presentation_levels[n],n.level!==e.level&&(n.selected=!1);t.update(),t.schedule_api.getEventByLevel(t.summit.id,e.level)}.bind(this),this.selectTrack=function(){var e=$("#track-select").val();t.setSelectedTrack(t.summit.tracks[e])}.bind(this),this.setSelectedTrack=function(e){e.selected=!0,$(window).url_fragment("setParam","track",e.id),$(window).url_fragment("setParam","day",""),$(window).url_fragment("setParam","level",""),window.location.hash=$(window).url_fragment("serialize");for(var n in t.summit.tracks)n=t.summit.tracks[n],n.id!==e.id&&(n.selected=!1);t.update(),t.schedule_api.getEventByTrack(t.summit.id,e.id)}.bind(this),this.pad=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}.bind(this)})},function(e,t,n){"use strict";var i=n(2);i.tag2("schedule-global-filter",'<div class="row global-search-container"> <form id="form-schedule-global-search" name="form-schedule-global-search" class="form-inline all-events-search-form" method="get" action="{opts.search_url}"> <div class="col-xs-12 col-sm-4 col-sm-offset-8 global-search-div"> <div class="input-group" style="width: 100%;"> <input data-rule-required="true" data-rule-minlength="3" value="{opts.value}" type="text" id="t" name="t" class="form-control input-global-search" placeholder="Search by Track/Event/Title"> <span class="input-group-btn" style="width: 5%;"> <button class="btn btn-default btn-global-search" type="submit"><i class="fa fa-search"></i></button> <button if="{opts.clear_url}" class="btn btn-default btn-global-search-clear" onclick="{clearClicked}"><i class="fa fa-times"></i></button> </span> </div> </div> </form> </div>',"","",function(e){
this.on("mount",function(){$("#form-schedule-global-search").validate({errorPlacement:function(e,t){e.insertAfter($(".input-group","#form-schedule-global-search"))}})}),this.clearClicked=function(t){window.location=e.clear_url}.bind(this)})},function(e,t,n){"use strict";var i=n(2);i.tag2("schedule-main-filters",'<div class="row all-events-filter-row"> <div class="col-md-4 col-xs-12 all-events-filter-link"> <div class="col-filter-btn"> <i title="" data-placement="right" data-toggle="tooltip" id="toggle-all-events-filters" class="fa fa-filter" data-original-title="Toggle Advanced Filters"></i> </div> <div class="col-filter-title"> <span>Schedule&nbsp;Filters</span> <a onclick="{clearFilters}" id="clear-filters">CLEAR&nbsp;FILTERS&nbsp;<i class="fa fa-times"></i></a> </div> </div> <div class="col-md-7 col-xs-12"> <div class="col-view-all-schedule"> <form action="{base_url+\'mine/\'}" method="POST" if="{mine}"> <input type="hidden" name="goback" value="1"> <button type="submit" class="btn btn-default view-all-schedule">View&nbsp;/&nbsp;Print&nbsp;My&nbsp;Schedule</button> </form> <form action="{base_url+\'full/\'}" method="POST" if="{!mine}"> <input type="hidden" name="goback" value="1"> <button type="submit" class="btn btn-default view-all-schedule">View&nbsp;/&nbsp;Print&nbsp;Full&nbsp;Schedule</button> </form> </div> <div class="col-select-all-calendar-own" if="{mine}"> <input type="checkbox" id="chk_select_all" title="select/unselect all events"> </div> <div class="col-sync-calendar-own" if="{mine}"> <div class="btn-group"> <button type="button" class="btn btn-default">Sync to Calendar</button> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span> </button> <ul class="dropdown-menu"> <li><a data-target="#" class="link-google-sync" id="link_google_sync"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>&nbsp;Google&nbsp;sync</a></li> <li><a data-target="#" class="link-google-unsync" id="link_google_unsync"><i class="fa fa-calendar-times-o" aria-hidden="true"></i>&nbsp;Google&nbsp;unsync</a></li> <li role="separator" class="divider"></li> <li><a data-target="#" class="link-export-ics" id="link_export_ics"><span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span>&nbsp;Export&nbsp;ICS</a></li> </ul> </div> </div> <div class="col-switch-schedule"> <button if="{summit.current_user !== null}" type="button" class="btn btn-primary pull-right switch_schedule full"> <span class="glyphicon glyphicon-calendar"></span>&nbsp;<span class="content">Switch&nbsp;to&nbsp;My&nbsp;Schedule</span> </button> </div> </div> </div> <div class="rsvp-note" if="{summit.current_user !== null}"> Please note that adding an item to "My Schedule" does not guarantee a seat in the presentation. Rooms fill up fast, so get there early. Some events require an RSVP and, in those cases, you will see a link to RSVP to the event. </div> <div id="all-events-filter-wrapper" class="row"> <div class="col-sm-12"> <a href="{summit.track_list_link}" target="_blank">Learn more about the {summit.title} Summit Categories and Tracks.</a> </div> <div class="col-sm-15 col-xs-12 single-filter-wrapper"> <select id="ddl_track_groups" name="ddl_track_groups" data-placeholder="Summit Categories" size="5" multiple="multiple"> <option each="{track_group_id, idx in summit.category_group_ids}" value="{track_group_id}">{summit.category_groups[track_group_id].name}</option> </select> </div> <div class="col-sm-15 col-xs-12 single-filter-wrapper"> <select id="ddl_tracks" data-placeholder="Tracks" multiple="multiple" style="overflow-y: scroll;"> <option each="{track_id, idx in summit.track_ids}" value="{track_id}">{summit.tracks[track_id].name}</option> </select> </div> <div class="col-sm-15 col-xs-12 single-filter-wrapper" style="display:none;"> <select id="ddl_event_types" name="ddl_event_types" data-placeholder="Event Types" size="7" multiple="multiple"> <option each="{event_type_id, idx in summit.event_type_ids}" value="{event_type_id}">{summit.event_types[event_type_id].type}</option> </select> </div> <div class="col-sm-15 col-xs-12 single-filter-wrapper"> <select id="ddl_levels" data-placeholder="Presentation Level" multiple="multiple"> <option each="{id, obj in summit.presentation_levels}" value="{id}">{obj.level}</option> </select> </div> <div class="col-sm-15 col-xs-12 single-filter-wrapper"> <select id="ddl_tags" data-placeholder="Tags" multiple="multiple" style="overflow-y: scroll;"> <option each="{tag_id, idx in summit.tag_ids}" value="{tag_id}">{summit.tags[tag_id].name}</option> </select> </div> </div>',"","",function(e){this.summit=e.summit,this.schedule_filters=e.schedule_filters,this.calendar_synch=e.calendar_synch,this.atomic_filtering=!1,this.base_url=e.base_url,this.mine=!1;var t=this;this.on("mount",function(){"ontouchstart"in window||$('[data-toggle="tooltip"]').tooltip(),$("#toggle-all-events-filters").click(function(e){$("#all-events-filter-wrapper").is(":hidden")?($("#all-events-filter-wrapper").slideDown("slow"),$("#clear-filters").show()):($("#all-events-filter-wrapper").slideUp("slow"),$("#clear-filters").hide()),$(this).toggleClass("active"),e.preventDefault()}),$(document).on("click","#chk_select_all",function(){var e=$(".select-event-chk:visible");console.log("checked "+e.length+" events"),e.prop("checked",$(this).is(":checked"))}),$("#ddl_track_groups").chosen({width:"100%"}),$("#ddl_event_types").chosen({width:"100%"}),$("#ddl_tracks").chosen({width:"100%"}),$("#ddl_tags").chosen({width:"100%"}),$("#ddl_levels").chosen({width:"100%"}),$("#ddl_track_groups").change(function(e,n){var i=$(".search-choice","#ddl_track_groups_chosen"),s=[],r=$("#ddl_track_groups").val();$("#ddl_tracks").val("").trigger("chosen:updated"),$(window).url_fragment("setParam","tracks",""),window.location.hash=$(window).url_fragment("serialize"),$("#ddl_tracks option").show(),i.length>0&&i.each(function(e,t){var n=$(".search-choice-close",$(this)),i=$(n).attr("data-option-array-index"),s=$("#ddl_track_groups option")[parseInt(i)],r=$(s).attr("data-color");$(this).css("background-color",r),$(this).css("background-image","none")}),null!=r&&$.each(r,function(e,n){var i=t.summit.category_groups[n];s=s.concat(i.tracks)}),s.length>0&&$.each(t.summit.tracks,function(e,t){s.indexOf(t.id)<0&&$("#ddl_tracks").children("option[value="+t.id+"]").hide()}),$("#ddl_tracks").trigger("chosen:updated"),t.atomic_filtering||t.doFilter()}),$("#ddl_event_types").change(function(e,n){t.atomic_filtering||t.doFilter()}),$("#ddl_tracks").chosen().change(function(e){t.atomic_filtering||t.doFilter()}),$("#ddl_tags").chosen().change(function(e){t.atomic_filtering||t.doFilter()}),$("#ddl_levels").chosen().change(function(e){t.atomic_filtering||t.doFilter()}),$(".switch_schedule").click(function(e){$(this).hasClass("full")?(t.mine=!0,$(".content",this).text("Switch to Full Schedule")):(t.mine=!1,$(".content",this).text("Switch to My Schedule")),$(this).toggleClass("full"),t.atomic_filtering||t.doFilter(),t.update()});var e=$(window).url_fragment("getParams");if(e){t.atomic_filtering=!0;for(var n in e){var i=e[n],s=null;switch(n){case"track_groups":s=$("#ddl_track_groups");break;case"event_types":s=$("#ddl_event_types");break;case"tracks":s=$("#ddl_tracks");break;case"tags":s=$("#ddl_tags");break;case"levels":s=$("#ddl_levels")}null!=s&&(s.val(i.split(",")),s.trigger("chosen:updated").trigger("change"),$("#toggle-all-events-filters").click())}t.atomic_filtering=!1,t.doFilter()}}),this.doFilter=function(){var e=null!==this.summit.current_user&&$(".switch_schedule").hasClass("full")===!1,n={track_groups:$("#ddl_track_groups").val(),event_types:$("#ddl_event_types").val(),tracks:$("#ddl_tracks").val(),tags:$("#ddl_tags").val(),levels:$("#ddl_levels").val(),own:e};$(window).url_fragment("setParam","track_groups",n.track_groups),$(window).url_fragment("setParam","event_types",n.event_types),$(window).url_fragment("setParam","tracks",n.tracks),$(window).url_fragment("setParam","tags",n.tags),$(window).url_fragment("setParam","levels",n.levels),window.location.hash=$(window).url_fragment("serialize"),t.schedule_filters.publishFiltersChanged(n)}.bind(this),this.clearFilters=function(){$("#ddl_track_groups").val("").trigger("chosen:updated"),$("#ddl_event_types").val("").trigger("chosen:updated"),$("#ddl_tracks").val("").trigger("chosen:updated"),$("#ddl_tags").val("").trigger("chosen:updated"),$("#ddl_levels").val("").trigger("chosen:updated"),t.doFilter()}.bind(this),this.schedule_filters.on("scheduleToggleFilters",function(e){e?($(".all-events-filter-link").fadeOut(),$("#all-events-filter-wrapper").slideUp(),$("#toggle-all-events-filters").removeClass("active"),t.clearFilters()):$(".all-events-filter-link").fadeIn()})})},function(e,t,n){"use strict";var i=n(2);i.tag2("schedule-grid-events",'<div class="row" id="events-inner-container"> </div> <div class="row" style="display:none;"> <div class="col-md-12"> <p>* There are not events that match your search criteria. </p> </div> </div> <div class="row" id="no_events_msg" style="display:none;margin-top: 25px;"> <div class="col-md-12"> <p>* The combination of filters you have selected resulted in no matching events. Please adjust the filters or try different search parameters.</p> </div> </div>',"","",function(e){this.summit=e.summit,this.events=[],this.dic_events=[],this.schedule_filters=e.schedule_filters,this.search_url=e.search_url,this.schedule_api=e.schedule_api,this.base_url=e.base_url,this.default_event_color=e.default_event_color,this.current_filter=null,this.show_date=!1,this.day_selected="";var t=this;this.on("mount",function(){$(document).off("click",".icon-event-action").on("click",".icon-event-action",function(e){console.log("my schedule icon pressed ...");var n=$(this).data("event-id"),i=t.dic_events[n];return $(this).hasClass("foreign")?(t.schedule_api.addEvent2MySchedule(t.summit.id,i.id),$(this).removeClass("foreign"),i.own=!0,$(".myschedule-icon",$(this)).removeClass("icon-foreign-event"),$(".myschedule-icon",$(this)).addClass("icon-own-event"),$(this).addClass("own"),!1):$(this).hasClass("own")?(t.schedule_api.removeEventFromMySchedule(t.summit.id,i.id),$(this).removeClass("own"),i.own=!1,$(".myschedule-icon",$(this)).removeClass("icon-own-event"),$(".myschedule-icon",$(this)).addClass("icon-foreign-event"),$(this).addClass("foreign"),t.current_filter.own&&$("#event_"+n).fadeOut({duration:1e3,queue:!1}).slideUp(200),!1):void 0}),$(document).on("click","#link_google_sync",function(){console.log("clicked link_google_sync");var e=$(".select-event-chk:checkbox:checked");if(0==e.length)return sweetAlert("Oops...","you must select at least one event!","error"),!0;var n=[];return e.each(function(){var e=$(this).data("event-id"),i=t.dic_events[e];return""!=i.gcal_id&&null!=i.gcal_id?(sweetAlert("Oops...","you selected one or more events that are already synched!","error"),!0):void n.push(i)}),GoogleCalendarApi.isAuthorized()?(GoogleCalendarApi.addEvents(n,t.addEventCallback),e.prop("checked",!1),!0):(GoogleCalendarApi.doUserAuth(function(){GoogleCalendarApi.addEvents(n,t.addEventCallback),e.prop("checked",!1)}),!0)}),$(document).on("click","#link_google_unsync",function(){console.log("clicked link_google_unsync");var e=$(".select-event-chk:checkbox:checked");if(0==e.length)return sweetAlert("Oops...","you must select at least one event!","error"),!0;var n=[];return e.each(function(){var e=$(this).data("event-id"),i=t.dic_events[e];return""==i.gcal_id||null==i.gcal_id?(sweetAlert("Oops...","you selected one or more events that are not synched!","error"),!0):void n.push(i)}),GoogleCalendarApi.isAuthorized()?(GoogleCalendarApi.removeEvents(n,t.removeEventCallback),e.prop("checked",!1),!0):(GoogleCalendarApi.doUserAuth(function(){GoogleCalendarApi.removeEvents(n,t.removeEventCallback),e.prop("checked",!1)}),!0)}),$(document).on("click","#link_export_ics",function(){console.log("clicked link_export_ics");var e=$(".select-event-chk:checkbox:checked");if(0==e.length)return sweetAlert("Oops...","you must select at least one event!","error"),!0;var n=[];e.each(function(){var e=$(this).data("event-id");n.push(e)});var i="api/v1/summits/@SUMMIT_ID/schedule/export/ics";return i=i.replace("@SUMMIT_ID",t.summit.id)+"?events_id="+n.join(),window.open(i,"","width=0,height=0,menubar=no,location=no,resizable=no,scrollbars=no,status=no"),!0}),$(document).off("click",".main-event-content").on("click",".main-event-content",function(e){if($(e.target).is(".icon-event-action, .myschedule-icon"))return!1;if($(e.target).is(".synch-container, .select-event-chk"))return!0;if($(e.target).is(".synch-container, .sync-icon"))return!1;if($(e.target).hasClass("search-link"))return!0;var n=$(e.currentTarget).attr("data-event-id"),i=$("#event_details_"+n),s=!i.hasClass("loaded");if(i.is(":hidden")){if(i.slideDown("slow"),s){i.html('<i class="fa fa-spinner fa-spin" style="font-size:24px"></i>');var r=t.parent.base_url+"events/"+n+"/html";$.ajax({type:"GET",url:r,timeout:6e4,success:function(e,t,n){i.html(e),i.addClass("loaded")}}).fail(function(e,t,n){alert("there was an error, please contact your administrator")})}}else i.slideUp("slow");return e.preventDefault(),e.stopPropagation(),!1}),$(document).off("click",".sync-icon").on("click",".sync-icon",function(e){e.preventDefault(),e.stopPropagation();var n=$(e.currentTarget).parents(".main-event-content").attr("data-event-id"),i=t.dic_events[n];if(i.location=t.getSummitLocation(i),selected_events=[i],$(this).hasClass("icon-sync-event")){if(!GoogleCalendarApi.isAuthorized())return GoogleCalendarApi.doUserAuth(function(){GoogleCalendarApi.removeEvents(selected_events,t.removeEventCallback)}),!1;GoogleCalendarApi.removeEvents(selected_events,t.removeEventCallback)}if($(this).hasClass("icon-unsync-event")){if(!GoogleCalendarApi.isAuthorized())return GoogleCalendarApi.doUserAuth(function(){GoogleCalendarApi.addEvents(selected_events,t.addEventCallback)}),!1;GoogleCalendarApi.addEvents(selected_events,t.addEventCallback)}return!1})}),this.addEventCallback=function(e,n){n.gcal_id=e.result.id,console.log(" event.id "+n.id+" cal id "+e.result.id),t.schedule_api.googleCalSynch(n)}.bind(this),this.removeEventCallback=function(e,n){t.schedule_api.googleCalUnSynch(n)}.bind(this),this.schedule_api.on("googleEventSynchSaved",function(e){var t=$('.icon-event-synched[data-event-id="'+e.id+'"]'),n=$(".sync-icon",t);return n.hasClass("icon-unsync-event")?(n.removeClass("icon-unsync-event").addClass("icon-sync-event"),void n.attr("title","Syncronized")):(e.gcal_id="",n.removeClass("icon-sync-event").addClass("icon-unsync-event"),void n.attr("title","Unsyncronized"))}),this.schedule_api.on("beforeEventsRetrieved",function(){$("#events-container").ajax_loader()}),this.schedule_api.on("eventsRetrieved",function(e){t.show_date=e.show_date,t.day_selected=e.day_selected,t.events=e.events;var n=null!==t.summit.current_user?'<div class="col-sm-3 my-schedule-container"><span class="icon-event-action"><i class="fa fa-plus-circle myschedule-icon"></i>&nbsp;My&nbsp;schedule</span></div>':"",i=null!==t.summit.current_user?'<div style="display:none" class="col-md-2 synch-container"><span class="icon-event-synched"><i class="fa fa-refresh sync-icon" title="" style="cursor:pointer" aria-hidden="true"></i>&nbsp;Sync&nbsp;</span><input type="checkbox" title="select event" class="select-event-chk"/></div>':"",s=$('<div class="col-md-12"><div class="row event-row"><div class="col-sm-12"><div class="row main-event-content"><div class="event-content"><div class="row row_location"><div class="col-sm-3 col-time"><i class="fa fa-clock-o icon-clock"></i><span class="event-date"></span>&nbsp;<span class="start-time" data-epoch=""></span>-<span class="end-time"></span></div><div class="col-sm-6 col-location"><div>'+(t.summit.should_show_venues?'<i class="fa fa-map-marker icon-map"></i>&nbsp;<a class="search-link venue-search-link"></a>':"")+"</div></div>"+n+'</div><div class="row"><div class="col-md-10 event-title"></div>'+i+'</div><div class="row"><div class="col-xs-8 col-track"><span class="track"><a class="search-link track-search-link" title="Search Track"></a></span></div><div class="col-xs-4 event-type-col"><a class="search-link event-type-search-link" title="Search Event Type"></a></div></div></div></div><div class="row event-details" style="display:none;"></div></div></div></div>');console.log(t.events.length+" events retrieved ...");var r={"div.event-details@id":function(e){return"event_details_"+e.item.id},"@id":function(e){return"event_"+e.item.id},"div.event-title":"event.title","div.main-event-content@data-event-id":"event.id","div.main-event-content@style":function(e){var n=e.item.category_group_ids,i=e.item.type_id,s=0==n.length?t.summit.event_types[i].color:t.summit.category_groups[n[0]].color;return"border-left: 3px solid "+s},"span.track@style":function(e){"SummitEvent"===e.item.class_name?"display:none":""},"a.track-search-link":function(e){var n=e.item.track_id;return"undefined"!=typeof n?t.summit.tracks[n].name:""},"a.track-search-link@href":function(e){var n=e.item.track_id,i="";return"undefined"!=typeof n&&(i=t.summit.tracks[n].name),""!=i?t.search_url+"?t="+encodeURIComponent(i.replace(/ /g,"+")):""},"a.event-type-search-link":function(e){return t.summit.event_types[e.item.type_id].type},"a.event-type-search-link@href":function(e){return t.search_url+"?t="+encodeURIComponent(t.summit.event_types[e.item.type_id].type.replace(/ /g,"+"))}};t.show_date&&(r["span.event-date"]=function(e){return" "+e.item.date_nice+" ,"}),r["span.start-time"]="event.start_time",r["span.start-time@data-epoch"]="event.start_epoch",r["span.end-time"]="event.end_time",t.summit.should_show_venues&&(r["a.venue-search-link"]=function(e){return t.getSummitLocation(e.item)},r["a.venue-search-link@href"]=function(e){return e.item.location_id?t.summit.locations[e.item.location_id].link:"/summit/barcelona-2016/venues"}),null!==t.summit.current_user&&(r["i.myschedule-icon@class+"]=function(e){return e.item.own?" icon-own-event":" icon-foreign-event"},r["span.icon-event-action@id"]=function(e){return"event_myschedule_action_"+e.item.id},r["span.icon-event-action@title"]=function(e){return e.item.own?"remove from my schedule":"add to my schedule"},r["span.icon-event-action@data-event-id"]=function(e){var n=e.item;return t.dic_events[n.id]=n,n.id},r["span.icon-event-action@class+"]=function(e){return e.item.own?" own":" foreign"},r["i.sync-icon@title"]=function(e){return""!=e.item.gcal_id&&null!=e.item.gcal_id?"Syncronized":"Unsyncronized"},r["i.sync-icon@class+"]=function(e){return""!=e.item.gcal_id&&null!=e.item.gcal_id?" icon-sync-event":" icon-unsync-event"},r["span.icon-event-synched@data-event-id"]=function(e){return e.item.id},r["input.select-event-chk@id"]=function(e){return"select_event_chk_"+e.item.id},r["input.select-event-chk@data-event-id"]=function(e){return e.item.id});var a={"div.event-row":{"event<-":r}},o=s.render(e.events,a);$("#events-inner-container").html(o),t.scrollToTime(),t.applyFilters(),window.setTimeout(function(){$("#events-container").ajax_loader("stop")},1e3)}),this.schedule_filters.on("scheduleFiltersChanged",function(e){t.current_filter=e,t.applyFilters()}),this.isFilterEmpty=function(){return t.isTrackGroupsFilterEmpty()&&t.isEventTypesFilterEmpty()&&t.isTracksFilterEmpty()&&t.isLevelsFilterEmpty()&&t.isTagsFilterEmpty()&&t.isMyScheduleFilterEmpty()}.bind(this),this.isEventTypesFilterEmpty=function(){return null===t.current_filter.event_types||0===t.current_filter.event_types.length}.bind(this),this.isTrackGroupsFilterEmpty=function(){return null===t.current_filter.track_groups||0===t.current_filter.track_groups.length}.bind(this),this.isTracksFilterEmpty=function(){return null===t.current_filter.tracks||0===t.current_filter.tracks.length}.bind(this),this.isLevelsFilterEmpty=function(){return null===t.current_filter.levels||0===t.current_filter.levels.length}.bind(this),this.isTagsFilterEmpty=function(){return null===t.current_filter.tags||0===t.current_filter.tags.length}.bind(this),this.isMyScheduleFilterEmpty=function(){return!t.current_filter.own}.bind(this),this.getSummitLocation=function(e){var n=t.summit.locations[e.location_id];return"undefined"==typeof n?"TBA":n.name_nice}.bind(this),this.applyFilters=function(){var e=0;if($(".event-row").show(),t.current_filter.own?$(".synch-container").show():$(".synch-container").hide(),!t.isFilterEmpty()){for(var n=t.events,i=Array.isArray(n),s=0,n=i?n:n[Symbol.iterator]();;){var r;if(i){if(s>=n.length)break;r=n[s++]}else{if(s=n.next(),s.done)break;r=s.value}var a=r,o=!0;t.isTrackGroupsFilterEmpty()||(o&=!!a.hasOwnProperty("track_id")&&t.current_filter.track_groups.some(function(e){return t.summit.category_groups[parseInt(e)].tracks.indexOf(parseInt(a.track_id))!=-1})),o?(t.isEventTypesFilterEmpty()||(o&=t.current_filter.event_types.indexOf(a.type_id.toString())>-1),o?(t.isTracksFilterEmpty()||(o&=!!a.hasOwnProperty("track_id")&&t.current_filter.tracks.indexOf(a.track_id.toString())>-1),o?(t.isLevelsFilterEmpty()||(o&=!!a.hasOwnProperty("level")&&t.current_filter.levels.indexOf(a.level.toString())>-1),o?(t.isTagsFilterEmpty()||(o&=a.tags_id.some(function(e){return t.current_filter.tags.indexOf(e.toString())!=-1})),o?(t.current_filter.own&&(o&=a.own),o?($("#event_"+a.id).show(),e++):$("#event_"+a.id).hide()):$("#event_"+a.id).hide()):$("#event_"+a.id).hide()):$("#event_"+a.id).hide()):$("#event_"+a.id).hide()):$("#event_"+a.id).hide()}0==e?$("#no_events_msg").show():$("#no_events_msg").hide()}}.bind(this),this.scrollToTime=function(){var e=new Date,n=e.getMonth()+1,i=e.getDate(),s=e.getFullYear()+"-"+(n<10?"0":"")+n+"-"+(i<10?"0":"")+i;if(s==t.day_selected){var r=$(".start-time[data-epoch]").filter(function(){return $(this).data("epoch")>=$.now()/1e3}).first();r&&$("html, body").animate({scrollTop:r.parents(".event-row").offset().top},2e3)}}.bind(this)})},function(e,t,n){"use strict";var i=n(2);i.tag2("raw","<span></span>","","",function(e){this.root.innerHTML=e.content}),i.tag2("schedule-grid",'<schedule-grid-nav month="{month}" schedule_filters="{schedule_filters}"></schedule-grid-nav> <div> <div id="events-container"> <schedule-main-filters summit="{summit}" schedule_filters="{schedule_filters}" base_url="{base_url}"></schedule-main-filters> <schedule-grid-events summit="{summit}" default_event_color="{default_event_color}" search_url="{search_url}" schedule_filters="{schedule_filters}" base_url="{base_url}" schedule_api="{schedule_api}"></schedule-grid-events> </div>',"","",function(e){this.summit=e.summit,this.month=e.month,this.schedule_api=e.schedule_api,this.schedule_filters=e.schedule_filters,this.search_url=e.search_url,this.base_url=e.base_url,this.default_event_color=e.default_event_color;var t=location.protocol,n=t.concat("//");this.host=n.concat(window.location.hostname)})}]);